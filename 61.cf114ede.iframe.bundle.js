"use strict";(self.webpackChunk_kelvininc_react_storybook=self.webpackChunk_kelvininc_react_storybook||[]).push([[61],{"../../packages/react-ui-components/dist/client.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ekz:()=>EApplyDefaults,XjS:()=>ECodeEditorTheme,Q_0:()=>KvAbsoluteTimePicker,XO9:()=>KvAbsoluteTimePickerDropdown,$Hr:()=>KvAbsoluteTimePickerDropdownInput,S51:()=>KvActionButton,H8O:()=>KvActionButtonIcon,y7j:()=>KvActionButtonSplit,BEc:()=>KvActionButtonText,qHO:()=>KvAlert,lBw:()=>KvBadge,LpE:()=>KvBreadcrumb,EgV:()=>KvBreadcrumbItem,tyv:()=>KvBreadcrumbList,oqY:()=>KvCalendar,IH5:()=>KvCalendarDay,TlD:()=>KvCheckbox,RRO:()=>KvCodeDiffEditor,I$g:()=>KvCodeEditor,EwR:()=>KvCopyToClipboard,f8_:()=>KvDateTimeInput,k2D:()=>KvDescriptionList,rJw:()=>KvDropdown,a3G:()=>KvFormHelpText,Qnd:()=>KvFormLabel,rL$:()=>KvIcon,GH6:()=>KvIllustration,CrO:()=>KvInfoLabel,vq4:()=>KvInlineEditableField,Oov:()=>KvLink,v0f:()=>KvLoader,lMf:()=>KvModal,ysN:()=>KvMultiSelectDropdown,RJ7:()=>KvRadio,LGb:()=>KvRadioList,aGr:()=>KvRadioListItem,x_g:()=>KvRange,$uo:()=>KvRelativeTimePicker,TR:()=>KvSchemaForm,EpH:()=>KvSearch,icF:()=>KvSelect,Lho:()=>KvSelectOption,$Nv:()=>KvSingleSelectDropdown,anw:()=>KvStateIndicator,zq7:()=>KvStepIndicator,Srp:()=>KvStepProgressBar,wyJ:()=>KvSummaryCard,WAL:()=>KvSwitchButton,chQ:()=>KvTabItem,j5l:()=>KvTabNavigation,gT3:()=>KvTag,NIw:()=>KvTagAlarm,qY7:()=>KvTagLetter,KnB:()=>KvTagStatus,S1i:()=>KvTextArea,xag:()=>KvTextField,$Sm:()=>KvTimePicker,ayR:()=>KvToaster,CyG:()=>KvToggleButton,lFd:()=>KvToggleButtonGroup,eyO:()=>KvToggleSwitch,$BR:()=>KvToggleTip,ZxS:()=>KvTooltip,En9:()=>KvTree,p_V:()=>KvTreeDropdown,DoX:()=>KvTreeItem,pRm:()=>KvWizard,cvP:()=>KvWizardFooter,mHW:()=>ModalOverlay,hSE:()=>useModal});var tslib_es6=__webpack_require__("../../node_modules/.pnpm/tslib@2.7.0/node_modules/tslib/tslib.es6.mjs"),react=__webpack_require__("../../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),react_dom=__webpack_require__("../../node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/index.js"),index_DSUH1AMU=__webpack_require__("../../packages/ui-components/dist/esm/index-DSUH1AMU.js");const globalScripts=__webpack_require__("../../packages/ui-components/dist/esm/globals-nQoNqWfi.js").i;__webpack_require__("../../packages/ui-components/dist/esm/config-BnBnZdyg.js"),__webpack_require__("../../packages/ui-components/dist/esm/get-CQN4erwW.js"),__webpack_require__("../../packages/ui-components/dist/esm/_Map-B6Xd0L4K.js"),__webpack_require__("../../packages/ui-components/dist/esm/isObject-Dkd2PDJ-.js"),__webpack_require__("../../packages/ui-components/dist/esm/isSymbol-CfrylQep.js"),__webpack_require__("../../packages/ui-components/dist/esm/_MapCache-nTWrGhJJ.js");!function(){if("undefined"!=typeof window&&void 0!==window.Reflect&&void 0!==window.customElements){var a=HTMLElement;window.HTMLElement=function(){return Reflect.construct(a,[],this.constructor)},HTMLElement.prototype=a.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,a)}}();var esm=__webpack_require__("../../packages/ui-components/dist/esm/index.js"),jsx_runtime=__webpack_require__("../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js"),isPlainObject=__webpack_require__("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isPlainObject.js"),isEqualWith=__webpack_require__("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isEqualWith.js"),get=__webpack_require__("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/get.js"),isEmpty=__webpack_require__("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isEmpty.js"),jsonpointer=__webpack_require__("../../node_modules/.pnpm/jsonpointer@5.0.1/node_modules/jsonpointer/jsonpointer.js"),omit=__webpack_require__("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/omit.js"),has=__webpack_require__("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/has.js"),isNumber=__webpack_require__("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isNumber.js"),isObject=__webpack_require__("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObject.js"),isString=__webpack_require__("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isString.js"),reduce=__webpack_require__("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/reduce.js"),times=__webpack_require__("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/times.js"),set=__webpack_require__("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/set.js"),transform=__webpack_require__("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/transform.js"),merge=__webpack_require__("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/merge.js"),flattenDeep=__webpack_require__("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/flattenDeep.js"),uniq=__webpack_require__("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/uniq.js"),src=__webpack_require__("../../node_modules/.pnpm/json-schema-merge-allof@0.8.1/node_modules/json-schema-merge-allof/src/index.js"),src_default=__webpack_require__.n(src),union=__webpack_require__("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/union.js"),isNil=__webpack_require__("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isNil.js"),cloneDeep=__webpack_require__("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/cloneDeep.js"),setWith=__webpack_require__("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/setWith.js"),react_is=__webpack_require__("../../node_modules/.pnpm/react-is@18.3.1/node_modules/react-is/index.js"),toPath=__webpack_require__("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/toPath.js"),keys=__webpack_require__("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/keys.js"),pickBy=__webpack_require__("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/pickBy.js"),difference=__webpack_require__("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/difference.js"),forEach=__webpack_require__("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/forEach.js"),pick=__webpack_require__("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/pick.js"),index_browser=__webpack_require__("../../node_modules/.pnpm/nanoid@3.3.7/node_modules/nanoid/index.browser.js"),index_modern=__webpack_require__("../../node_modules/.pnpm/markdown-to-jsx@7.5.0_react@18.3.1/node_modules/markdown-to-jsx/dist/index.modern.js"),unset=__webpack_require__("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/unset.js"),classnames=__webpack_require__("../../node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),throttle=__webpack_require__("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/throttle.js"),isEqual=__webpack_require__("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isEqual.js"),isArray=__webpack_require__("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArray.js"),isBoolean=__webpack_require__("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isBoolean.js"),dist_ajv=__webpack_require__("../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/ajv.js"),ajv_default=__webpack_require__.n(dist_ajv),dist=__webpack_require__("../../node_modules/.pnpm/ajv-formats@2.1.1_ajv@8.17.1/node_modules/ajv-formats/dist/index.js"),dist_default=__webpack_require__.n(dist),react_dist=__webpack_require__("../../node_modules/.pnpm/@monaco-editor+react@4.6.0_monaco-editor@0.34.1_react-dom@18.3.1_react@18.3.1/node_modules/@monaco-editor/react/dist/index.mjs");const camelToDashCase=str=>str.replace(/([A-Z])/g,(m=>`-${m[0].toLowerCase()}`)),getClassName=(classList,newProps,oldProps)=>{const newClassProp=newProps.className||newProps.class,oldClassProp=oldProps.className||oldProps.class,currentClasses=arrayToMap(classList),incomingPropClasses=arrayToMap(newClassProp?newClassProp.split(" "):[]),oldPropClasses=arrayToMap(oldClassProp?oldClassProp.split(" "):[]),finalClassNames=[];return currentClasses.forEach((currentClass=>{incomingPropClasses.has(currentClass)?(finalClassNames.push(currentClass),incomingPropClasses.delete(currentClass)):oldPropClasses.has(currentClass)||finalClassNames.push(currentClass)})),incomingPropClasses.forEach((s=>finalClassNames.push(s))),finalClassNames.join(" ")},isCoveredByReact=eventNameSuffix=>{if("undefined"==typeof document)return!0;{const eventName="on"+(eventNameSuffix=>"doubleclick"===eventNameSuffix?"dblclick":eventNameSuffix)(eventNameSuffix);let isSupported=eventName in document;if(!isSupported){const element=document.createElement("div");element.setAttribute(eventName,"return;"),isSupported="function"==typeof element[eventName]}return isSupported}},syncEvent=(node,eventName,newEventHandler)=>{const eventStore=node.__events||(node.__events={}),oldEventHandler=eventStore[eventName];oldEventHandler&&node.removeEventListener(eventName,oldEventHandler),node.addEventListener(eventName,eventStore[eventName]=function handler(e){newEventHandler&&newEventHandler.call(this,e)})},arrayToMap=arr=>{const map=new Map;return arr.forEach((s=>map.set(s,s))),map},mergeRefs=(...refs)=>value=>{refs.forEach((ref=>{((ref,value)=>{"function"==typeof ref?ref(value):null!=ref&&(ref.current=value)})(ref,value)}))},createReactComponent=(tagName,ReactComponentContext,manipulatePropsFunction,defineCustomElement)=>{const displayName=tagName.toLowerCase().split("-").map((segment=>segment.charAt(0).toUpperCase()+segment.slice(1))).join("");return((ReactComponent,displayName)=>{const forwardRef=(props,ref)=>react.createElement(ReactComponent,Object.assign({},props,{forwardedRef:ref}));return forwardRef.displayName=displayName,react.forwardRef(forwardRef)})(class extends react.Component{constructor(props){super(props),this.setComponentElRef=element=>{this.componentEl=element}}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(prevProps){((node,newProps,oldProps={})=>{if(node instanceof Element){const className=getClassName(node.classList,newProps,oldProps);""!==className&&(node.className=className),Object.keys(newProps).forEach((name=>{if("children"!==name&&"style"!==name&&"ref"!==name&&"class"!==name&&"className"!==name&&"forwardedRef"!==name)if(0===name.indexOf("on")&&name[2]===name[2].toUpperCase()){const eventName=name.substring(2),eventNameLc=eventName[0].toLowerCase()+eventName.substring(1);isCoveredByReact(eventNameLc)||syncEvent(node,eventNameLc,newProps[name])}else node[name]=newProps[name],"string"==typeof newProps[name]&&node.setAttribute(camelToDashCase(name),newProps[name])}))}})(this.componentEl,this.props,prevProps)}render(){const _a=this.props,{children,forwardedRef,style,className,ref}=_a,cProps=(0,tslib_es6.Tt)(_a,["children","forwardedRef","style","className","ref"]);let propsToPass=Object.keys(cProps).reduce(((acc,name)=>{const value=cProps[name];if(0===name.indexOf("on")&&name[2]===name[2].toUpperCase()){const eventName=name.substring(2).toLowerCase();"undefined"!=typeof document&&isCoveredByReact(eventName)&&(acc[name]=value)}else{const type=typeof value;"string"!==type&&"boolean"!==type&&"number"!==type||(acc[camelToDashCase(name)]=value)}return acc}),{});const newProps=Object.assign(Object.assign({},propsToPass),{ref:mergeRefs(forwardedRef,this.setComponentElRef),style});return(0,react.createElement)(tagName,newProps,children)}static get displayName(){return displayName}},displayName)};(async(win,options)=>{if("undefined"!=typeof window)await globalScripts(),(0,index_DSUH1AMU.b)(JSON.parse('[["kv-icon",[[257,"kv-icon",{"name":[513],"customClass":[513,"custom-class"],"customColor":[513,"custom-color"]}]]],["kv-time-picker",[[256,"kv-time-picker",{"inputConfig":[16,"input-config"],"dropdownPositionOptions":[16,"dropdown-position-options"],"disabled":[516],"showCalendar":[516,"show-calendar"],"selectedTimeOption":[16,"selected-time-option"],"relativeTimePickerOptions":[16,"relative-time-picker-options"],"timezones":[16],"disableTimezoneSelection":[516,"disable-timezone-selection"],"displayCustomizeInterval":[516,"display-customize-interval"],"displayTimezoneDropdown":[516,"display-timezone-dropdown"],"calendarInputMinDate":[2,"calendar-input-min-date"],"calendarInputMaxDate":[2,"calendar-input-max-date"],"zIndex":[2,"z-index"],"tooltipPosition":[1,"tooltip-position"],"timePickerView":[32],"selectedTimeState":[32],"dropdownOpen":[32],"applyButtontooltipText":[32],"calendarViewLocked":[32],"timezoneSelectionContentVisible":[32],"internalDropdownsOpen":[32]},null,{"selectedTimeOption":["handleSelectTimeStateChange"],"showCalendar":["handleShowCalendarChange"]}]]],["kv-multi-select-dropdown",[[260,"kv-multi-select-dropdown",{"placeholder":[513],"loading":[516],"icon":[513],"searchable":[516],"searchPlaceholder":[513,"search-placeholder"],"selectionClearable":[516,"selection-clearable"],"clearSelectionLabel":[513,"clear-selection-label"],"required":[516],"label":[513],"displayValue":[513,"display-value"],"displayPrefix":[513,"display-prefix"],"badge":[513],"errorState":[513,"error-state"],"helpText":[513,"help-text"],"disabled":[516],"noDataAvailableConfig":[16,"no-data-available-config"],"noResultsFoundConfig":[16,"no-results-found-config"],"options":[16],"selectedOptions":[16,"selected-options"],"filteredOptions":[16,"filtered-options"],"minHeight":[513,"min-height"],"maxHeight":[513,"max-height"],"minWidth":[513,"min-width"],"maxWidth":[513,"max-width"],"inputSize":[513,"input-size"],"customClass":[513,"custom-class"],"dropdownOptions":[16,"dropdown-options"],"selectionAll":[4,"selection-all"],"selectAllLabel":[1,"select-all-label"],"counter":[4],"minSearchOptions":[514,"min-search-options"],"shortcuts":[516],"clickOutsideClose":[516,"click-outside-close"],"actionElement":[16,"action-element"],"zIndex":[2,"z-index"],"inputConfig":[16,"input-config"],"autoFocus":[516,"auto-focus"],"hideBadge":[516,"hide-badge"],"_selectionDisplayValue":[32],"_searchValue":[32],"_badgeLabel":[32],"_isOpen":[32],"focusSearch":[64]},null,{"badge":["badgeChangeHandler"],"options":["labelValueHandler"],"selectedOptions":["labelValueHandler"],"displayValue":["labelValueHandler"]}]]],["kv-absolute-time-picker-dropdown",[[256,"kv-absolute-time-picker-dropdown",{"inputConfig":[16,"input-config"],"dropdownPositionOptions":[16,"dropdown-position-options"],"selectedDates":[16,"selected-dates"],"timezone":[16],"timezones":[16],"disabledDates":[16,"disabled-dates"],"initialDate":[1,"initial-date"],"calendarInputMinDate":[2,"calendar-input-min-date"],"calendarInputMaxDate":[2,"calendar-input-max-date"],"mode":[1],"tooltipPosition":[1,"tooltip-position"],"headerTitle":[1,"header-title"],"disabled":[516],"dropdownOpen":[1028,"dropdown-open"],"calendarInitialDate":[32],"selectedDateState":[32]},null,{"selectedDates":["handleSelecteDatesChange"]}]]],["kv-wizard",[[257,"kv-wizard",{"steps":[16],"currentStep":[514,"current-step"],"currentStepState":[16,"current-step-state"],"showHeader":[516,"show-header"],"showStepBar":[516,"show-step-bar"],"disabled":[516],"completeBtnLabel":[513,"complete-btn-label"],"currentHeader":[32],"currentFooter":[32]},[[4,"keydown","handleKeyDown"]],{"steps":["stepsChangeHandler"],"currentStep":["currentStepChangeHandler"],"currentStepState":["hasErrorStepChangeHandler"]}]]],["kv-absolute-time-picker-dropdown-input",[[260,"kv-absolute-time-picker-dropdown-input",{"selectedTime":[16,"selected-time"],"timezone":[16],"mode":[1],"isDropdownOpen":[1028,"is-dropdown-open"],"disabled":[4],"initialDate":[2,"initial-date"],"minimumFromInputDate":[2,"minimum-from-input-date"],"minimumToInputDate":[2,"minimum-to-input-date"],"minimumSingleInputDate":[2,"minimum-single-input-date"],"rangeInputValues":[32],"singleTimeInputValue":[32],"displayedMonth":[32],"focusedInput":[32],"hoveredDate":[32]},null,{"selectedTime":["handleSelectedTimeChange"]}]]],["kv-tree-dropdown",[[257,"kv-tree-dropdown",{"nodes":[16],"loading":[516],"selectedNode":[1,"selected-node"],"hiddenNodes":[16,"hidden-nodes"],"expandedNodes":[16,"expanded-nodes"],"disabledNodes":[16,"disabled-nodes"],"loadingNodes":[16,"loading-nodes"],"showTooltip":[516,"show-tooltip"],"tooltipDelay":[514,"tooltip-delay"]}]]],["kv-description-list",[[256,"kv-description-list",{"items":[16],"descriptionTooltipConfig":[16,"description-tooltip-config"],"iconToggletipConfig":[16,"icon-toggletip-config"],"customClass":[513,"custom-class"]}]]],["kv-toggle-button-group",[[257,"kv-toggle-button-group",{"buttons":[16],"withRadio":[516,"with-radio"],"disabled":[516],"size":[513],"selectedButtons":[16,"selected-buttons"],"disabledButtons":[16,"disabled-buttons"],"radioButtons":[16,"radio-buttons"]}]]],["kv-toggle-switch",[[257,"kv-toggle-switch",{"options":[16],"disabled":[516],"size":[513],"selectedOption":[513,"selected-option"],"disabledButtons":[16,"disabled-buttons"]}]]],["kv-info-label",[[289,"kv-info-label",{"labelTitle":[513,"label-title"],"description":[513],"descriptionHeight":[514,"description-height"],"descriptionCollapsedText":[513,"description-collapsed-text"],"descriptionOpenedText":[513,"description-opened-text"],"copyValue":[513,"copy-value"],"showTextShadow":[516,"show-text-shadow"],"enableShowMoreButton":[32],"isExpanded":[32],"currentDescriptionHeight":[32]}]]],["kv-inline-editable-field",[[260,"kv-inline-editable-field",{"value":[513],"disabled":[516],"maxLength":[514,"max-length"],"isHovering":[32],"isEditing":[32],"isSaving":[32],"isSaveDisabled":[32],"timeoutID":[32],"resetContent":[64]},[[1,"mouseenter","handleMouseHover"],[1,"mouseleave","handleMouseLeave"],[4,"keydown","handleKeyDown"]],{"disabled":["handleDisableChange"]}]]],["kv-radio-list",[[257,"kv-radio-list",{"label":[513],"options":[16],"selectedOption":[520,"selected-option"],"disabledOptions":[16,"disabled-options"],"required":[516]}]]],["kv-action-button-split",[[257,"kv-action-button-split",{"splitIcon":[513,"split-icon"],"text":[513],"icon":[513],"type":[513],"disabled":[516],"active":[516],"loading":[516],"size":[513]}]]],["kv-breadcrumb",[[257,"kv-breadcrumb",{"items":[16]}]]],["kv-tab-navigation",[[257,"kv-tab-navigation",{"tabs":[16],"selectedTabKey":[8,"selected-tab-key"],"notifications":[16],"size":[1],"selectedTabIndicatorConfig":[32]},[[0,"tabSelected","tabSelectionHandler"]],{"tabs":["tabsChangeHandler"],"size":["tabsChangeHandler"],"notifications":["tabsChangeHandler"],"selectedTabKey":["tabSelectionChangeHandler"]}]]],["kv-tag-alarm",[[257,"kv-tag-alarm",{"severity":[513],"size":[513],"hideLabel":[516,"hide-label"],"label":[513]}]]],["kv-alert",[[257,"kv-alert",{"type":[513],"size":[513],"showIcon":[516,"show-icon"],"label":[513],"description":[513]}]]],["kv-modal",[[289,"kv-modal",{"headerTitle":[1,"header-title"],"showOverlay":[4,"show-overlay"],"showCloseButton":[4,"show-close-button"],"customClass":[513,"custom-class"]},[[4,"keydown","handleKeyDown"]]]]],["kv-tag-status",[[257,"kv-tag-status",{"state":[513],"icon":[513],"label":[513]}]]],["kv-text-area",[[257,"kv-text-area",{"icon":[513],"text":[513],"placeholder":[513],"maxCharLength":[514,"max-char-length"],"counter":[516],"disabled":[516],"curCharLength":[32],"showPlaceholder":[32]},[[1,"keydown","handleKeyDown"]]]]],["kv-toaster",[[257,"kv-toaster",{"header":[513],"description":[513],"type":[513],"ttl":[514],"closable":[516],"timeoutID":[32],"fadeInActive":[32],"fadeOutActive":[32],"iconType":[32]},null,{"type":["updateIconType"],"ttl":["handleTimeout"]}]]],["kv-agree",[[257,"kv-agree",{"customClass":[513,"custom-class"]}]]],["kv-box-build",[[257,"kv-box-build",{"customClass":[513,"custom-class"]}]]],["kv-color-circle",[[257,"kv-color-circle",{"customClass":[513,"custom-class"]}]]],["kv-disagree",[[257,"kv-disagree",{"customClass":[513,"custom-class"]}]]],["kv-error-state",[[257,"kv-error-state",{"customClass":[513,"custom-class"]}]]],["kv-error-state-404",[[257,"kv-error-state-404",{"customClass":[513,"custom-class"]}]]],["kv-es-asset-placeholder",[[257,"kv-es-asset-placeholder",{"customClass":[513,"custom-class"]}]]],["kv-es-checkbox",[[257,"kv-es-checkbox",{"customClass":[513,"custom-class"]}]]],["kv-es-component-placeholder",[[257,"kv-es-component-placeholder",{"customClass":[513,"custom-class"]}]]],["kv-es-error-404",[[257,"kv-es-error-404",{"customClass":[513,"custom-class"]}]]],["kv-es-error-503",[[257,"kv-es-error-503",{"customClass":[513,"custom-class"]}]]],["kv-es-kelvin-logotype",[[257,"kv-es-kelvin-logotype",{"customClass":[513,"custom-class"]}]]],["kv-es-lock",[[257,"kv-es-lock",{"customClass":[513,"custom-class"]}]]],["kv-es-metadata",[[257,"kv-es-metadata",{"customClass":[513,"custom-class"]}]]],["kv-es-part-placeholder",[[257,"kv-es-part-placeholder",{"customClass":[513,"custom-class"]}]]],["kv-es-section-cell",[[257,"kv-es-section-cell",{"customClass":[513,"custom-class"]}]]],["kv-es-section-somethingwentwrong",[[257,"kv-es-section-somethingwentwrong",{"customClass":[513,"custom-class"]}]]],["kv-es-section-thresholds",[[257,"kv-es-section-thresholds",{"customClass":[513,"custom-class"]}]]],["kv-es-sensor-placeholder",[[257,"kv-es-sensor-placeholder",{"customClass":[513,"custom-class"]}]]],["kv-es-slowy",[[257,"kv-es-slowy",{"customClass":[513,"custom-class"]}]]],["kv-es-somethingwentwrong",[[257,"kv-es-somethingwentwrong",{"customClass":[513,"custom-class"]}]]],["kv-es-table-build",[[257,"kv-es-table-build",{"customClass":[513,"custom-class"]}]]],["kv-es-table-empty",[[257,"kv-es-table-empty",{"customClass":[513,"custom-class"]}]]],["kv-es-table-search",[[257,"kv-es-table-search",{"customClass":[513,"custom-class"]}]]],["kv-feedback-form",[[257,"kv-feedback-form",{"customClass":[513,"custom-class"]}]]],["kv-impact",[[257,"kv-impact",{"customClass":[513,"custom-class"]}]]],["kv-import",[[257,"kv-import",{"customClass":[513,"custom-class"]}]]],["kv-loader",[[257,"kv-loader",{"isLoading":[516,"is-loading"],"hasOverlay":[516,"has-overlay"]}]]],["kv-no-content-here",[[257,"kv-no-content-here",{"customClass":[513,"custom-class"]}]]],["kv-no-data-available",[[257,"kv-no-data-available",{"customClass":[513,"custom-class"]}]]],["kv-no-matching-results",[[257,"kv-no-matching-results",{"customClass":[513,"custom-class"]}]]],["kv-no-results-found-dark",[[257,"kv-no-results-found-dark",{"customClass":[513,"custom-class"]}]]],["kv-no-results-found-light",[[257,"kv-no-results-found-light",{"customClass":[513,"custom-class"]}]]],["kv-party-dance",[[257,"kv-party-dance",{"customClass":[513,"custom-class"]}]]],["kv-range",[[289,"kv-range",{"min":[514],"max":[514],"value":[514],"step":[514],"hideLabel":[516,"hide-label"],"minLabel":[513,"min-label"],"maxLabel":[513,"max-label"],"hideMinMaxLabel":[516,"hide-min-max-label"],"disabled":[516],"valueFormatter":[16,"value-formatter"]}]]],["kv-soft-agree",[[257,"kv-soft-agree",{"customClass":[513,"custom-class"]}]]],["kv-state-indicator",[[257,"kv-state-indicator",{"color":[513],"text":[513]}]]],["kv-summary-card",[[289,"kv-summary-card",{"type":[1],"loading":[4],"label":[1],"subtitle":[1],"description":[1],"_label":[32]},null,{"label":["labelChangeHandler"]}]]],["kv-table-build",[[257,"kv-table-build",{"customClass":[513,"custom-class"]}]]],["kv-tag-letter",[[257,"kv-tag-letter",{"color":[513],"label":[513],"tagLetter":[513,"tag-letter"]}]]],["kv-take-actions",[[257,"kv-take-actions",{"customClass":[513,"custom-class"]}]]],["kv-tree",[[289,"kv-tree",{"nodes":[16],"loading":[516],"selectedNode":[1,"selected-node"],"hiddenNodes":[16,"hidden-nodes"],"expandedNodes":[16,"expanded-nodes"],"spotlightedNodes":[16,"spotlighted-nodes"],"disabledNodes":[16,"disabled-nodes"],"highlightedNodes":[16,"highlighted-nodes"],"loadingNodes":[16,"loading-nodes"],"labelsSize":[513,"labels-size"],"expandIcon":[513,"expand-icon"],"showTooltip":[516,"show-tooltip"],"tooltipDelay":[514,"tooltip-delay"]}]]],["kv-copy-to-clipboard",[[257,"kv-copy-to-clipboard",{"copiableText":[513,"copiable-text"],"tooltipSuffix":[513,"tooltip-suffix"],"tooltipDelay":[514,"tooltip-delay"],"tooltipConfig":[16,"tooltip-config"],"copyState":[32]}]]],["kv-radio-list-item",[[257,"kv-radio-list-item",{"optionId":[520,"option-id"],"label":[513],"description":[513],"checked":[516],"disabled":[516],"parsedDescription":[32]},null,{"description":["descriptionWatcher"]}]]],["kv-tab-item",[[257,"kv-tab-item",{"tabKey":[8,"tab-key"],"label":[1],"disabled":[4],"selected":[4],"hasNotification":[4,"has-notification"],"notificationColor":[1,"notification-color"],"icon":[1],"state":[1],"size":[1],"customStyle":[16,"custom-style"],"customClass":[513,"custom-class"],"customAttributes":[16,"custom-attributes"]}]]],["kv-tag",[[257,"kv-tag",{"label":[513],"size":[513]}]]],["kv-relative-time-picker_2",[[257,"kv-relative-time-picker",{"selectedTimeKey":[513,"selected-time-key"],"options":[16],"selectedTimezone":[1,"selected-timezone"],"timezones":[16],"customIntervalOptionEnabled":[4,"custom-interval-option-enabled"],"timezoneSelectionEnabled":[4,"timezone-selection-enabled"],"timezoneContentVisible":[516,"timezone-content-visible"],"disableTimezoneSelection":[516,"disable-timezone-selection"],"customClass":[513,"custom-class"],"relativeTimeOptions":[32],"timezonesSearchTerm":[32],"timezoneDropdownOptions":[32],"timezoneFilteredDropdownOptions":[32],"hasScroll":[32],"selectedOptionRange":[32]},null,{"options":["handleRelativeTimeOptionsChanges"],"timezones":["onTimezonesChange"],"timezonesSearchTerm":["onTimezoneSearch"],"selectedTimeKey":["onSelectedTimeKeyChange"],"selectedTimezone":["onSelectedTimezoneChange"]}],[257,"kv-switch-button",{"disabled":[516],"checked":[1540],"size":[1]}]]],["kv-toggle-tip",[[260,"kv-toggle-tip",{"text":[513],"position":[513],"allowedPositions":[16,"allowed-positions"],"options":[16],"isOpen":[1540,"is-open"],"isFixed":[516,"is-fixed"],"withArrow":[516,"with-arrow"],"disabled":[516],"customClass":[513,"custom-class"]},[[8,"click","checkForClickOutside"]]]]],["kv-wizard-footer_2",[[257,"kv-wizard-footer",{"label":[513],"steps":[16],"currentStep":[514,"current-step"],"progressPercentage":[514,"progress-percentage"],"hasError":[516,"has-error"],"showStepBar":[516,"show-step-bar"],"completeBtnLabel":[513,"complete-btn-label"],"cancelEnabled":[516,"cancel-enabled"],"prevEnabled":[516,"prev-enabled"],"nextEnabled":[516,"next-enabled"],"nextTooltip":[513,"next-tooltip"],"completeEnabled":[516,"complete-enabled"],"completeTooltip":[513,"complete-tooltip"],"showCancelBtn":[516,"show-cancel-btn"],"showPrevBtn":[516,"show-prev-btn"],"showNextBtn":[516,"show-next-btn"],"showCompleteBtn":[516,"show-complete-btn"]}],[257,"kv-wizard-header",{"label":[513],"description":[513],"tip":[513]}]]],["kv-absolute-time-picker",[[256,"kv-absolute-time-picker",{"headerTitle":[1,"header-title"],"displayBackButton":[4,"display-back-button"],"mode":[1],"selectedDates":[16,"selected-dates"],"initialDate":[1,"initial-date"],"disabledDates":[16,"disabled-dates"],"relativeTimeConfig":[16,"relative-time-config"],"calendarInputMinDate":[1,"calendar-input-min-date"],"calendarInputMaxDate":[1,"calendar-input-max-date"],"error":[1],"fromInputValue":[32],"toInputValue":[32],"singleInputValue":[32],"hoveredDate":[32],"displayedMonth":[32],"fromInputFocused":[32],"toInputFocused":[32],"inputMode":[32],"minDate":[32],"maxDate":[32]},null,{"selectedDates":["handleSelectedRangeDatesChange"],"relativeTimeConfig":["handleRelativeTimeConfigInput"]}]]],["kv-radio",[[289,"kv-radio",{"checked":[516],"disabled":[516],"label":[513],"size":[1],"isChecked":[32],"isDisabled":[32]},[[1,"keydown","handleKeyDown"]],{"checked":["checkedChangeHandler"],"disabled":["disabledChangeHandler"]}]]],["kv-toggle-button",[[257,"kv-toggle-button",{"value":[520],"label":[513],"icon":[513],"size":[513],"disabled":[516],"checked":[516],"preventDefault":[516,"prevent-default"],"withRadio":[516,"with-radio"],"tooltip":[513],"customAttributes":[16,"custom-attributes"]}]]],["kv-tree-item",[[289,"kv-tree-item",{"label":[513],"additionalLabel":[513,"additional-label"],"placeholder":[513],"labelsSize":[513,"labels-size"],"icon":[513],"iconState":[513,"icon-state"],"counter":[514],"counterState":[513,"counter-state"],"hasChildren":[516,"has-children"],"expanded":[516],"disabled":[516],"selected":[516],"highlighted":[516],"spotlighted":[516],"showTooltip":[516,"show-tooltip"],"tooltipDelay":[514,"tooltip-delay"],"loading":[516],"preventDefault":[516,"prevent-default"],"expandIcon":[513,"expand-icon"]},[[0,"itemClick","itemClickHandler"],[0,"toggleExpand","toggleExpandHandler"]]]]],["kv-breadcrumb-item_2",[[257,"kv-breadcrumb-item",{"label":[513],"active":[516]}],[257,"kv-breadcrumb-list"]]],["kv-link",[[257,"kv-link",{"label":[513],"subtitle":[513],"href":[513],"target":[513]}]]],["kv-action-button-text",[[257,"kv-action-button-text",{"text":[513],"icon":[513],"type":[513],"disabled":[516],"active":[516],"loading":[516],"size":[513]}]]],["kv-dropdown-base",[[260,"kv-dropdown-base",{"isOpen":[516,"is-open"],"options":[16],"actionElement":[16,"action-element"],"listElement":[16,"list-element"],"clickOutsideClose":[516,"click-outside-close"],"zIndex":[2,"z-index"],"action":[32]},[[9,"mousedown","checkForClickOutside"]]]]],["kv-action-button",[[257,"kv-action-button",{"type":[513],"disabled":[516],"active":[516],"loading":[516],"size":[513]}]]],["kv-portal_2",[[257,"kv-tooltip-text",{"text":[513]}],[257,"kv-portal",{"portalId":[1,"portal-id"],"reference":[16],"options":[16],"show":[4],"autoUpdate":[4,"auto-update"],"animated":[4],"withArrow":[4,"with-arrow"],"delay":[2],"zIndex":[2,"z-index"],"visible":[32]},null,{"show":["showWatch"],"reference":["referenceWatch"]}]]],["kv-badge_2",[[289,"kv-badge",{"state":[513]}],[257,"kv-tooltip",{"text":[513],"position":[513],"allowedPositions":[16,"allowed-positions"],"options":[16],"disabled":[516],"contentElement":[16,"content-element"],"truncate":[4],"delay":[514],"withArrow":[516,"with-arrow"],"customClass":[513,"custom-class"],"customStyle":[16,"custom-style"],"showTooltip":[32]}]]],["kv-dirty-dot_4",[[289,"kv-text-field",{"type":[513],"label":[513],"examples":[16],"icon":[513],"actionIcon":[513,"action-icon"],"inputName":[513,"input-name"],"placeholder":[513],"maxLength":[514,"max-length"],"minLength":[514,"min-length"],"max":[520],"min":[520],"step":[520],"size":[1],"inputDisabled":[4,"input-disabled"],"inputRequired":[516,"input-required"],"loading":[516],"state":[513],"inputReadonly":[4,"input-readonly"],"helpText":[513,"help-text"],"forcedFocus":[516,"forced-focus"],"tooltipConfig":[16,"tooltip-config"],"value":[1544],"valuePrefix":[513,"value-prefix"],"badge":[513],"isDirty":[516,"is-dirty"],"useInputMask":[516,"use-input-mask"],"inputMaskRegex":[513,"input-mask-regex"],"fitContent":[516,"fit-content"],"customStyle":[16,"custom-style"],"hideBadge":[516,"hide-badge"],"_helpTexts":[32],"focused":[32],"focusInput":[64]},null,{"value":["valueChangeHandler"],"helpText":["helpTextChangeHandler"],"forcedFocus":["forcedFocusChangeHandler"],"useInputMask":["handleUseInputMask"]}],[257,"kv-dirty-dot"],[257,"kv-form-help-text",{"helpText":[513,"help-text"],"state":[513],"_helpTexts":[32]},null,{"helpText":["helpTextChangeHandler"]}],[289,"kv-form-label",{"label":[513],"required":[516]}]]],["kv-input-wrapper_3",[[260,"kv-single-select-dropdown",{"placeholder":[513],"isOpen":[1540,"is-open"],"loading":[516],"icon":[513],"required":[516],"label":[513],"displayValue":[513,"display-value"],"displayPrefix":[513,"display-prefix"],"badge":[513],"errorState":[513,"error-state"],"helpText":[513,"help-text"],"disabled":[516],"inputSize":[513,"input-size"],"dropdownOptions":[16,"dropdown-options"],"customClass":[513,"custom-class"],"clickOutsideClose":[516,"click-outside-close"],"actionElement":[16,"action-element"],"options":[16],"selectedOption":[513,"selected-option"],"filteredOptions":[16,"filtered-options"],"noDataAvailableConfig":[16,"no-data-available-config"],"noResultsFoundConfig":[16,"no-results-found-config"],"searchable":[516],"searchPlaceholder":[513,"search-placeholder"],"selectionClearable":[516,"selection-clearable"],"clearSelectionLabel":[513,"clear-selection-label"],"minHeight":[513,"min-height"],"maxHeight":[513,"max-height"],"minWidth":[513,"min-width"],"maxWidth":[513,"max-width"],"selectionAll":[516,"selection-all"],"selectAllLabel":[513,"select-all-label"],"counter":[516],"minSearchOptions":[514,"min-search-options"],"shortcuts":[516],"zIndex":[2,"z-index"],"canAddItems":[516,"can-add-items"],"createInputPlaceholder":[513,"create-input-placeholder"],"createOptionPlaceholder":[513,"create-option-placeholder"],"inputConfig":[16,"input-config"],"autoFocus":[516,"auto-focus"],"_searchValue":[32],"_selectionDisplayValue":[32],"selectOptions":[32],"highlightedOption":[32],"focusSearch":[64]},null,{"options":["optionsChangeHandler"],"selectedOption":["selectedOptionChangeHandler"],"displayValue":["displayValueChangeHandler"],"filteredOptions":["filterOptionsChangeHandler"]}],[257,"kv-input-wrapper",{"contentVisible":[4,"content-visible"],"contentHidden":[4,"content-hidden"],"label":[1],"icon":[1]}],[257,"kv-time-picker-select-option",{"label":[513],"description":[513],"value":[513],"selected":[516],"customAttributes":[16,"custom-attributes"]}]]],["kv-step-bar_3",[[257,"kv-step-bar",{"label":[513],"steps":[16],"currentStep":[514,"current-step"],"progressPercentage":[514,"progress-percentage"],"hasError":[516,"has-error"]}],[257,"kv-step-indicator",{"enabled":[516],"active":[516],"hasError":[516,"has-error"],"isCurrent":[4,"is-current"]}],[289,"kv-step-progress-bar",{"progressPercentage":[514,"progress-percentage"],"hasError":[516,"has-error"]}]]],["kv-action-button-icon",[[257,"kv-action-button-icon",{"icon":[513],"type":[513],"disabled":[516],"active":[516],"loading":[516],"size":[513],"badgeLabel":[513,"badge-label"],"badgeState":[513,"badge-state"]}]]],["kv-calendar_3",[[256,"kv-date-time-input",{"label":[513],"inputName":[513,"input-name"],"placeholder":[513],"dateFormat":[513,"date-format"],"value":[513],"useInputMask":[516,"use-input-mask"],"size":[1],"forcedFocus":[516,"forced-focus"],"highlighted":[516],"disabled":[516],"required":[516],"state":[513],"helpText":[513,"help-text"],"inputStyleType":[513,"input-style-type"],"leftIcon":[513,"left-icon"],"rightIcon":[513,"right-icon"],"focused":[32]},null,{"forcedFocus":["forcedFocusChangeHandler"],"useInputMask":["handleUseInputMask"]}],[257,"kv-calendar",{"selectedDates":[16,"selected-dates"],"initialDate":[1,"initial-date"],"disableHoveringStyling":[4,"disable-hovering-styling"],"hoveredDate":[1,"hovered-date"],"disabledDates":[16,"disabled-dates"],"minDate":[1,"min-date"],"maxDate":[1,"max-date"],"displayPreviousMonthArrow":[4,"display-previous-month-arrow"],"displayNextMonthArrow":[4,"display-next-month-arrow"],"mode":[1],"month":[32],"year":[32],"hoveredDay":[32]},null,{"selectedDates":["validateSelectedDates"],"initialDate":["validateInitialDate"],"disabledDates":["validateDisabledDates"]}],[257,"kv-calendar-day",{"day":[514],"disabled":[516],"active":[516],"inRange":[4,"in-range"],"isRangeStartDate":[4,"is-range-start-date"],"isRangeEndDate":[4,"is-range-end-date"],"isToday":[4,"is-today"],"isBetweenSelectedDates":[4,"is-between-selected-dates"]}]]],["kv-checkbox_11",[[257,"kv-select-multi-options",{"options":[16],"filteredOptions":[16,"filtered-options"],"selectedOptions":[16,"selected-options"],"noDataAvailableConfig":[16,"no-data-available-config"],"noResultsFoundConfig":[16,"no-results-found-config"],"searchable":[516],"searchPlaceholder":[513,"search-placeholder"],"searchValue":[513,"search-value"],"selectionClearable":[516,"selection-clearable"],"clearSelectionLabel":[513,"clear-selection-label"],"minHeight":[513,"min-height"],"maxHeight":[513,"max-height"],"minWidth":[513,"min-width"],"maxWidth":[513,"max-width"],"selectionAll":[516,"selection-all"],"selectAllLabel":[513,"select-all-label"],"counter":[516],"minSearchOptions":[514,"min-search-options"],"shortcuts":[516],"canAddItems":[516,"can-add-items"],"createInputPlaceholder":[513,"create-input-placeholder"],"createOptionPlaceholder":[513,"create-option-placeholder"],"selectOptions":[32],"highlightedOption":[32],"isCreating":[32],"createdOptionValue":[32],"clearHighlightedOption":[64],"closeCreatePopup":[64],"focusSearch":[64]},[[0,"valueChanged","valueChangedOptionHandler"],[0,"clickCreate","clickCreateOptionHandler"],[0,"clickCancel","cancelCreateOptionHandler"],[4,"keydown","handleKeyDown"]],{"options":["buildSelectionOptions"],"filteredOptions":["buildSelectionOptions"],"selectedOptions":["buildSelectionOptions"],"highlightedOption":["buildSelectionOptions"]}],[256,"kv-select-create-option",{"value":[513],"disabled":[516],"size":[513],"inputConfig":[16,"input-config"],"focusInput":[64],"blurInput":[64]}],[260,"kv-dropdown",{"inputConfig":[16,"input-config"],"isOpen":[516,"is-open"],"options":[16],"actionElement":[16,"action-element"],"listElement":[16,"list-element"],"disabled":[4],"clickOutsideClose":[516,"click-outside-close"],"zIndex":[2,"z-index"],"_actionElement":[32],"onToggleOpenState":[64]}],[257,"kv-select",{"searchable":[516],"searchValue":[513,"search-value"],"searchPlaceholder":[513,"search-placeholder"],"selectionClearable":[516,"selection-clearable"],"selectionClearEnabled":[516,"selection-clear-enabled"],"clearSelectionLabel":[513,"clear-selection-label"],"selectionAll":[516,"selection-all"],"selectionAllEnabled":[516,"selection-all-enabled"],"selectAllLabel":[513,"select-all-label"],"minHeight":[513,"min-height"],"maxHeight":[513,"max-height"],"minWidth":[513,"min-width"],"maxWidth":[513,"max-width"],"focusSearch":[64]}],[257,"kv-select-option",{"label":[513],"value":[513],"icon":[513],"iconTooltipText":[513,"icon-tooltip-text"],"rightIconTooltipText":[513,"right-icon-tooltip-text"],"description":[513],"rightIcon":[513,"right-icon"],"disabled":[516],"selected":[516],"highlighted":[516],"togglable":[516],"selectable":[516],"heading":[516],"level":[514],"state":[513],"isDirty":[516,"is-dirty"],"customClass":[513,"custom-class"],"customStyle":[16,"custom-style"],"action":[16],"customAttributes":[16,"custom-attributes"]},null,{"highlighted":["highlightedChangeHandler"]}],[257,"kv-illustration-message",{"illustration":[513],"header":[513],"description":[513]}],[260,"kv-select-shortcuts-label"],[257,"kv-virtualized-list",{"itemCount":[514,"item-count"],"itemHeight":[514,"item-height"],"getItemKey":[16,"get-item-key"],"renderItem":[16,"render-item"],"overscanCount":[514,"overscan-count"],"totalHeight":[32],"scrollTop":[32],"elements":[32]},null,{"itemHeight":["updateTotalHeight"],"itemCount":["updateTotalHeight"],"renderItem":["renderItemHandle"]}],[257,"kv-search",{"type":[513],"label":[513],"examples":[16],"inputName":[513,"input-name"],"placeholder":[513],"maxLength":[514,"max-length"],"minLength":[514,"min-length"],"max":[520],"min":[520],"step":[520],"size":[1],"inputDisabled":[516,"input-disabled"],"inputRequired":[516,"input-required"],"loading":[516],"state":[513],"inputReadonly":[516,"input-readonly"],"helpText":[513,"help-text"],"forcedFocus":[516,"forced-focus"],"tooltipConfig":[16,"tooltip-config"],"value":[520],"useInputMask":[516,"use-input-mask"],"inputMaskRegex":[513,"input-mask-regex"],"focusInput":[64]}],[257,"kv-checkbox",{"checked":[516],"label":[513],"disabled":[516],"indeterminate":[516]}],[257,"kv-illustration",{"name":[513],"customClass":[513,"custom-class"]}]]]]'),options)})();const KvAbsoluteTimePicker=createReactComponent("kv-absolute-time-picker"),KvAbsoluteTimePickerDropdown=createReactComponent("kv-absolute-time-picker-dropdown"),KvAbsoluteTimePickerDropdownInput=createReactComponent("kv-absolute-time-picker-dropdown-input"),KvActionButton=createReactComponent("kv-action-button"),KvActionButtonIcon=createReactComponent("kv-action-button-icon"),KvActionButtonSplit=createReactComponent("kv-action-button-split"),KvActionButtonText=createReactComponent("kv-action-button-text"),KvAlert=(createReactComponent("kv-agree"),createReactComponent("kv-alert")),KvBadge=createReactComponent("kv-badge"),KvBreadcrumb=(createReactComponent("kv-box-build"),createReactComponent("kv-breadcrumb")),KvBreadcrumbItem=createReactComponent("kv-breadcrumb-item"),KvBreadcrumbList=createReactComponent("kv-breadcrumb-list"),KvCalendar=createReactComponent("kv-calendar"),KvCalendarDay=createReactComponent("kv-calendar-day"),KvCheckbox=createReactComponent("kv-checkbox"),KvCopyToClipboard=(createReactComponent("kv-color-circle"),createReactComponent("kv-copy-to-clipboard")),KvDateTimeInput=createReactComponent("kv-date-time-input"),KvDescriptionList=createReactComponent("kv-description-list"),KvDropdown=(createReactComponent("kv-dirty-dot"),createReactComponent("kv-disagree"),createReactComponent("kv-dropdown")),KvFormHelpText=(createReactComponent("kv-dropdown-base"),createReactComponent("kv-error-state"),createReactComponent("kv-error-state-404"),createReactComponent("kv-es-asset-placeholder"),createReactComponent("kv-es-checkbox"),createReactComponent("kv-es-component-placeholder"),createReactComponent("kv-es-error-404"),createReactComponent("kv-es-error-503"),createReactComponent("kv-es-kelvin-logotype"),createReactComponent("kv-es-lock"),createReactComponent("kv-es-metadata"),createReactComponent("kv-es-part-placeholder"),createReactComponent("kv-es-section-cell"),createReactComponent("kv-es-section-somethingwentwrong"),createReactComponent("kv-es-section-thresholds"),createReactComponent("kv-es-sensor-placeholder"),createReactComponent("kv-es-slowy"),createReactComponent("kv-es-somethingwentwrong"),createReactComponent("kv-es-table-build"),createReactComponent("kv-es-table-empty"),createReactComponent("kv-es-table-search"),createReactComponent("kv-feedback-form"),createReactComponent("kv-form-help-text")),KvFormLabel=createReactComponent("kv-form-label"),KvIcon=createReactComponent("kv-icon"),KvIllustration=createReactComponent("kv-illustration"),KvInfoLabel=(createReactComponent("kv-illustration-message"),createReactComponent("kv-impact"),createReactComponent("kv-import"),createReactComponent("kv-info-label")),KvInlineEditableField=createReactComponent("kv-inline-editable-field"),KvLink=(createReactComponent("kv-input-wrapper"),createReactComponent("kv-link")),KvLoader=createReactComponent("kv-loader"),KvModal=createReactComponent("kv-modal"),KvMultiSelectDropdown=createReactComponent("kv-multi-select-dropdown"),KvRadio=(createReactComponent("kv-no-content-here"),createReactComponent("kv-no-data-available"),createReactComponent("kv-no-matching-results"),createReactComponent("kv-no-results-found-dark"),createReactComponent("kv-no-results-found-light"),createReactComponent("kv-party-dance"),createReactComponent("kv-portal"),createReactComponent("kv-radio")),KvRadioList=createReactComponent("kv-radio-list"),KvRadioListItem=createReactComponent("kv-radio-list-item"),KvRange=createReactComponent("kv-range"),KvRelativeTimePicker=createReactComponent("kv-relative-time-picker"),KvSearch=createReactComponent("kv-search"),KvSelect=createReactComponent("kv-select"),KvSelectOption=(createReactComponent("kv-select-create-option"),createReactComponent("kv-select-multi-options"),createReactComponent("kv-select-option")),KvSingleSelectDropdown=(createReactComponent("kv-select-shortcuts-label"),createReactComponent("kv-single-select-dropdown")),KvStateIndicator=(createReactComponent("kv-soft-agree"),createReactComponent("kv-state-indicator")),KvStepIndicator=(createReactComponent("kv-step-bar"),createReactComponent("kv-step-indicator")),KvStepProgressBar=createReactComponent("kv-step-progress-bar"),KvSummaryCard=createReactComponent("kv-summary-card"),KvSwitchButton=createReactComponent("kv-switch-button"),KvTabItem=createReactComponent("kv-tab-item"),KvTabNavigation=createReactComponent("kv-tab-navigation"),KvTag=(createReactComponent("kv-table-build"),createReactComponent("kv-tag")),KvTagAlarm=createReactComponent("kv-tag-alarm"),KvTagLetter=createReactComponent("kv-tag-letter"),KvTagStatus=createReactComponent("kv-tag-status"),KvTextArea=(createReactComponent("kv-take-actions"),createReactComponent("kv-text-area")),KvTextField=createReactComponent("kv-text-field"),KvTimePicker=createReactComponent("kv-time-picker"),KvToaster=(createReactComponent("kv-time-picker-select-option"),createReactComponent("kv-toaster")),KvToggleButton=createReactComponent("kv-toggle-button"),KvToggleButtonGroup=createReactComponent("kv-toggle-button-group"),KvToggleSwitch=createReactComponent("kv-toggle-switch"),KvToggleTip=createReactComponent("kv-toggle-tip"),KvTooltip=createReactComponent("kv-tooltip"),KvTree=(createReactComponent("kv-tooltip-text"),createReactComponent("kv-tree")),KvTreeDropdown=createReactComponent("kv-tree-dropdown"),KvTreeItem=createReactComponent("kv-tree-item"),KvWizard=(createReactComponent("kv-virtualized-list"),createReactComponent("kv-wizard")),KvWizardFooter=createReactComponent("kv-wizard-footer");createReactComponent("kv-wizard-header"),esm.q_.Info;function client_esm_isObject(thing){return"object"==typeof thing&&null!==thing&&(!("number"==typeof thing.lastModified&&"undefined"!=typeof File&&thing instanceof File)&&(!("function"==typeof thing.getMonth&&"undefined"!=typeof Date&&thing instanceof Date)&&!Array.isArray(thing)))}function asNumber(value){if(""===value)return;if(null===value)return null;if(/\.$/.test(value))return value;if(/\.0$/.test(value))return value;if(/\.\d*0$/.test(value))return value;const n=Number(value);return"number"==typeof n&&!Number.isNaN(n)?n:value}const ERRORS_KEY="__errors",NAME_KEY="$name",PROPERTIES_KEY="properties",SUBMIT_BTN_OPTIONS_KEY="submitButtonOptions",UI_WIDGET_KEY="ui:widget",UI_OPTIONS_KEY="ui:options";function getUiOptions(uiSchema={},globalOptions={}){return Object.keys(uiSchema).filter((key=>0===key.indexOf("ui:"))).reduce(((options,key)=>{const value=uiSchema[key];return key===UI_WIDGET_KEY&&client_esm_isObject(value)?(console.error("Setting options via ui:widget object is no longer supported, use ui:options instead"),options):key===UI_OPTIONS_KEY&&client_esm_isObject(value)?{...options,...value}:{...options,[key.substring(3)]:value}}),{...globalOptions})}function canExpand(schema,uiSchema={},formData){if(!schema.additionalProperties)return!1;const{expandable=!0}=getUiOptions(uiSchema);return!1===expandable?expandable:void 0===schema.maxProperties||!formData||Object.keys(formData).length<schema.maxProperties}function createErrorHandler(formData){const handler={[ERRORS_KEY]:[],addError(message){this.__errors.push(message)}};if(Array.isArray(formData))return formData.reduce(((acc,value,key)=>({...acc,[key]:createErrorHandler(value)})),handler);if((0,isPlainObject.A)(formData)){const formObject=formData;return Object.keys(formObject).reduce(((acc,key)=>({...acc,[key]:createErrorHandler(formObject[key])})),handler)}return handler}function deepEquals(a,b){return(0,isEqualWith.A)(a,b,((obj,other)=>{if("function"==typeof obj&&"function"==typeof other)return!0}))}function splitKeyElementFromObject(key,object){const value=object[key];return[(0,omit.A)(object,[key]),value]}function findSchemaDefinitionRecursive($ref,rootSchema={},recurseList=[]){const ref=$ref||"";let decodedRef;if(!ref.startsWith("#"))throw new Error(`Could not find a definition for ${$ref}.`);decodedRef=decodeURIComponent(ref.substring(1));const current=jsonpointer.get(rootSchema,decodedRef);if(void 0===current)throw new Error(`Could not find a definition for ${$ref}.`);const nextRef=current.$ref;if(nextRef){if(recurseList.includes(nextRef)){if(1===recurseList.length)throw new Error(`Definition for ${$ref} is a circular reference`);const[firstRef,...restRefs]=recurseList,circularPath=[...restRefs,ref,firstRef].join(" -> ");throw new Error(`Definition for ${firstRef} contains a circular reference through ${circularPath}`)}const[remaining,theRef]=splitKeyElementFromObject("$ref",current),subSchema=findSchemaDefinitionRecursive(theRef,rootSchema,[...recurseList,ref]);return Object.keys(remaining).length>0?{...remaining,...subSchema}:subSchema}return current}function findSchemaDefinition($ref,rootSchema={}){return findSchemaDefinitionRecursive($ref,rootSchema,[])}function getOptionMatchingSimpleDiscriminator(formData,options,discriminatorField){var _a;if(formData&&discriminatorField){const value=(0,get.A)(formData,discriminatorField);if(void 0===value)return;for(let i=0;i<options.length;i++){const option=options[i],discriminator=(0,get.A)(option,["properties",discriminatorField],{});if("object"!==discriminator.type&&"array"!==discriminator.type){if(discriminator.const===value)return i;if(null===(_a=discriminator.enum)||void 0===_a?void 0:_a.includes(value))return i}}}}function getMatchingOption$1(validator,formData,options,rootSchema,discriminatorField){if(void 0===formData)return 0;const simpleDiscriminatorMatch=getOptionMatchingSimpleDiscriminator(formData,options,discriminatorField);if((0,isNumber.A)(simpleDiscriminatorMatch))return simpleDiscriminatorMatch;for(let i=0;i<options.length;i++){const option=options[i];if(discriminatorField&&(0,has.A)(option,["properties",discriminatorField])){const value=(0,get.A)(formData,discriminatorField),discriminator=(0,get.A)(option,["properties",discriminatorField],{});if(validator.isValid(discriminator,value,rootSchema))return i}else if(option.properties){const requiresAnyOf={anyOf:Object.keys(option.properties).map((key=>({required:[key]})))};let augmentedSchema;if(option.anyOf){const{...shallowClone}=option;shallowClone.allOf?shallowClone.allOf=shallowClone.allOf.slice():shallowClone.allOf=[],shallowClone.allOf.push(requiresAnyOf),augmentedSchema=shallowClone}else augmentedSchema=Object.assign({},option,requiresAnyOf);if(delete augmentedSchema.required,validator.isValid(augmentedSchema,formData,rootSchema))return i}else if(validator.isValid(option,formData,rootSchema))return i}return 0}function getFirstMatchingOption(validator,formData,options,rootSchema,discriminatorField){return getMatchingOption$1(validator,formData,options,rootSchema,discriminatorField)}function getDiscriminatorFieldFromSchema(schema){let discriminator;const maybeString=(0,get.A)(schema,"discriminator.propertyName",void 0);return(0,isString.A)(maybeString)?discriminator=maybeString:void 0!==maybeString&&console.warn(`Expecting discriminator to be a string, got "${typeof maybeString}" instead`),discriminator}function guessType(value){return Array.isArray(value)?"array":"string"==typeof value?"string":null==value?"null":"boolean"==typeof value?"boolean":isNaN(value)?"object"==typeof value?"object":"string":"number"}function getSchemaType(schema){let{type}=schema;return!type&&schema.const?guessType(schema.const):!type&&schema.enum?"string":type||!schema.properties&&!schema.additionalProperties?(Array.isArray(type)&&(type=2===type.length&&type.includes("null")?type.find((type=>"null"!==type)):type[0]),type):"object"}function mergeSchemas(obj1,obj2){const acc=Object.assign({},obj1);return Object.keys(obj2).reduce(((acc,key)=>{const left=obj1?obj1[key]:{},right=obj2[key];return obj1&&key in obj1&&client_esm_isObject(right)?acc[key]=mergeSchemas(left,right):obj1&&obj2&&("object"===getSchemaType(obj1)||"object"===getSchemaType(obj2))&&"required"===key&&Array.isArray(left)&&Array.isArray(right)?acc[key]=(0,union.A)(left,right):acc[key]=right,acc}),acc)}function retrieveSchema(validator,schema,rootSchema={},rawFormData,experimental_customMergeAllOf){return retrieveSchemaInternal(validator,schema,rootSchema,rawFormData,void 0,void 0,experimental_customMergeAllOf)[0]}function getAllPermutationsOfXxxOf(listOfLists){return listOfLists.reduce(((permutations,list)=>list.length>1?list.flatMap((element=>(0,times.A)(permutations.length,(i=>[...permutations[i]].concat(element))))):(permutations.forEach((permutation=>permutation.push(list[0]))),permutations)),[[]])}function resolveReference(validator,schema,rootSchema,expandAllBranches,recurseList,formData,experimental_customMergeAllOf){const updatedSchema=resolveAllReferences(schema,rootSchema,recurseList);return updatedSchema!==schema?retrieveSchemaInternal(validator,updatedSchema,rootSchema,formData,expandAllBranches,recurseList,experimental_customMergeAllOf):[schema]}function resolveAllReferences(schema,rootSchema,recurseList){if(!client_esm_isObject(schema))return schema;let resolvedSchema=schema;if("$ref"in resolvedSchema){const{$ref,...localSchema}=resolvedSchema;if(recurseList.includes($ref))return resolvedSchema;recurseList.push($ref);resolvedSchema={...findSchemaDefinition($ref,rootSchema),...localSchema}}if("properties"in resolvedSchema){const childrenLists=[],updatedProps=(0,transform.A)(resolvedSchema.properties,((result,value,key)=>{const childList=[...recurseList];result[key]=resolveAllReferences(value,rootSchema,childList),childrenLists.push(childList)}),{});(0,merge.A)(recurseList,(0,uniq.A)((0,flattenDeep.A)(childrenLists))),resolvedSchema={...resolvedSchema,[PROPERTIES_KEY]:updatedProps}}return"items"in resolvedSchema&&!Array.isArray(resolvedSchema.items)&&"boolean"!=typeof resolvedSchema.items&&(resolvedSchema={...resolvedSchema,items:resolveAllReferences(resolvedSchema.items,rootSchema,recurseList)}),deepEquals(schema,resolvedSchema)?schema:resolvedSchema}function retrieveSchemaInternal(validator,schema,rootSchema,rawFormData,expandAllBranches=!1,recurseList=[],experimental_customMergeAllOf){if(!client_esm_isObject(schema))return[{}];const resolvedSchemas=function resolveSchema(validator,schema,rootSchema,expandAllBranches,recurseList,formData,experimental_customMergeAllOf){const updatedSchemas=resolveReference(validator,schema,rootSchema,expandAllBranches,recurseList,formData);if(updatedSchemas.length>1||updatedSchemas[0]!==schema)return updatedSchemas;if("dependencies"in schema)return resolveDependencies(validator,schema,rootSchema,expandAllBranches,recurseList,formData).flatMap((s=>retrieveSchemaInternal(validator,s,rootSchema,formData,expandAllBranches,recurseList,experimental_customMergeAllOf)));if("allOf"in schema&&Array.isArray(schema.allOf))return getAllPermutationsOfXxxOf(schema.allOf.map((allOfSubschema=>retrieveSchemaInternal(validator,allOfSubschema,rootSchema,formData,expandAllBranches,recurseList,experimental_customMergeAllOf)))).map((permutation=>({...schema,allOf:permutation})));return[schema]}(validator,schema,rootSchema,expandAllBranches,recurseList,rawFormData,experimental_customMergeAllOf);return resolvedSchemas.flatMap((s=>{var _a;let resolvedSchema=s;if("if"in resolvedSchema)return function resolveCondition(validator,schema,rootSchema,expandAllBranches,recurseList,formData,experimental_customMergeAllOf){const{if:expression,then,else:otherwise,...resolvedSchemaLessConditional}=schema,conditionValue=validator.isValid(expression,formData||{},rootSchema);let resolvedSchemas=[resolvedSchemaLessConditional],schemas=[];if(expandAllBranches)then&&"boolean"!=typeof then&&(schemas=schemas.concat(retrieveSchemaInternal(validator,then,rootSchema,formData,expandAllBranches,recurseList,experimental_customMergeAllOf))),otherwise&&"boolean"!=typeof otherwise&&(schemas=schemas.concat(retrieveSchemaInternal(validator,otherwise,rootSchema,formData,expandAllBranches,recurseList,experimental_customMergeAllOf)));else{const conditionalSchema=conditionValue?then:otherwise;conditionalSchema&&"boolean"!=typeof conditionalSchema&&(schemas=schemas.concat(retrieveSchemaInternal(validator,conditionalSchema,rootSchema,formData,expandAllBranches,recurseList,experimental_customMergeAllOf)))}return schemas.length&&(resolvedSchemas=schemas.map((s=>mergeSchemas(resolvedSchemaLessConditional,s)))),resolvedSchemas.flatMap((s=>retrieveSchemaInternal(validator,s,rootSchema,formData,expandAllBranches,recurseList,experimental_customMergeAllOf)))}(validator,resolvedSchema,rootSchema,expandAllBranches,recurseList,rawFormData,experimental_customMergeAllOf);if("allOf"in resolvedSchema){if(expandAllBranches){const{allOf,...restOfSchema}=resolvedSchema;return[...allOf,restOfSchema]}try{const withContainsSchemas=[],withoutContainsSchemas=[];null===(_a=resolvedSchema.allOf)||void 0===_a||_a.forEach((s=>{"object"==typeof s&&s.contains?withContainsSchemas.push(s):withoutContainsSchemas.push(s)})),withContainsSchemas.length&&(resolvedSchema={...resolvedSchema,allOf:withoutContainsSchemas}),resolvedSchema=experimental_customMergeAllOf?experimental_customMergeAllOf(resolvedSchema):src_default()(resolvedSchema,{deep:!1}),withContainsSchemas.length&&(resolvedSchema.allOf=withContainsSchemas)}catch(e){console.warn("could not merge subschemas in allOf:\n",e);const{allOf,...resolvedSchemaWithoutAllOf}=resolvedSchema;return resolvedSchemaWithoutAllOf}}return"additionalProperties"in resolvedSchema&&!1!==resolvedSchema.additionalProperties?function stubExistingAdditionalProperties(validator,theSchema,rootSchema,aFormData,experimental_customMergeAllOf){const schema={...theSchema,properties:{...theSchema.properties}},formData=aFormData&&client_esm_isObject(aFormData)?aFormData:{};return Object.keys(formData).forEach((key=>{if(key in schema.properties)return;let additionalProperties={};additionalProperties="boolean"!=typeof schema.additionalProperties?"$ref"in schema.additionalProperties?retrieveSchema(validator,{$ref:(0,get.A)(schema.additionalProperties,["$ref"])},rootSchema,formData,experimental_customMergeAllOf):"type"in schema.additionalProperties?{...schema.additionalProperties}:"anyOf"in schema.additionalProperties||"oneOf"in schema.additionalProperties?{type:"object",...schema.additionalProperties}:{type:guessType((0,get.A)(formData,[key]))}:{type:guessType((0,get.A)(formData,[key]))},schema.properties[key]=additionalProperties,(0,set.A)(schema.properties,[key,"__additional_property"],!0)})),schema}(validator,resolvedSchema,rootSchema,rawFormData,experimental_customMergeAllOf):resolvedSchema}))}function resolveDependencies(validator,schema,rootSchema,expandAllBranches,recurseList,formData,experimental_customMergeAllOf){const{dependencies,...remainingSchema}=schema,resolvedSchemas=function resolveAnyOrOneOfSchemas(validator,schema,rootSchema,expandAllBranches,rawFormData){let anyOrOneOf;const{oneOf,anyOf,...remaining}=schema;if(Array.isArray(oneOf)?anyOrOneOf=oneOf:Array.isArray(anyOf)&&(anyOrOneOf=anyOf),anyOrOneOf){const formData=void 0===rawFormData&&expandAllBranches?{}:rawFormData,discriminator=getDiscriminatorFieldFromSchema(schema);anyOrOneOf=anyOrOneOf.map((s=>resolveAllReferences(s,rootSchema,[])));const option=getFirstMatchingOption(validator,formData,anyOrOneOf,rootSchema,discriminator);if(expandAllBranches)return anyOrOneOf.map((item=>mergeSchemas(remaining,item)));schema=mergeSchemas(remaining,anyOrOneOf[option])}return[schema]}(validator,remainingSchema,rootSchema,expandAllBranches,formData);return resolvedSchemas.flatMap((resolvedSchema=>processDependencies(validator,dependencies,resolvedSchema,rootSchema,expandAllBranches,recurseList,formData,experimental_customMergeAllOf)))}function processDependencies(validator,dependencies,resolvedSchema,rootSchema,expandAllBranches,recurseList,formData,experimental_customMergeAllOf){let schemas=[resolvedSchema];for(const dependencyKey in dependencies){if(!expandAllBranches&&void 0===(0,get.A)(formData,[dependencyKey]))continue;if(resolvedSchema.properties&&!(dependencyKey in resolvedSchema.properties))continue;const[remainingDependencies,dependencyValue]=splitKeyElementFromObject(dependencyKey,dependencies);return Array.isArray(dependencyValue)?schemas[0]=withDependentProperties(resolvedSchema,dependencyValue):client_esm_isObject(dependencyValue)&&(schemas=withDependentSchema(validator,resolvedSchema,rootSchema,dependencyKey,dependencyValue,expandAllBranches,recurseList,formData,experimental_customMergeAllOf)),schemas.flatMap((schema=>processDependencies(validator,remainingDependencies,schema,rootSchema,expandAllBranches,recurseList,formData,experimental_customMergeAllOf)))}return schemas}function withDependentProperties(schema,additionallyRequired){if(!additionallyRequired)return schema;const required=Array.isArray(schema.required)?Array.from(new Set([...schema.required,...additionallyRequired])):additionallyRequired;return{...schema,required}}function withDependentSchema(validator,schema,rootSchema,dependencyKey,dependencyValue,expandAllBranches,recurseList,formData,experimental_customMergeAllOf){return retrieveSchemaInternal(validator,dependencyValue,rootSchema,formData,expandAllBranches,recurseList,experimental_customMergeAllOf).flatMap((dependent=>{const{oneOf,...dependentSchema}=dependent;if(schema=mergeSchemas(schema,dependentSchema),void 0===oneOf)return schema;return getAllPermutationsOfXxxOf(oneOf.map((subschema=>"boolean"!=typeof subschema&&"$ref"in subschema?resolveReference(validator,subschema,rootSchema,expandAllBranches,recurseList,formData):[subschema]))).flatMap((resolvedOneOf=>function withExactlyOneSubschema(validator,schema,rootSchema,dependencyKey,oneOf,expandAllBranches,recurseList,formData,experimental_customMergeAllOf){const validSubschemas=oneOf.filter((subschema=>{if("boolean"==typeof subschema||!subschema||!subschema.properties)return!1;const{[dependencyKey]:conditionPropertySchema}=subschema.properties;if(conditionPropertySchema){const conditionSchema={type:"object",properties:{[dependencyKey]:conditionPropertySchema}};return validator.isValid(conditionSchema,formData,rootSchema)||expandAllBranches}return!1}));if(!expandAllBranches&&1!==validSubschemas.length)return console.warn("ignoring oneOf in dependencies because there isn't exactly one subschema that is valid"),[schema];return validSubschemas.flatMap((s=>{const subschema=s,[dependentSubschema]=splitKeyElementFromObject(dependencyKey,subschema.properties),dependentSchema={...subschema,properties:dependentSubschema};return retrieveSchemaInternal(validator,dependentSchema,rootSchema,formData,expandAllBranches,recurseList,experimental_customMergeAllOf).map((s=>mergeSchemas(schema,s)))}))}(validator,schema,rootSchema,dependencyKey,resolvedOneOf,expandAllBranches,recurseList,formData,experimental_customMergeAllOf)))}))}const JUNK_OPTION={type:"object",$id:"_$junk_option_schema_id$_",properties:{__not_really_there__:{type:"number"}}};function calculateIndexScore(validator,rootSchema,schema,formData,experimental_customMergeAllOf){let totalScore=0;return schema&&((0,isObject.A)(schema.properties)?totalScore+=(0,reduce.A)(schema.properties,((score,value,key)=>{const formValue=(0,get.A)(formData,key);if("boolean"==typeof value)return score;if((0,has.A)(value,"$ref")){const newSchema=retrieveSchema(validator,value,rootSchema,formValue,experimental_customMergeAllOf);return score+calculateIndexScore(validator,rootSchema,newSchema,formValue||{},experimental_customMergeAllOf)}if(((0,has.A)(value,"oneOf")||(0,has.A)(value,"anyOf"))&&formValue){const key=(0,has.A)(value,"oneOf")?"oneOf":"anyOf",discriminator=getDiscriminatorFieldFromSchema(value);return score+getClosestMatchingOption(validator,rootSchema,formValue,(0,get.A)(value,key),-1,discriminator,experimental_customMergeAllOf)}if("object"===value.type)return(0,isObject.A)(formValue)&&(score+=1),score+calculateIndexScore(validator,rootSchema,value,formValue,experimental_customMergeAllOf);if(value.type===guessType(formValue)){let newScore=score+1;return value.default?newScore+=formValue===value.default?1:-1:value.const&&(newScore+=formValue===value.const?1:-1),newScore}return score}),0):(0,isString.A)(schema.type)&&schema.type===guessType(formData)&&(totalScore+=1)),totalScore}function getClosestMatchingOption(validator,rootSchema,formData,options,selectedOption=-1,discriminatorField,experimental_customMergeAllOf){const resolvedOptions=options.map((option=>resolveAllReferences(option,rootSchema,[]))),simpleDiscriminatorMatch=getOptionMatchingSimpleDiscriminator(formData,options,discriminatorField);if((0,isNumber.A)(simpleDiscriminatorMatch))return simpleDiscriminatorMatch;const allValidIndexes=resolvedOptions.reduce(((validList,option,index)=>(1===getFirstMatchingOption(validator,formData,[JUNK_OPTION,option],rootSchema,discriminatorField)&&validList.push(index),validList)),[]);if(1===allValidIndexes.length)return allValidIndexes[0];allValidIndexes.length||(0,times.A)(resolvedOptions.length,(i=>allValidIndexes.push(i)));const scoreCount=new Set,{bestIndex}=allValidIndexes.reduce(((scoreData,index)=>{const{bestScore}=scoreData,option=resolvedOptions[index],score=calculateIndexScore(validator,rootSchema,option,formData,experimental_customMergeAllOf);return scoreCount.add(score),score>bestScore?{bestIndex:index,bestScore:score}:scoreData}),{bestIndex:selectedOption,bestScore:0});return 1===scoreCount.size&&selectedOption>=0?selectedOption:bestIndex}function isFixedItems(schema){return Array.isArray(schema.items)&&schema.items.length>0&&schema.items.every((item=>client_esm_isObject(item)))}function mergeDefaultsWithFormData(defaults,formData,mergeExtraArrayDefaults=!1,defaultSupercedesUndefined=!1,overrideFormDataWithDefaults=!1){if(Array.isArray(formData)){const defaultsArray=Array.isArray(defaults)?defaults:[],overrideOppositeArray=overrideFormDataWithDefaults?formData:defaultsArray,mapped=(overrideFormDataWithDefaults?defaultsArray:formData).map(((value,idx)=>void 0!==overrideOppositeArray[idx]?mergeDefaultsWithFormData(defaultsArray[idx],formData[idx],mergeExtraArrayDefaults,defaultSupercedesUndefined,overrideFormDataWithDefaults):value));return(mergeExtraArrayDefaults||overrideFormDataWithDefaults)&&mapped.length<overrideOppositeArray.length&&mapped.push(...overrideOppositeArray.slice(mapped.length)),mapped}if(client_esm_isObject(formData)){const acc=Object.assign({},defaults);return Object.keys(formData).reduce(((acc,key)=>{const keyValue=(0,get.A)(formData,key),keyExistsInDefaults=client_esm_isObject(defaults)&&key in defaults,keyExistsInFormData=key in formData;return acc[key]=mergeDefaultsWithFormData(defaults?(0,get.A)(defaults,key):{},keyValue,mergeExtraArrayDefaults,defaultSupercedesUndefined,overrideFormDataWithDefaults&&(keyExistsInDefaults||!keyExistsInFormData)),acc}),acc)}return defaultSupercedesUndefined&&(!(0,isNil.A)(defaults)&&(0,isNil.A)(formData)||"number"==typeof formData&&isNaN(formData))||overrideFormDataWithDefaults&&!(0,isNil.A)(formData)?defaults:formData}function mergeObjects(obj1,obj2,concatArrays=!1){return Object.keys(obj2).reduce(((acc,key)=>{const left=obj1?obj1[key]:{},right=obj2[key];if(obj1&&key in obj1&&client_esm_isObject(right))acc[key]=mergeObjects(left,right,concatArrays);else if(concatArrays&&Array.isArray(left)&&Array.isArray(right)){let toMerge=right;"preventDuplicates"===concatArrays&&(toMerge=right.reduce(((result,value)=>(left.includes(value)||result.push(value),result)),[])),acc[key]=left.concat(toMerge)}else acc[key]=right;return acc}),Object.assign({},obj1))}function isConstant(schema){return Array.isArray(schema.enum)&&1===schema.enum.length||"const"in schema}function isSelect(validator,theSchema,rootSchema={},experimental_customMergeAllOf){const schema=retrieveSchema(validator,theSchema,rootSchema,void 0,experimental_customMergeAllOf),altSchemas=schema.oneOf||schema.anyOf;return!!Array.isArray(schema.enum)||!!Array.isArray(altSchemas)&&altSchemas.every((altSchemas=>"boolean"!=typeof altSchemas&&isConstant(altSchemas)))}function isMultiSelect(validator,schema,rootSchema,experimental_customMergeAllOf){return!(!schema.uniqueItems||!schema.items||"boolean"==typeof schema.items)&&isSelect(validator,schema.items,rootSchema,experimental_customMergeAllOf)}function constIsAjvDataReference(schema){const schemaConst=schema.const,schemaType=getSchemaType(schema);return client_esm_isObject(schemaConst)&&(0,isString.A)(null==schemaConst?void 0:schemaConst.$data)&&"object"!==schemaType&&"array"!==schemaType}function optionsList(schema,uiSchema){const schemaWithEnumNames=schema;if(schema.enum){let enumNames;if(uiSchema){const{enumNames:uiEnumNames}=getUiOptions(uiSchema);enumNames=uiEnumNames}return!enumNames&&schemaWithEnumNames.enumNames&&(enumNames=schemaWithEnumNames.enumNames),schema.enum.map(((value,i)=>({label:(null==enumNames?void 0:enumNames[i])||String(value),value})))}let altSchemas,altUiSchemas;return schema.anyOf?(altSchemas=schema.anyOf,altUiSchemas=null==uiSchema?void 0:uiSchema.anyOf):schema.oneOf&&(altSchemas=schema.oneOf,altUiSchemas=null==uiSchema?void 0:uiSchema.oneOf),altSchemas&&altSchemas.map(((aSchemaDef,index)=>{const{title}=getUiOptions(null==altUiSchemas?void 0:altUiSchemas[index]),aSchema=aSchemaDef,value=function toConstant(schema){if("enum"in schema&&Array.isArray(schema.enum)&&1===schema.enum.length)return schema.enum[0];if("const"in schema)return schema.const;throw new Error("schema cannot be inferred as a constant")}(aSchema);return{schema:aSchema,label:title||aSchema.title||String(value),value}}))}const PRIMITIVE_TYPES=["string","number","integer","boolean","null"];var AdditionalItemsHandling;function getInnerSchemaForArrayItem(schema,additionalItems=AdditionalItemsHandling.Ignore,idx=-1){if(idx>=0){if(Array.isArray(schema.items)&&idx<schema.items.length){const item=schema.items[idx];if("boolean"!=typeof item)return item}}else if(schema.items&&!Array.isArray(schema.items)&&"boolean"!=typeof schema.items)return schema.items;return additionalItems!==AdditionalItemsHandling.Ignore&&client_esm_isObject(schema.additionalItems)?schema.additionalItems:{}}function maybeAddDefaultToObject(obj,key,computedDefault,includeUndefinedValues,isParentRequired,requiredFields=[],experimental_defaultFormStateBehavior={},isConst=!1){const{emptyObjectFields="populateAllDefaults"}=experimental_defaultFormStateBehavior;if(includeUndefinedValues||isConst)obj[key]=computedDefault;else if("skipDefaults"!==emptyObjectFields){const isSelfOrParentRequired=void 0===isParentRequired?requiredFields.includes(key):isParentRequired;client_esm_isObject(computedDefault)?"skipEmptyDefaults"===emptyObjectFields?(0,isEmpty.A)(computedDefault)||(obj[key]=computedDefault):(0,isEmpty.A)(computedDefault)&&!requiredFields.includes(key)||!isSelfOrParentRequired&&"populateRequiredDefaults"===emptyObjectFields||(obj[key]=computedDefault):void 0!==computedDefault&&("populateAllDefaults"===emptyObjectFields||"skipEmptyDefaults"===emptyObjectFields||isSelfOrParentRequired&&requiredFields.includes(key))&&(obj[key]=computedDefault)}}function computeDefaults(validator,rawSchema,computeDefaultsProps={}){const{parentDefaults,rawFormData,rootSchema={},includeUndefinedValues=!1,_recurseList=[],experimental_defaultFormStateBehavior,experimental_customMergeAllOf,required,shouldMergeDefaultsIntoFormData=!1}=computeDefaultsProps,formData=client_esm_isObject(rawFormData)?rawFormData:{},schema=client_esm_isObject(rawSchema)?rawSchema:{};let defaults=parentDefaults,schemaToCompute=null,experimental_dfsb_to_compute=experimental_defaultFormStateBehavior,updatedRecurseList=_recurseList;if(schema.const&&"never"!==(null==experimental_defaultFormStateBehavior?void 0:experimental_defaultFormStateBehavior.constAsDefaults)&&!constIsAjvDataReference(schema))defaults=schema.const;else if(client_esm_isObject(defaults)&&client_esm_isObject(schema.default))defaults=mergeObjects(defaults,schema.default);else if("default"in schema)defaults=schema.default;else if("$ref"in schema){const refName=schema.$ref;_recurseList.includes(refName)||(updatedRecurseList=_recurseList.concat(refName),schemaToCompute=findSchemaDefinition(refName,rootSchema))}else if("dependencies"in schema){const defaultFormData={...getDefaultBasedOnSchemaType(validator,schema,computeDefaultsProps,defaults),...formData};schemaToCompute=resolveDependencies(validator,schema,rootSchema,!1,[],defaultFormData,experimental_customMergeAllOf)[0]}else if(isFixedItems(schema))defaults=schema.items.map(((itemSchema,idx)=>computeDefaults(validator,itemSchema,{rootSchema,includeUndefinedValues,_recurseList,experimental_defaultFormStateBehavior,experimental_customMergeAllOf,parentDefaults:Array.isArray(parentDefaults)?parentDefaults[idx]:void 0,rawFormData:formData,required,shouldMergeDefaultsIntoFormData})));else if("oneOf"in schema){const{oneOf,...remaining}=schema;if(0===oneOf.length)return;const discriminator=getDiscriminatorFieldFromSchema(schema),{type="null"}=remaining;!Array.isArray(type)&&PRIMITIVE_TYPES.includes(type)&&"skipOneOf"===(null==experimental_dfsb_to_compute?void 0:experimental_dfsb_to_compute.constAsDefaults)&&(experimental_dfsb_to_compute={...experimental_dfsb_to_compute,constAsDefaults:"never"}),schemaToCompute=oneOf[getClosestMatchingOption(validator,rootSchema,rawFormData,oneOf,0,discriminator,experimental_customMergeAllOf)],schemaToCompute=mergeSchemas(remaining,schemaToCompute)}else if("anyOf"in schema){const{anyOf,...remaining}=schema;if(0===anyOf.length)return;const discriminator=getDiscriminatorFieldFromSchema(schema);schemaToCompute=anyOf[getClosestMatchingOption(validator,rootSchema,rawFormData,anyOf,0,discriminator,experimental_customMergeAllOf)],schemaToCompute=mergeSchemas(remaining,schemaToCompute)}if(schemaToCompute)return computeDefaults(validator,schemaToCompute,{rootSchema,includeUndefinedValues,_recurseList:updatedRecurseList,experimental_defaultFormStateBehavior:experimental_dfsb_to_compute,experimental_customMergeAllOf,parentDefaults:defaults,rawFormData:formData,required,shouldMergeDefaultsIntoFormData});void 0===defaults&&(defaults=schema.default);const defaultBasedOnSchemaType=getDefaultBasedOnSchemaType(validator,schema,computeDefaultsProps,defaults);let defaultsWithFormData=null!=defaultBasedOnSchemaType?defaultBasedOnSchemaType:defaults;if(shouldMergeDefaultsIntoFormData){const{arrayMinItems={}}=experimental_defaultFormStateBehavior||{},{mergeExtraDefaults}=arrayMinItems,matchingFormData=function ensureFormDataMatchingSchema(validator,schema,rootSchema,formData,experimental_defaultFormStateBehavior,experimental_customMergeAllOf){const isSelectField=!isConstant(schema)&&isSelect(validator,schema,rootSchema,experimental_customMergeAllOf);let validFormData=formData;if(isSelectField){const getOptionsList=optionsList(schema);validFormData=(null==getOptionsList?void 0:getOptionsList.some((option=>deepEquals(option.value,formData))))?formData:void 0}const constTakesPrecedence=schema.const&&"always"===(null==experimental_defaultFormStateBehavior?void 0:experimental_defaultFormStateBehavior.constAsDefaults);constTakesPrecedence&&(validFormData=schema.const);return validFormData}(validator,schema,rootSchema,rawFormData,experimental_defaultFormStateBehavior,experimental_customMergeAllOf);client_esm_isObject(rawFormData)||(defaultsWithFormData=mergeDefaultsWithFormData(defaultsWithFormData,matchingFormData,mergeExtraDefaults,!0))}return defaultsWithFormData}function getDefaultBasedOnSchemaType(validator,rawSchema,computeDefaultsProps={},defaults){switch(getSchemaType(rawSchema)){case"object":return function getObjectDefaults(validator,rawSchema,{rawFormData,rootSchema={},includeUndefinedValues=!1,_recurseList=[],experimental_defaultFormStateBehavior,experimental_customMergeAllOf,required,shouldMergeDefaultsIntoFormData}={},defaults){{const formData=client_esm_isObject(rawFormData)?rawFormData:{},schema=rawSchema,retrievedSchema="populateDefaults"===(null==experimental_defaultFormStateBehavior?void 0:experimental_defaultFormStateBehavior.allOf)&&"allOf"in schema?retrieveSchema(validator,schema,rootSchema,formData,experimental_customMergeAllOf):schema,parentConst=retrievedSchema.const,objectDefaults=Object.keys(retrievedSchema.properties||{}).reduce(((acc,key)=>{var _a;const propertySchema=(0,get.A)(retrievedSchema,["properties",key]),hasParentConst=client_esm_isObject(parentConst)&&void 0!==parentConst[key],hasConst=(client_esm_isObject(propertySchema)&&"const"in propertySchema||hasParentConst)&&"never"!==(null==experimental_defaultFormStateBehavior?void 0:experimental_defaultFormStateBehavior.constAsDefaults)&&!constIsAjvDataReference(propertySchema);return maybeAddDefaultToObject(acc,key,computeDefaults(validator,propertySchema,{rootSchema,_recurseList,experimental_defaultFormStateBehavior,experimental_customMergeAllOf,includeUndefinedValues:!0===includeUndefinedValues,parentDefaults:(0,get.A)(defaults,[key]),rawFormData:(0,get.A)(formData,[key]),required:null===(_a=retrievedSchema.required)||void 0===_a?void 0:_a.includes(key),shouldMergeDefaultsIntoFormData}),includeUndefinedValues,required,retrievedSchema.required,experimental_defaultFormStateBehavior,hasConst),acc}),{});if(retrievedSchema.additionalProperties){const additionalPropertiesSchema=client_esm_isObject(retrievedSchema.additionalProperties)?retrievedSchema.additionalProperties:{},keys=new Set;client_esm_isObject(defaults)&&Object.keys(defaults).filter((key=>!retrievedSchema.properties||!retrievedSchema.properties[key])).forEach((key=>keys.add(key)));const formDataRequired=[];Object.keys(formData).filter((key=>!retrievedSchema.properties||!retrievedSchema.properties[key])).forEach((key=>{keys.add(key),formDataRequired.push(key)})),keys.forEach((key=>{var _a;const computedDefault=computeDefaults(validator,additionalPropertiesSchema,{rootSchema,_recurseList,experimental_defaultFormStateBehavior,experimental_customMergeAllOf,includeUndefinedValues:!0===includeUndefinedValues,parentDefaults:(0,get.A)(defaults,[key]),rawFormData:(0,get.A)(formData,[key]),required:null===(_a=retrievedSchema.required)||void 0===_a?void 0:_a.includes(key),shouldMergeDefaultsIntoFormData});maybeAddDefaultToObject(objectDefaults,key,computedDefault,includeUndefinedValues,required,formDataRequired)}))}return objectDefaults}}(validator,rawSchema,computeDefaultsProps,defaults);case"array":return function getArrayDefaults(validator,rawSchema,{rawFormData,rootSchema={},_recurseList=[],experimental_defaultFormStateBehavior,experimental_customMergeAllOf,required,shouldMergeDefaultsIntoFormData}={},defaults){var _a,_b;const schema=rawSchema,arrayMinItemsStateBehavior=null!==(_a=null==experimental_defaultFormStateBehavior?void 0:experimental_defaultFormStateBehavior.arrayMinItems)&&void 0!==_a?_a:{},{populate:arrayMinItemsPopulate,mergeExtraDefaults:arrayMergeExtraDefaults}=arrayMinItemsStateBehavior,neverPopulate="never"===arrayMinItemsPopulate,ignoreMinItemsFlagSet="requiredOnly"===arrayMinItemsPopulate,isPopulateAll="all"===arrayMinItemsPopulate||!neverPopulate&&!ignoreMinItemsFlagSet,computeSkipPopulate=null!==(_b=null==arrayMinItemsStateBehavior?void 0:arrayMinItemsStateBehavior.computeSkipPopulate)&&void 0!==_b?_b:()=>!1,emptyDefault="skipEmptyDefaults"===(null==experimental_defaultFormStateBehavior?void 0:experimental_defaultFormStateBehavior.emptyObjectFields)?void 0:[];if(Array.isArray(defaults)&&(defaults=defaults.map(((item,idx)=>{const schemaItem=getInnerSchemaForArrayItem(schema,AdditionalItemsHandling.Fallback,idx);return computeDefaults(validator,schemaItem,{rootSchema,_recurseList,experimental_defaultFormStateBehavior,experimental_customMergeAllOf,parentDefaults:item,required,shouldMergeDefaultsIntoFormData})}))),Array.isArray(rawFormData)){const schemaItem=getInnerSchemaForArrayItem(schema);if(neverPopulate)defaults=rawFormData;else{const itemDefaults=rawFormData.map(((item,idx)=>computeDefaults(validator,schemaItem,{rootSchema,_recurseList,experimental_defaultFormStateBehavior,experimental_customMergeAllOf,rawFormData:item,parentDefaults:(0,get.A)(defaults,[idx]),required,shouldMergeDefaultsIntoFormData})));defaults=mergeDefaultsWithFormData(defaults,itemDefaults,(ignoreMinItemsFlagSet&&required||isPopulateAll)&&arrayMergeExtraDefaults)}}if(!1===(client_esm_isObject(schema)&&"const"in schema&&"never"!==(null==experimental_defaultFormStateBehavior?void 0:experimental_defaultFormStateBehavior.constAsDefaults))){if(neverPopulate)return null!=defaults?defaults:emptyDefault;if(ignoreMinItemsFlagSet&&!required)return defaults||void 0}const defaultsLength=Array.isArray(defaults)?defaults.length:0;if(!schema.minItems||isMultiSelect(validator,schema,rootSchema,experimental_customMergeAllOf)||computeSkipPopulate(validator,schema,rootSchema)||schema.minItems<=defaultsLength)return defaults||emptyDefault;const defaultEntries=defaults||[],fillerSchema=getInnerSchemaForArrayItem(schema,AdditionalItemsHandling.Invert),fillerDefault=fillerSchema.default,fillerEntries=new Array(schema.minItems-defaultsLength).fill(computeDefaults(validator,fillerSchema,{parentDefaults:fillerDefault,rootSchema,_recurseList,experimental_defaultFormStateBehavior,experimental_customMergeAllOf,required,shouldMergeDefaultsIntoFormData}));return defaultEntries.concat(fillerEntries)}(validator,rawSchema,computeDefaultsProps,defaults)}}function getDefaultFormState(validator,theSchema,formData,rootSchema,includeUndefinedValues=!1,experimental_defaultFormStateBehavior,experimental_customMergeAllOf){if(!client_esm_isObject(theSchema))throw new Error("Invalid schema: "+theSchema);const defaults=computeDefaults(validator,retrieveSchema(validator,theSchema,rootSchema,formData,experimental_customMergeAllOf),{rootSchema,includeUndefinedValues,experimental_defaultFormStateBehavior,experimental_customMergeAllOf,rawFormData:formData,shouldMergeDefaultsIntoFormData:!0});if(client_esm_isObject(formData)||Array.isArray(formData)){const{mergeDefaultsIntoFormData}=experimental_defaultFormStateBehavior||{};return mergeDefaultsWithFormData(defaults,formData,!0,"useDefaultIfFormDataUndefined"===mergeDefaultsIntoFormData,!0)}return defaults}function isCustomWidget(uiSchema={}){return"widget"in getUiOptions(uiSchema)&&"hidden"!==getUiOptions(uiSchema).widget}function isFilesArray(validator,schema,uiSchema={},rootSchema,experimental_customMergeAllOf){if("files"===uiSchema[UI_WIDGET_KEY])return!0;if(schema.items){const itemsSchema=retrieveSchema(validator,schema.items,rootSchema,void 0,experimental_customMergeAllOf);return"string"===itemsSchema.type&&"data-url"===itemsSchema.format}return!1}!function(AdditionalItemsHandling){AdditionalItemsHandling[AdditionalItemsHandling.Ignore=0]="Ignore",AdditionalItemsHandling[AdditionalItemsHandling.Invert=1]="Invert",AdditionalItemsHandling[AdditionalItemsHandling.Fallback=2]="Fallback"}(AdditionalItemsHandling||(AdditionalItemsHandling={}));const NO_VALUE=Symbol("no Value");function sanitizeDataForNewSchema(validator,rootSchema,newSchema,oldSchema,data={},experimental_customMergeAllOf){let newFormData;if((0,has.A)(newSchema,"properties")){const removeOldSchemaData={};if((0,has.A)(oldSchema,"properties")){const properties=(0,get.A)(oldSchema,"properties",{});Object.keys(properties).forEach((key=>{(0,has.A)(data,key)&&(removeOldSchemaData[key]=void 0)}))}const keys=Object.keys((0,get.A)(newSchema,"properties",{})),nestedData={};keys.forEach((key=>{const formValue=(0,get.A)(data,key);let oldKeyedSchema=(0,get.A)(oldSchema,["properties",key],{}),newKeyedSchema=(0,get.A)(newSchema,["properties",key],{});(0,has.A)(oldKeyedSchema,"$ref")&&(oldKeyedSchema=retrieveSchema(validator,oldKeyedSchema,rootSchema,formValue,experimental_customMergeAllOf)),(0,has.A)(newKeyedSchema,"$ref")&&(newKeyedSchema=retrieveSchema(validator,newKeyedSchema,rootSchema,formValue,experimental_customMergeAllOf));const oldSchemaTypeForKey=(0,get.A)(oldKeyedSchema,"type"),newSchemaTypeForKey=(0,get.A)(newKeyedSchema,"type");if(!oldSchemaTypeForKey||oldSchemaTypeForKey===newSchemaTypeForKey)if((0,has.A)(removeOldSchemaData,key)&&delete removeOldSchemaData[key],"object"===newSchemaTypeForKey||"array"===newSchemaTypeForKey&&Array.isArray(formValue)){const itemData=sanitizeDataForNewSchema(validator,rootSchema,newKeyedSchema,oldKeyedSchema,formValue,experimental_customMergeAllOf);void 0===itemData&&"array"!==newSchemaTypeForKey||(nestedData[key]=itemData)}else{const newOptionDefault=(0,get.A)(newKeyedSchema,"default",NO_VALUE),oldOptionDefault=(0,get.A)(oldKeyedSchema,"default",NO_VALUE);newOptionDefault!==NO_VALUE&&newOptionDefault!==formValue&&(oldOptionDefault===formValue?removeOldSchemaData[key]=newOptionDefault:!0===(0,get.A)(newKeyedSchema,"readOnly")&&(removeOldSchemaData[key]=void 0));const newOptionConst=(0,get.A)(newKeyedSchema,"const",NO_VALUE),oldOptionConst=(0,get.A)(oldKeyedSchema,"const",NO_VALUE);newOptionConst!==NO_VALUE&&newOptionConst!==formValue&&(removeOldSchemaData[key]=oldOptionConst===formValue?newOptionConst:void 0)}})),newFormData={..."string"==typeof data||Array.isArray(data)?void 0:data,...removeOldSchemaData,...nestedData}}else if("array"===(0,get.A)(oldSchema,"type")&&"array"===(0,get.A)(newSchema,"type")&&Array.isArray(data)){let oldSchemaItems=(0,get.A)(oldSchema,"items"),newSchemaItems=(0,get.A)(newSchema,"items");if("object"!=typeof oldSchemaItems||"object"!=typeof newSchemaItems||Array.isArray(oldSchemaItems)||Array.isArray(newSchemaItems))"boolean"==typeof oldSchemaItems&&"boolean"==typeof newSchemaItems&&oldSchemaItems===newSchemaItems&&(newFormData=data);else{(0,has.A)(oldSchemaItems,"$ref")&&(oldSchemaItems=retrieveSchema(validator,oldSchemaItems,rootSchema,data,experimental_customMergeAllOf)),(0,has.A)(newSchemaItems,"$ref")&&(newSchemaItems=retrieveSchema(validator,newSchemaItems,rootSchema,data,experimental_customMergeAllOf));const oldSchemaType=(0,get.A)(oldSchemaItems,"type"),newSchemaType=(0,get.A)(newSchemaItems,"type");if(!oldSchemaType||oldSchemaType===newSchemaType){const maxItems=(0,get.A)(newSchema,"maxItems",-1);newFormData="object"===newSchemaType?data.reduce(((newValue,aValue)=>{const itemValue=sanitizeDataForNewSchema(validator,rootSchema,newSchemaItems,oldSchemaItems,aValue,experimental_customMergeAllOf);return void 0!==itemValue&&(maxItems<0||newValue.length<maxItems)&&newValue.push(itemValue),newValue}),[]):maxItems>0&&data.length>maxItems?data.slice(0,maxItems):data}}}return newFormData}function toIdSchemaInternal(validator,schema,idPrefix,idSeparator,id,rootSchema,formData,_recurseList=[],experimental_customMergeAllOf){if("$ref"in schema||"dependencies"in schema||"allOf"in schema){const _schema=retrieveSchema(validator,schema,rootSchema,formData,experimental_customMergeAllOf);if(-1===_recurseList.findIndex((item=>deepEquals(item,_schema))))return toIdSchemaInternal(validator,_schema,idPrefix,idSeparator,id,rootSchema,formData,_recurseList.concat(_schema),experimental_customMergeAllOf)}if("items"in schema&&!(0,get.A)(schema,["items","$ref"]))return toIdSchemaInternal(validator,(0,get.A)(schema,"items"),idPrefix,idSeparator,id,rootSchema,formData,_recurseList,experimental_customMergeAllOf);const idSchema={$id:id||idPrefix};if("object"===getSchemaType(schema)&&"properties"in schema)for(const name in schema.properties){const field=(0,get.A)(schema,["properties",name]),fieldId=idSchema.$id+idSeparator+name;idSchema[name]=toIdSchemaInternal(validator,client_esm_isObject(field)?field:{},idPrefix,idSeparator,fieldId,rootSchema,(0,get.A)(formData,[name]),_recurseList,experimental_customMergeAllOf)}return idSchema}function toIdSchema(validator,schema,id,rootSchema,formData,idPrefix="root",idSeparator="_",experimental_customMergeAllOf){return toIdSchemaInternal(validator,schema,idPrefix,idSeparator,id,rootSchema,formData,void 0,experimental_customMergeAllOf)}function toPathSchemaInternal(validator,schema,name,rootSchema,formData,_recurseList=[],experimental_customMergeAllOf){if("$ref"in schema||"dependencies"in schema||"allOf"in schema){const _schema=retrieveSchema(validator,schema,rootSchema,formData,experimental_customMergeAllOf);if(-1===_recurseList.findIndex((item=>deepEquals(item,_schema))))return toPathSchemaInternal(validator,_schema,name,rootSchema,formData,_recurseList.concat(_schema),experimental_customMergeAllOf)}let pathSchema={[NAME_KEY]:name.replace(/^\./,"")};if("oneOf"in schema||"anyOf"in schema){const xxxOf="oneOf"in schema?schema.oneOf:schema.anyOf,discriminator=getDiscriminatorFieldFromSchema(schema),_schema=xxxOf[getClosestMatchingOption(validator,rootSchema,formData,xxxOf,0,discriminator,experimental_customMergeAllOf)];pathSchema={...pathSchema,...toPathSchemaInternal(validator,_schema,name,rootSchema,formData,_recurseList,experimental_customMergeAllOf)}}if("additionalProperties"in schema&&!1!==schema.additionalProperties&&(0,set.A)(pathSchema,"__rjsf_additionalProperties",!0),"items"in schema&&Array.isArray(formData)){const{items:schemaItems,additionalItems:schemaAdditionalItems}=schema;Array.isArray(schemaItems)?formData.forEach(((element,i)=>{schemaItems[i]?pathSchema[i]=toPathSchemaInternal(validator,schemaItems[i],`${name}.${i}`,rootSchema,element,_recurseList,experimental_customMergeAllOf):schemaAdditionalItems?pathSchema[i]=toPathSchemaInternal(validator,schemaAdditionalItems,`${name}.${i}`,rootSchema,element,_recurseList,experimental_customMergeAllOf):console.warn(`Unable to generate path schema for "${name}.${i}". No schema defined for it`)})):formData.forEach(((element,i)=>{pathSchema[i]=toPathSchemaInternal(validator,schemaItems,`${name}.${i}`,rootSchema,element,_recurseList,experimental_customMergeAllOf)}))}else if("properties"in schema)for(const property in schema.properties){const field=(0,get.A)(schema,["properties",property]);pathSchema[property]=toPathSchemaInternal(validator,field,`${name}.${property}`,rootSchema,(0,get.A)(formData,[property]),_recurseList,experimental_customMergeAllOf)}return pathSchema}function toPathSchema(validator,schema,name="",rootSchema,formData,experimental_customMergeAllOf){return toPathSchemaInternal(validator,schema,name,rootSchema,formData,void 0,experimental_customMergeAllOf)}class SchemaUtils{constructor(validator,rootSchema,experimental_defaultFormStateBehavior,experimental_customMergeAllOf){this.rootSchema=rootSchema,this.validator=validator,this.experimental_defaultFormStateBehavior=experimental_defaultFormStateBehavior,this.experimental_customMergeAllOf=experimental_customMergeAllOf}getValidator(){return this.validator}doesSchemaUtilsDiffer(validator,rootSchema,experimental_defaultFormStateBehavior={},experimental_customMergeAllOf){return!(!validator||!rootSchema)&&(this.validator!==validator||!deepEquals(this.rootSchema,rootSchema)||!deepEquals(this.experimental_defaultFormStateBehavior,experimental_defaultFormStateBehavior)||this.experimental_customMergeAllOf!==experimental_customMergeAllOf)}getDefaultFormState(schema,formData,includeUndefinedValues=!1){return getDefaultFormState(this.validator,schema,formData,this.rootSchema,includeUndefinedValues,this.experimental_defaultFormStateBehavior,this.experimental_customMergeAllOf)}getDisplayLabel(schema,uiSchema,globalOptions){return function getDisplayLabel(validator,schema,uiSchema={},rootSchema,globalOptions,experimental_customMergeAllOf){const uiOptions=getUiOptions(uiSchema,globalOptions),{label=!0}=uiOptions;let displayLabel=!!label;const schemaType=getSchemaType(schema);return"array"===schemaType&&(displayLabel=isMultiSelect(validator,schema,rootSchema,experimental_customMergeAllOf)||isFilesArray(validator,schema,uiSchema,rootSchema,experimental_customMergeAllOf)||isCustomWidget(uiSchema)),"object"===schemaType&&(displayLabel=!1),"boolean"!==schemaType||uiSchema[UI_WIDGET_KEY]||(displayLabel=!1),uiSchema["ui:field"]&&(displayLabel=!1),displayLabel}(this.validator,schema,uiSchema,this.rootSchema,globalOptions,this.experimental_customMergeAllOf)}getClosestMatchingOption(formData,options,selectedOption,discriminatorField){return getClosestMatchingOption(this.validator,this.rootSchema,formData,options,selectedOption,discriminatorField,this.experimental_customMergeAllOf)}getFirstMatchingOption(formData,options,discriminatorField){return getFirstMatchingOption(this.validator,formData,options,this.rootSchema,discriminatorField)}getMatchingOption(formData,options,discriminatorField){return getMatchingOption$1(this.validator,formData,options,this.rootSchema,discriminatorField)}isFilesArray(schema,uiSchema){return isFilesArray(this.validator,schema,uiSchema,this.rootSchema,this.experimental_customMergeAllOf)}isMultiSelect(schema){return isMultiSelect(this.validator,schema,this.rootSchema,this.experimental_customMergeAllOf)}isSelect(schema){return isSelect(this.validator,schema,this.rootSchema,this.experimental_customMergeAllOf)}mergeValidationData(validationData,additionalErrorSchema){return function mergeValidationData(validator,validationData,additionalErrorSchema){if(!additionalErrorSchema)return validationData;const{errors:oldErrors,errorSchema:oldErrorSchema}=validationData;let errors=validator.toErrorList(additionalErrorSchema),errorSchema=additionalErrorSchema;return(0,isEmpty.A)(oldErrorSchema)||(errorSchema=mergeObjects(oldErrorSchema,additionalErrorSchema,!0),errors=[...oldErrors].concat(errors)),{errorSchema,errors}}(this.validator,validationData,additionalErrorSchema)}retrieveSchema(schema,rawFormData){return retrieveSchema(this.validator,schema,this.rootSchema,rawFormData,this.experimental_customMergeAllOf)}sanitizeDataForNewSchema(newSchema,oldSchema,data){return sanitizeDataForNewSchema(this.validator,this.rootSchema,newSchema,oldSchema,data,this.experimental_customMergeAllOf)}toIdSchema(schema,id,formData,idPrefix="root",idSeparator="_"){return toIdSchema(this.validator,schema,id,this.rootSchema,formData,idPrefix,idSeparator,this.experimental_customMergeAllOf)}toPathSchema(schema,name,formData){return toPathSchema(this.validator,schema,name,this.rootSchema,formData,this.experimental_customMergeAllOf)}}function createSchemaUtils(validator,rootSchema,experimental_defaultFormStateBehavior={},experimental_customMergeAllOf){return new SchemaUtils(validator,rootSchema,experimental_defaultFormStateBehavior,experimental_customMergeAllOf)}function dataURItoBlob(dataURILike){var _a;if(-1===dataURILike.indexOf("data:"))throw new Error("File is invalid: URI must be a dataURI");const splitted=dataURILike.slice(5).split(";base64,");if(2!==splitted.length)throw new Error("File is invalid: dataURI must be base64");const[media,base64]=splitted,[mime,...mediaparams]=media.split(";"),type=mime||"",name=decodeURI((null===(_a=mediaparams.map((param=>param.split("="))).find((([key])=>"name"===key)))||void 0===_a?void 0:_a[1])||"unknown");try{const binary=atob(base64),array=new Array(binary.length);for(let i=0;i<binary.length;i++)array[i]=binary.charCodeAt(i);return{blob:new window.Blob([new Uint8Array(array)],{type}),name}}catch(error){throw new Error("File is invalid: "+error.message)}}function pad(num,width){let s=String(num);for(;s.length<width;)s="0"+s;return s}function dateRangeOptions(start,stop){if(start<=0&&stop<=0)start=(new Date).getFullYear()+start,stop=(new Date).getFullYear()+stop;else if(start<0||stop<0)throw new Error(`Both start (${start}) and stop (${stop}) must both be <= 0 or > 0, got one of each`);if(start>stop)return dateRangeOptions(stop,start).reverse();const options=[];for(let i=start;i<=stop;i++)options.push({value:i,label:pad(i,2)});return options}function englishStringTranslator(stringToTranslate,params){return function replaceStringParameters(inputString,params){let output=inputString;if(Array.isArray(params)){const parts=output.split(/(%\d)/);params.forEach(((param,index)=>{const partIndex=parts.findIndex((part=>part===`%${index+1}`));partIndex>=0&&(parts[partIndex]=param)})),output=parts.join("")}return output}(stringToTranslate,params)}function enumOptionsValueForIndex(valueIndex,allEnumOptions=[],emptyValue){if(Array.isArray(valueIndex))return valueIndex.map((index=>enumOptionsValueForIndex(index,allEnumOptions))).filter((val=>val!==emptyValue));const index=""===valueIndex||null===valueIndex?-1:Number(valueIndex),option=allEnumOptions[index];return option?option.value:emptyValue}function enumOptionsIsSelected(value,selected){return Array.isArray(selected)?selected.some((sel=>deepEquals(sel,value))):deepEquals(selected,value)}class ErrorSchemaBuilder{constructor(initialSchema){this.errorSchema={},this.resetAllErrors(initialSchema)}get ErrorSchema(){return this.errorSchema}getOrCreateErrorBlock(pathOfError){let errorBlock=Array.isArray(pathOfError)&&pathOfError.length>0||"string"==typeof pathOfError?(0,get.A)(this.errorSchema,pathOfError):this.errorSchema;return!errorBlock&&pathOfError&&(errorBlock={},(0,setWith.A)(this.errorSchema,pathOfError,errorBlock,Object)),errorBlock}resetAllErrors(initialSchema){return this.errorSchema=initialSchema?(0,cloneDeep.A)(initialSchema):{},this}addErrors(errorOrList,pathOfError){const errorBlock=this.getOrCreateErrorBlock(pathOfError);let errorsList=(0,get.A)(errorBlock,"__errors");return Array.isArray(errorsList)||(errorsList=[],errorBlock.__errors=errorsList),Array.isArray(errorOrList)?(0,set.A)(errorBlock,"__errors",[...new Set([...errorsList,...errorOrList])]):(0,set.A)(errorBlock,"__errors",[...new Set([...errorsList,errorOrList])]),this}setErrors(errorOrList,pathOfError){const errorBlock=this.getOrCreateErrorBlock(pathOfError),listToAdd=Array.isArray(errorOrList)?[...new Set([...errorOrList])]:[errorOrList];return(0,set.A)(errorBlock,"__errors",listToAdd),this}clearErrors(pathOfError){const errorBlock=this.getOrCreateErrorBlock(pathOfError);return(0,set.A)(errorBlock,"__errors",[]),this}}function getDateElementProps(date,time,yearRange=[1900,(new Date).getFullYear()+2],format="YMD"){const{day,month,year,hour,minute,second}=date,dayObj={type:"day",range:[1,31],value:day},monthObj={type:"month",range:[1,12],value:month},yearObj={type:"year",range:yearRange,value:year},dateElementProp=[];switch(format){case"MDY":dateElementProp.push(monthObj,dayObj,yearObj);break;case"DMY":dateElementProp.push(dayObj,monthObj,yearObj);break;default:dateElementProp.push(yearObj,monthObj,dayObj)}return time&&dateElementProp.push({type:"hour",range:[0,23],value:hour},{type:"minute",range:[0,59],value:minute},{type:"second",range:[0,59],value:second}),dateElementProp}function rangeSpec(schema){const spec={};return schema.multipleOf&&(spec.step=schema.multipleOf),(schema.minimum||0===schema.minimum)&&(spec.min=schema.minimum),(schema.maximum||0===schema.maximum)&&(spec.max=schema.maximum),spec}function getInputProps(schema,defaultType,options={},autoDefaultStepAny=!0){const inputProps={type:defaultType||"text",...rangeSpec(schema)};return options.inputType?inputProps.type=options.inputType:defaultType||("number"===schema.type?(inputProps.type="number",autoDefaultStepAny&&void 0===inputProps.step&&(inputProps.step="any")):"integer"===schema.type&&(inputProps.type="number",void 0===inputProps.step&&(inputProps.step=1))),options.autocomplete&&(inputProps.autoComplete=options.autocomplete),options.accept&&(inputProps.accept=options.accept),inputProps}const DEFAULT_OPTIONS={props:{disabled:!1},submitText:"Submit",norender:!1};function getSubmitButtonOptions(uiSchema={}){const uiOptions=getUiOptions(uiSchema);if(uiOptions&&uiOptions[SUBMIT_BTN_OPTIONS_KEY]){const options=uiOptions[SUBMIT_BTN_OPTIONS_KEY];return{...DEFAULT_OPTIONS,...options}}return DEFAULT_OPTIONS}function getTemplate(name,registry,uiOptions={}){const{templates}=registry;return"ButtonTemplates"===name?templates[name]:uiOptions[name]||templates[name]}const widgetMap={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",time:"TimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}};function getWidget$1(schema,widget,registeredWidgets={}){const type=getSchemaType(schema);if("function"==typeof widget||widget&&react_is.isForwardRef((0,react.createElement)(widget))||react_is.isMemo(widget))return function mergeWidgetOptions(AWidget){let MergedWidget=(0,get.A)(AWidget,"MergedWidget");if(!MergedWidget){const defaultOptions=AWidget.defaultProps&&AWidget.defaultProps.options||{};MergedWidget=({options,...props})=>(0,jsx_runtime.jsx)(AWidget,{options:{...defaultOptions,...options},...props}),(0,set.A)(AWidget,"MergedWidget",MergedWidget)}return MergedWidget}(widget);if("string"!=typeof widget)throw new Error("Unsupported widget definition: "+typeof widget);if(widget in registeredWidgets){return getWidget$1(schema,registeredWidgets[widget],registeredWidgets)}if("string"==typeof type){if(!(type in widgetMap))throw new Error(`No widget for type '${type}'`);if(widget in widgetMap[type]){return getWidget$1(schema,registeredWidgets[widgetMap[type][widget]],registeredWidgets)}}throw new Error(`No widget '${widget}' for type '${type}'`)}function idGenerator(id,suffix){return`${(0,isString.A)(id)?id:id.$id}__${suffix}`}function descriptionId(id){return idGenerator(id,"description")}function errorId(id){return idGenerator(id,"error")}function examplesId(id){return idGenerator(id,"examples")}function helpId(id){return idGenerator(id,"help")}function titleId(id){return idGenerator(id,"title")}function ariaDescribedByIds(id,includeExamples=!1){const examples=includeExamples?` ${examplesId(id)}`:"";return`${errorId(id)} ${descriptionId(id)} ${helpId(id)}${examples}`}function optionId(id,optionIndex){return`${id}-${optionIndex}`}function labelValue(label,hideLabel,fallback){return hideLabel?fallback:label}function localToUTC(dateString){return dateString?new Date(dateString).toJSON():void 0}function parseDateString(dateString,includeTime=!0){if(!dateString)return{year:-1,month:-1,day:-1,hour:includeTime?-1:0,minute:includeTime?-1:0,second:includeTime?-1:0};const date=new Date(dateString);if(Number.isNaN(date.getTime()))throw new Error("Unable to parse date "+dateString);return{year:date.getUTCFullYear(),month:date.getUTCMonth()+1,day:date.getUTCDate(),hour:includeTime?date.getUTCHours():0,minute:includeTime?date.getUTCMinutes():0,second:includeTime?date.getUTCSeconds():0}}function schemaRequiresTrueValue(schema){if(schema.const)return!0;if(schema.enum&&1===schema.enum.length&&!0===schema.enum[0])return!0;if(schema.anyOf&&1===schema.anyOf.length)return schemaRequiresTrueValue(schema.anyOf[0]);if(schema.oneOf&&1===schema.oneOf.length)return schemaRequiresTrueValue(schema.oneOf[0]);if(schema.allOf){const schemaSome=subSchema=>schemaRequiresTrueValue(subSchema);return schema.allOf.some(schemaSome)}return!1}function toDateString(dateObject,time=!0){const{year,month,day,hour=0,minute=0,second=0}=dateObject,utcTime=Date.UTC(year,month-1,day,hour,minute,second),datetime=new Date(utcTime).toJSON();return time?datetime:datetime.slice(0,10)}function toErrorList(errorSchema,fieldPath=[]){if(!errorSchema)return[];let errorList=[];return"__errors"in errorSchema&&(errorList=errorList.concat(errorSchema.__errors.map((message=>{const property=`.${fieldPath.join(".")}`;return{property,message,stack:`${property} ${message}`}})))),Object.keys(errorSchema).reduce(((acc,key)=>{if("__errors"!==key){const childSchema=errorSchema[key];(0,isPlainObject.A)(childSchema)&&(acc=acc.concat(toErrorList(childSchema,[...fieldPath,key])))}return acc}),errorList)}function unwrapErrorHandler(errorHandler){return Object.keys(errorHandler).reduce(((acc,key)=>{if("addError"===key)return acc;{const childSchema=errorHandler[key];return(0,isPlainObject.A)(childSchema)?{...acc,[key]:unwrapErrorHandler(childSchema)}:{...acc,[key]:childSchema}}}),{})}function utcToLocal(jsonDate){if(!jsonDate)return"";const date=new Date(jsonDate);return`${pad(date.getFullYear(),4)}-${pad(date.getMonth()+1,2)}-${pad(date.getDate(),2)}T${pad(date.getHours(),2)}:${pad(date.getMinutes(),2)}:${pad(date.getSeconds(),2)}.${pad(date.getMilliseconds(),3)}`}function validationDataMerge(validationData,additionalErrorSchema){if(!additionalErrorSchema)return validationData;const{errors:oldErrors,errorSchema:oldErrorSchema}=validationData;let errors=toErrorList(additionalErrorSchema),errorSchema=additionalErrorSchema;return(0,isEmpty.A)(oldErrorSchema)||(errorSchema=mergeObjects(oldErrorSchema,additionalErrorSchema,!0),errors=[...oldErrors].concat(errors)),{errorSchema,errors}}function withIdRefPrefix(schemaNode){return Array.isArray(schemaNode)?function withIdRefPrefixArray(node){for(let i=0;i<node.length;i++)node[i]=withIdRefPrefix(node[i]);return node}([...schemaNode]):(0,isObject.A)(schemaNode)?function withIdRefPrefixObject(node){for(const key in node){const realObj=node,value=realObj[key];"$ref"===key&&"string"==typeof value&&value.startsWith("#")?realObj[key]="__rjsf_rootSchema"+value:realObj[key]=withIdRefPrefix(value)}return node}({...schemaNode}):schemaNode}var TranslatableString;function generateRowId(){return(0,index_browser.Ak)()}function generateKeyedFormData(formData){return Array.isArray(formData)?formData.map((item=>({key:generateRowId(),item}))):[]}function keyedToPlainFormData(keyedFormData){return Array.isArray(keyedFormData)?keyedFormData.map((keyedItem=>keyedItem.item)):[]}!function(TranslatableString){TranslatableString.ArrayItemTitle="Item",TranslatableString.MissingItems="Missing items definition",TranslatableString.YesLabel="Yes",TranslatableString.NoLabel="No",TranslatableString.CloseLabel="Close",TranslatableString.ErrorsLabel="Errors",TranslatableString.NewStringDefault="New Value",TranslatableString.AddButton="Add",TranslatableString.AddItemButton="Add Item",TranslatableString.CopyButton="Copy",TranslatableString.MoveDownButton="Move down",TranslatableString.MoveUpButton="Move up",TranslatableString.RemoveButton="Remove",TranslatableString.NowLabel="Now",TranslatableString.ClearLabel="Clear",TranslatableString.AriaDateLabel="Select a date",TranslatableString.PreviewLabel="Preview",TranslatableString.DecrementAriaLabel="Decrease value by 1",TranslatableString.IncrementAriaLabel="Increase value by 1",TranslatableString.UnknownFieldType="Unknown field type %1",TranslatableString.OptionPrefix="Option %1",TranslatableString.TitleOptionPrefix="%1 option %2",TranslatableString.KeyLabel="%1 Key",TranslatableString.InvalidObjectField='Invalid "%1" object field configuration: _%2_.',TranslatableString.UnsupportedField="Unsupported field schema.",TranslatableString.UnsupportedFieldWithId="Unsupported field schema for field `%1`.",TranslatableString.UnsupportedFieldWithReason="Unsupported field schema: _%1_.",TranslatableString.UnsupportedFieldWithIdAndReason="Unsupported field schema for field `%1`: _%2_.",TranslatableString.FilesInfo="**%1** (%2, %3 bytes)"}(TranslatableString||(TranslatableString={}));class ArrayField extends react.Component{constructor(props){super(props);const{formData=[]}=props,keyedFormData=generateKeyedFormData(formData);this.state={keyedFormData,updatedKeyedFormData:!1}}static getDerivedStateFromProps(nextProps,prevState){if(prevState.updatedKeyedFormData)return{updatedKeyedFormData:!1};const nextFormData=Array.isArray(nextProps.formData)?nextProps.formData:[],previousKeyedFormData=prevState.keyedFormData||[];return{keyedFormData:nextFormData.length===previousKeyedFormData.length?previousKeyedFormData.map(((previousKeyedFormDatum,index)=>({key:previousKeyedFormDatum.key,item:nextFormData[index]}))):generateKeyedFormData(nextFormData)}}get itemTitle(){const{schema,registry}=this.props,{translateString}=registry;return(0,get.A)(schema,["items","title"],(0,get.A)(schema,["items","description"],translateString(TranslatableString.ArrayItemTitle)))}isItemRequired(itemSchema){return Array.isArray(itemSchema.type)?!itemSchema.type.includes("null"):"null"!==itemSchema.type}canAddItem(formItems){const{schema,uiSchema,registry}=this.props;let{addable}=getUiOptions(uiSchema,registry.globalUiOptions);return!1!==addable&&(addable=void 0===schema.maxItems||formItems.length<schema.maxItems),addable}_getNewFormDataRow=()=>{const{schema,registry}=this.props,{schemaUtils}=registry;let itemSchema=schema.items;return isFixedItems(schema)&&function allowAdditionalItems(schema){return!0===schema.additionalItems&&console.warn("additionalItems=true is currently not supported"),client_esm_isObject(schema.additionalItems)}(schema)&&(itemSchema=schema.additionalItems),schemaUtils.getDefaultFormState(itemSchema)};_handleAddClick(event,index){event&&event.preventDefault();const{onChange,errorSchema}=this.props,{keyedFormData}=this.state;let newErrorSchema;if(errorSchema){newErrorSchema={};for(const idx in errorSchema){const i=parseInt(idx);void 0===index||i<index?(0,set.A)(newErrorSchema,[i],errorSchema[idx]):i>=index&&(0,set.A)(newErrorSchema,[i+1],errorSchema[idx])}}const newKeyedFormDataRow={key:generateRowId(),item:this._getNewFormDataRow()},newKeyedFormData=[...keyedFormData];void 0!==index?newKeyedFormData.splice(index,0,newKeyedFormDataRow):newKeyedFormData.push(newKeyedFormDataRow),this.setState({keyedFormData:newKeyedFormData,updatedKeyedFormData:!0},(()=>onChange(keyedToPlainFormData(newKeyedFormData),newErrorSchema)))}onAddClick=event=>{this._handleAddClick(event)};onAddIndexClick=index=>event=>{this._handleAddClick(event,index)};onCopyIndexClick=index=>event=>{event&&event.preventDefault();const{onChange,errorSchema}=this.props,{keyedFormData}=this.state;let newErrorSchema;if(errorSchema){newErrorSchema={};for(const idx in errorSchema){const i=parseInt(idx);i<=index?(0,set.A)(newErrorSchema,[i],errorSchema[idx]):i>index&&(0,set.A)(newErrorSchema,[i+1],errorSchema[idx])}}const newKeyedFormDataRow={key:generateRowId(),item:(0,cloneDeep.A)(keyedFormData[index].item)},newKeyedFormData=[...keyedFormData];void 0!==index?newKeyedFormData.splice(index+1,0,newKeyedFormDataRow):newKeyedFormData.push(newKeyedFormDataRow),this.setState({keyedFormData:newKeyedFormData,updatedKeyedFormData:!0},(()=>onChange(keyedToPlainFormData(newKeyedFormData),newErrorSchema)))};onDropIndexClick=index=>event=>{event&&event.preventDefault();const{onChange,errorSchema}=this.props,{keyedFormData}=this.state;let newErrorSchema;if(errorSchema){newErrorSchema={};for(const idx in errorSchema){const i=parseInt(idx);i<index?(0,set.A)(newErrorSchema,[i],errorSchema[idx]):i>index&&(0,set.A)(newErrorSchema,[i-1],errorSchema[idx])}}const newKeyedFormData=keyedFormData.filter(((_,i)=>i!==index));this.setState({keyedFormData:newKeyedFormData,updatedKeyedFormData:!0},(()=>onChange(keyedToPlainFormData(newKeyedFormData),newErrorSchema)))};onReorderClick=(index,newIndex)=>event=>{event&&(event.preventDefault(),event.currentTarget.blur());const{onChange,errorSchema}=this.props;let newErrorSchema;if(errorSchema){newErrorSchema={};for(const idx in errorSchema){const i=parseInt(idx);i==index?(0,set.A)(newErrorSchema,[newIndex],errorSchema[index]):i==newIndex?(0,set.A)(newErrorSchema,[index],errorSchema[newIndex]):(0,set.A)(newErrorSchema,[idx],errorSchema[i])}}const{keyedFormData}=this.state;const newKeyedFormData=function reOrderArray(){const _newKeyedFormData=keyedFormData.slice();return _newKeyedFormData.splice(index,1),_newKeyedFormData.splice(newIndex,0,keyedFormData[index]),_newKeyedFormData}();this.setState({keyedFormData:newKeyedFormData},(()=>onChange(keyedToPlainFormData(newKeyedFormData),newErrorSchema)))};onChangeForIndex=index=>(value,newErrorSchema,id)=>{const{formData,onChange,errorSchema}=this.props;onChange((Array.isArray(formData)?formData:[]).map(((item,i)=>index===i?void 0===value?null:value:item)),errorSchema&&errorSchema&&{...errorSchema,[index]:newErrorSchema},id)};onSelectChange=value=>{const{onChange,idSchema}=this.props;onChange(value,void 0,idSchema&&idSchema.$id)};render(){const{schema,uiSchema,idSchema,registry}=this.props,{schemaUtils,translateString}=registry;if(!("items"in schema)){const UnsupportedFieldTemplate=getTemplate("UnsupportedFieldTemplate",registry,getUiOptions(uiSchema));return(0,jsx_runtime.jsx)(UnsupportedFieldTemplate,{schema,idSchema,reason:translateString(TranslatableString.MissingItems),registry})}return schemaUtils.isMultiSelect(schema)?this.renderMultiSelect():isCustomWidget(uiSchema)?this.renderCustomWidget():isFixedItems(schema)?this.renderFixedArray():schemaUtils.isFilesArray(schema,uiSchema)?this.renderFiles():this.renderNormalArray()}renderNormalArray(){const{schema,uiSchema={},errorSchema,idSchema,name,title,disabled=!1,readonly=!1,autofocus=!1,required=!1,registry,onBlur,onFocus,idPrefix,idSeparator="_",rawErrors}=this.props,{keyedFormData}=this.state,fieldTitle=schema.title||title||name,{schemaUtils,formContext}=registry,uiOptions=getUiOptions(uiSchema),_schemaItems=(0,isObject.A)(schema.items)?schema.items:{},itemsSchema=schemaUtils.retrieveSchema(_schemaItems),formData=keyedToPlainFormData(this.state.keyedFormData),canAdd=this.canAddItem(formData),arrayProps={canAdd,items:keyedFormData.map(((keyedItem,index)=>{const{key,item}=keyedItem,itemCast=item,itemSchema=schemaUtils.retrieveSchema(_schemaItems,itemCast),itemErrorSchema=errorSchema?errorSchema[index]:void 0,itemIdPrefix=idSchema.$id+idSeparator+index,itemIdSchema=schemaUtils.toIdSchema(itemSchema,itemIdPrefix,itemCast,idPrefix,idSeparator);return this.renderArrayFieldItem({key,index,name:name&&`${name}-${index}`,title:fieldTitle?`${fieldTitle}-${index+1}`:void 0,canAdd,canMoveUp:index>0,canMoveDown:index<formData.length-1,itemSchema,itemIdSchema,itemErrorSchema,itemData:itemCast,itemUiSchema:uiSchema.items,autofocus:autofocus&&0===index,onBlur,onFocus,rawErrors,totalItems:keyedFormData.length})})),className:`field field-array field-array-of-${itemsSchema.type}`,disabled,idSchema,uiSchema,onAddClick:this.onAddClick,readonly,required,schema,title:fieldTitle,formContext,formData,rawErrors,registry},Template=getTemplate("ArrayFieldTemplate",registry,uiOptions);return(0,jsx_runtime.jsx)(Template,{...arrayProps})}renderCustomWidget(){const{schema,idSchema,uiSchema,disabled=!1,readonly=!1,autofocus=!1,required=!1,hideError,placeholder,onBlur,onFocus,formData:items=[],registry,rawErrors,name}=this.props,{widgets,formContext,globalUiOptions,schemaUtils}=registry,{widget,title:uiTitle,...options}=getUiOptions(uiSchema,globalUiOptions),Widget=getWidget$1(schema,widget,widgets),label=uiTitle??schema.title??name,displayLabel=schemaUtils.getDisplayLabel(schema,uiSchema,globalUiOptions);return(0,jsx_runtime.jsx)(Widget,{id:idSchema.$id,name,multiple:!0,onChange:this.onSelectChange,onBlur,onFocus,options,schema,uiSchema,registry,value:items,disabled,readonly,hideError,required,label,hideLabel:!displayLabel,placeholder,formContext,autofocus,rawErrors})}renderMultiSelect(){const{schema,idSchema,uiSchema,formData:items=[],disabled=!1,readonly=!1,autofocus=!1,required=!1,placeholder,onBlur,onFocus,registry,rawErrors,name}=this.props,{widgets,schemaUtils,formContext,globalUiOptions}=registry,enumOptions=optionsList(schemaUtils.retrieveSchema(schema.items,items),uiSchema),{widget="select",title:uiTitle,...options}=getUiOptions(uiSchema,globalUiOptions),Widget=getWidget$1(schema,widget,widgets),label=uiTitle??schema.title??name,displayLabel=schemaUtils.getDisplayLabel(schema,uiSchema,globalUiOptions);return(0,jsx_runtime.jsx)(Widget,{id:idSchema.$id,name,multiple:!0,onChange:this.onSelectChange,onBlur,onFocus,options:{...options,enumOptions},schema,uiSchema,registry,value:items,disabled,readonly,required,label,hideLabel:!displayLabel,placeholder,formContext,autofocus,rawErrors})}renderFiles(){const{schema,uiSchema,idSchema,name,disabled=!1,readonly=!1,autofocus=!1,required=!1,onBlur,onFocus,registry,formData:items=[],rawErrors}=this.props,{widgets,formContext,globalUiOptions,schemaUtils}=registry,{widget="files",title:uiTitle,...options}=getUiOptions(uiSchema,globalUiOptions),Widget=getWidget$1(schema,widget,widgets),label=uiTitle??schema.title??name,displayLabel=schemaUtils.getDisplayLabel(schema,uiSchema,globalUiOptions);return(0,jsx_runtime.jsx)(Widget,{options,id:idSchema.$id,name,multiple:!0,onChange:this.onSelectChange,onBlur,onFocus,schema,uiSchema,value:items,disabled,readonly,required,registry,formContext,autofocus,rawErrors,label,hideLabel:!displayLabel})}renderFixedArray(){const{schema,uiSchema={},formData=[],errorSchema,idPrefix,idSeparator="_",idSchema,name,title,disabled=!1,readonly=!1,autofocus=!1,required=!1,registry,onBlur,onFocus,rawErrors}=this.props,{keyedFormData}=this.state;let{formData:items=[]}=this.props;const fieldTitle=schema.title||title||name,uiOptions=getUiOptions(uiSchema),{schemaUtils,formContext}=registry,itemSchemas=((0,isObject.A)(schema.items)?schema.items:[]).map(((item,index)=>schemaUtils.retrieveSchema(item,formData[index]))),additionalSchema=(0,isObject.A)(schema.additionalItems)?schemaUtils.retrieveSchema(schema.additionalItems,formData):null;(!items||items.length<itemSchemas.length)&&(items=items||[],items=items.concat(new Array(itemSchemas.length-items.length)));const canAdd=this.canAddItem(items)&&!!additionalSchema,arrayProps={canAdd,className:"field field-array field-array-fixed-items",disabled,idSchema,formData,items:keyedFormData.map(((keyedItem,index)=>{const{key,item}=keyedItem,itemCast=item,additional=index>=itemSchemas.length,itemSchema=(additional&&(0,isObject.A)(schema.additionalItems)?schemaUtils.retrieveSchema(schema.additionalItems,itemCast):itemSchemas[index])||{},itemIdPrefix=idSchema.$id+idSeparator+index,itemIdSchema=schemaUtils.toIdSchema(itemSchema,itemIdPrefix,itemCast,idPrefix,idSeparator),itemUiSchema=additional?uiSchema.additionalItems||{}:Array.isArray(uiSchema.items)?uiSchema.items[index]:uiSchema.items||{},itemErrorSchema=errorSchema?errorSchema[index]:void 0;return this.renderArrayFieldItem({key,index,name:name&&`${name}-${index}`,title:fieldTitle?`${fieldTitle}-${index+1}`:void 0,canAdd,canRemove:additional,canMoveUp:index>=itemSchemas.length+1,canMoveDown:additional&&index<items.length-1,itemSchema,itemData:itemCast,itemUiSchema,itemIdSchema,itemErrorSchema,autofocus:autofocus&&0===index,onBlur,onFocus,rawErrors,totalItems:keyedFormData.length})})),onAddClick:this.onAddClick,readonly,required,registry,schema,uiSchema,title:fieldTitle,formContext,errorSchema,rawErrors},Template=getTemplate("ArrayFieldTemplate",registry,uiOptions);return(0,jsx_runtime.jsx)(Template,{...arrayProps})}renderArrayFieldItem(props){const{key,index,name,canAdd,canRemove=!0,canMoveUp,canMoveDown,itemSchema,itemData,itemUiSchema,itemIdSchema,itemErrorSchema,autofocus,onBlur,onFocus,rawErrors,totalItems,title}=props,{disabled,hideError,idPrefix,idSeparator,readonly,uiSchema,registry,formContext}=this.props,{fields:{ArraySchemaField,SchemaField},globalUiOptions}=registry,ItemSchemaField=ArraySchemaField||SchemaField,{orderable=!0,removable=!0,copyable=!1}=getUiOptions(uiSchema,globalUiOptions),has={moveUp:orderable&&canMoveUp,moveDown:orderable&&canMoveDown,copy:copyable&&canAdd,remove:removable&&canRemove,toolbar:!1};return has.toolbar=Object.keys(has).some((key=>has[key])),{children:(0,jsx_runtime.jsx)(ItemSchemaField,{name,title,index,schema:itemSchema,uiSchema:itemUiSchema,formData:itemData,formContext,errorSchema:itemErrorSchema,idPrefix,idSeparator,idSchema:itemIdSchema,required:this.isItemRequired(itemSchema),onChange:this.onChangeForIndex(index),onBlur,onFocus,registry,disabled,readonly,hideError,autofocus,rawErrors}),className:"array-item",disabled,canAdd,hasCopy:has.copy,hasToolbar:has.toolbar,hasMoveUp:has.moveUp,hasMoveDown:has.moveDown,hasRemove:has.remove,index,totalItems,key,onAddIndexClick:this.onAddIndexClick,onCopyIndexClick:this.onCopyIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,readonly,registry,schema:itemSchema,uiSchema:itemUiSchema}}}function BooleanField$1(props){const{schema,name,uiSchema,idSchema,formData,registry,required,disabled,readonly,hideError,autofocus,title,onChange,onFocus,onBlur,rawErrors}=props,{title:schemaTitle}=schema,{widgets,formContext,translateString,globalUiOptions}=registry,{widget="checkbox",title:uiTitle,label:displayLabel=!0,...options}=getUiOptions(uiSchema,globalUiOptions),Widget=getWidget$1(schema,widget,widgets),yes=translateString(TranslatableString.YesLabel),no=translateString(TranslatableString.NoLabel);let enumOptions;const label=uiTitle??schemaTitle??title??name;if(Array.isArray(schema.oneOf))enumOptions=optionsList({oneOf:schema.oneOf.map((option=>{if((0,isObject.A)(option))return{...option,title:option.title||(!0===option.const?yes:no)}})).filter((o=>o))},uiSchema);else{const schemaWithEnumNames=schema,enums=schema.enum??[!0,!1];enumOptions=!schemaWithEnumNames.enumNames&&2===enums.length&&enums.every((v=>"boolean"==typeof v))?[{value:enums[0],label:enums[0]?yes:no},{value:enums[1],label:enums[1]?yes:no}]:optionsList({enum:enums,enumNames:schemaWithEnumNames.enumNames},uiSchema)}return(0,jsx_runtime.jsx)(Widget,{options:{...options,enumOptions},schema,uiSchema,id:idSchema.$id,name,onChange,onFocus,onBlur,label,hideLabel:!displayLabel,value:formData,required,disabled,readonly,hideError,registry,formContext,autofocus,rawErrors})}class AnyOfField extends react.Component{constructor(props){super(props);const{formData,options,registry:{schemaUtils}}=this.props,retrievedOptions=options.map((opt=>schemaUtils.retrieveSchema(opt,formData)));this.state={retrievedOptions,selectedOption:this.getMatchingOption(0,formData,retrievedOptions)}}componentDidUpdate(prevProps,prevState){const{formData,options,idSchema}=this.props,{selectedOption}=this.state;let newState=this.state;if(!deepEquals(prevProps.options,options)){const{registry:{schemaUtils}}=this.props;newState={selectedOption,retrievedOptions:options.map((opt=>schemaUtils.retrieveSchema(opt,formData)))}}if(!deepEquals(formData,prevProps.formData)&&idSchema.$id===prevProps.idSchema.$id){const{retrievedOptions}=newState,matchingOption=this.getMatchingOption(selectedOption,formData,retrievedOptions);prevState&&matchingOption!==selectedOption&&(newState={selectedOption:matchingOption,retrievedOptions})}newState!==this.state&&this.setState(newState)}getMatchingOption(selectedOption,formData,options){const{schema,registry:{schemaUtils}}=this.props,discriminator=getDiscriminatorFieldFromSchema(schema);return schemaUtils.getClosestMatchingOption(formData,options,selectedOption,discriminator)}onOptionChange=option=>{const{selectedOption,retrievedOptions}=this.state,{formData,onChange,registry}=this.props,{schemaUtils}=registry,intOption=void 0!==option?parseInt(option,10):-1;if(intOption===selectedOption)return;const newOption=intOption>=0?retrievedOptions[intOption]:void 0,oldOption=selectedOption>=0?retrievedOptions[selectedOption]:void 0;let newFormData=schemaUtils.sanitizeDataForNewSchema(newOption,oldOption,formData);newOption&&(newFormData=schemaUtils.getDefaultFormState(newOption,newFormData,"excludeObjectChildren")),this.setState({selectedOption:intOption},(()=>{onChange(newFormData,void 0,this.getFieldId())}))};getFieldId(){const{idSchema,schema}=this.props;return`${idSchema.$id}${schema.oneOf?"__oneof_select":"__anyof_select"}`}render(){const{name,disabled=!1,errorSchema={},formContext,onBlur,onFocus,readonly,registry,schema,uiSchema}=this.props,{widgets,fields,translateString,globalUiOptions,schemaUtils}=registry,{SchemaField:_SchemaField}=fields,{selectedOption,retrievedOptions}=this.state,{widget="select",placeholder,autofocus,autocomplete,title=schema.title,...uiOptions}=getUiOptions(uiSchema,globalUiOptions),Widget=getWidget$1({type:"number"},widget,widgets),rawErrors=(0,get.A)(errorSchema,"__errors",[]),fieldErrorSchema=(0,omit.A)(errorSchema,["__errors"]),displayLabel=schemaUtils.getDisplayLabel(schema,uiSchema,globalUiOptions),option=selectedOption>=0&&retrievedOptions[selectedOption]||null;let optionSchema;if(option){const{required}=schema;optionSchema=required?mergeSchemas({required},option):option}let optionsUiSchema=[];"oneOf"in schema&&uiSchema&&"oneOf"in uiSchema?Array.isArray(uiSchema.oneOf)?optionsUiSchema=uiSchema.oneOf:console.warn(`uiSchema.oneOf is not an array for "${title||name}"`):"anyOf"in schema&&uiSchema&&"anyOf"in uiSchema&&(Array.isArray(uiSchema.anyOf)?optionsUiSchema=uiSchema.anyOf:console.warn(`uiSchema.anyOf is not an array for "${title||name}"`));let optionUiSchema=uiSchema;selectedOption>=0&&optionsUiSchema.length>selectedOption&&(optionUiSchema=optionsUiSchema[selectedOption]);const translateEnum=title?TranslatableString.TitleOptionPrefix:TranslatableString.OptionPrefix,translateParams=title?[title]:[],enumOptions=retrievedOptions.map(((opt,index)=>{const{title:uiTitle=opt.title}=getUiOptions(optionsUiSchema[index]);return{label:uiTitle||translateString(translateEnum,translateParams.concat(String(index+1))),value:index}}));return(0,jsx_runtime.jsxs)("div",{className:"panel panel-default panel-body",children:[(0,jsx_runtime.jsx)("div",{className:"form-group",children:(0,jsx_runtime.jsx)(Widget,{id:this.getFieldId(),name:`${name}${schema.oneOf?"__oneof_select":"__anyof_select"}`,schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur,onFocus,disabled:disabled||(0,isEmpty.A)(enumOptions),multiple:!1,rawErrors,errorSchema:fieldErrorSchema,value:selectedOption>=0?selectedOption:void 0,options:{enumOptions,...uiOptions},registry,formContext,placeholder,autocomplete,autofocus,label:title??name,hideLabel:!displayLabel,readonly})}),optionSchema&&(0,jsx_runtime.jsx)(_SchemaField,{...this.props,schema:optionSchema,uiSchema:optionUiSchema})]})}}const trailingCharMatcherWithPrefix=/\.([0-9]*0)*$/,trailingCharMatcher=/[0.]0*$/;function NumberField(props){const{registry,onChange,formData,value:initialValue}=props,[lastValue,setLastValue]=(0,react.useState)(initialValue),{StringField}=registry.fields;let value=formData;const handleChange=(0,react.useCallback)(((value,errorSchema,id)=>{setLastValue(value),"."===`${value}`.charAt(0)&&(value=`0${value}`);const processed="string"==typeof value&&value.match(trailingCharMatcherWithPrefix)?asNumber(value.replace(trailingCharMatcher,"")):asNumber(value);onChange(processed,errorSchema,id)}),[onChange]);if("string"==typeof lastValue&&"number"==typeof value){const re=new RegExp(`^(${String(value).replace(".","\\.")})?\\.?0*$`);lastValue.match(re)&&(value=lastValue)}return(0,jsx_runtime.jsx)(StringField,{...props,formData:value,onChange:handleChange})}class ObjectField extends react.Component{state={wasPropertyKeyModified:!1,additionalProperties:{}};isRequired(name){const{schema}=this.props;return Array.isArray(schema.required)&&-1!==schema.required.indexOf(name)}onPropertyChange=(name,addedByAdditionalProperties=!1)=>(value,newErrorSchema,id)=>{const{formData,onChange,errorSchema}=this.props;void 0===value&&addedByAdditionalProperties&&(value="");onChange({...formData,[name]:value},errorSchema&&errorSchema&&{...errorSchema,[name]:newErrorSchema},id)};onDropPropertyClick=key=>event=>{event.preventDefault();const{onChange,formData}=this.props,copiedFormData={...formData};(0,unset.A)(copiedFormData,key),onChange(copiedFormData)};getAvailableKey=(preferredKey,formData)=>{const{uiSchema,registry}=this.props,{duplicateKeySuffixSeparator="-"}=getUiOptions(uiSchema,registry.globalUiOptions);let index=0,newKey=preferredKey;for(;(0,has.A)(formData,newKey);)newKey=`${preferredKey}${duplicateKeySuffixSeparator}${++index}`;return newKey};onKeyChange=oldValue=>(value,newErrorSchema)=>{if(oldValue===value)return;const{formData,onChange,errorSchema}=this.props;value=this.getAvailableKey(value,formData);const newFormData={...formData},newKeys={[oldValue]:value},keyValues=Object.keys(newFormData).map((key=>{const newKey=newKeys[key]||key;return{[newKey]:newFormData[key]}})),renamedObj=Object.assign({},...keyValues);this.setState({wasPropertyKeyModified:!0}),onChange(renamedObj,errorSchema&&errorSchema&&{...errorSchema,[value]:newErrorSchema})};getDefaultValue(type){const{registry:{translateString}}=this.props;switch(type){case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};default:return translateString(TranslatableString.NewStringDefault)}}handleAddClick=schema=>()=>{if(!schema.additionalProperties)return;const{formData,onChange,registry}=this.props,newFormData={...formData};let type,constValue,defaultValue;if((0,isObject.A)(schema.additionalProperties)){type=schema.additionalProperties.type,constValue=schema.additionalProperties.const,defaultValue=schema.additionalProperties.default;let apSchema=schema.additionalProperties;if("$ref"in apSchema){const{schemaUtils}=registry;apSchema=schemaUtils.retrieveSchema({$ref:apSchema.$ref},formData),type=apSchema.type,constValue=apSchema.const,defaultValue=apSchema.default}type||!("anyOf"in apSchema)&&!("oneOf"in apSchema)||(type="object")}const newKey=this.getAvailableKey("newKey",newFormData),newValue=constValue??defaultValue??this.getDefaultValue(type);(0,set.A)(newFormData,newKey,newValue),onChange(newFormData)};render(){const{schema:rawSchema,uiSchema={},formData,errorSchema,idSchema,name,required=!1,disabled,readonly,hideError,idPrefix,idSeparator,onBlur,onFocus,registry,title}=this.props,{fields,formContext,schemaUtils,translateString,globalUiOptions}=registry,{SchemaField}=fields,schema=schemaUtils.retrieveSchema(rawSchema,formData),uiOptions=getUiOptions(uiSchema,globalUiOptions),{properties:schemaProperties={}}=schema,templateTitle=uiOptions.title??schema.title??title??name,description=uiOptions.description??schema.description;let orderedProperties;try{orderedProperties=function orderProperties(properties,order){if(!Array.isArray(order))return properties;const arrayToHash=arr=>arr.reduce(((prev,curr)=>(prev[curr]=!0,prev)),{}),propertyHash=arrayToHash(properties),orderFiltered=order.filter((prop=>"*"===prop||propertyHash[prop])),orderHash=arrayToHash(orderFiltered),rest=properties.filter((prop=>!orderHash[prop])),restIndex=orderFiltered.indexOf("*");if(-1===restIndex){if(rest.length)throw new Error("uiSchema order list does not contain "+((arr=rest).length>1?`properties '${arr.join("', '")}'`:`property '${arr[0]}'`));return orderFiltered}var arr;if(restIndex!==orderFiltered.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");const complete=[...orderFiltered];return complete.splice(restIndex,1,...rest),complete}(Object.keys(schemaProperties),uiOptions.order)}catch(err){return(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("p",{className:"config-error",style:{color:"red"},children:(0,jsx_runtime.jsx)(index_modern.Ay,{options:{disableParsingRawHTML:!0},children:translateString(TranslatableString.InvalidObjectField,[name||"root",err.message])})}),(0,jsx_runtime.jsx)("pre",{children:JSON.stringify(schema)})]})}const Template=getTemplate("ObjectFieldTemplate",registry,uiOptions),templateProps={title:!1===uiOptions.label?"":templateTitle,description:!1===uiOptions.label?void 0:description,properties:orderedProperties.map((name=>{const addedByAdditionalProperties=(0,has.A)(schema,["properties",name,"__additional_property"]),fieldUiSchema=addedByAdditionalProperties?uiSchema.additionalProperties:uiSchema[name],hidden="hidden"===getUiOptions(fieldUiSchema).widget,fieldIdSchema=(0,get.A)(idSchema,[name],{});return{content:(0,jsx_runtime.jsx)(SchemaField,{name,required:this.isRequired(name),schema:(0,get.A)(schema,["properties",name],{}),uiSchema:fieldUiSchema,errorSchema:(0,get.A)(errorSchema,name),idSchema:fieldIdSchema,idPrefix,idSeparator,formData:(0,get.A)(formData,name),formContext,wasPropertyKeyModified:this.state.wasPropertyKeyModified,onKeyChange:this.onKeyChange(name),onChange:this.onPropertyChange(name,addedByAdditionalProperties),onBlur,onFocus,registry,disabled,readonly,hideError,onDropPropertyClick:this.onDropPropertyClick},name),name,readonly,disabled,required,hidden}})),readonly,disabled,required,idSchema,uiSchema,errorSchema,schema,formData,formContext,registry};return(0,jsx_runtime.jsx)(Template,{...templateProps,onAddClick:this.handleAddClick})}}const COMPONENT_TYPES={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function SchemaFieldRender(props){const{schema:_schema,idSchema:_idSchema,uiSchema,formData,errorSchema,idPrefix,idSeparator,name,onChange,onKeyChange,onDropPropertyClick,required,registry,wasPropertyKeyModified=!1}=props,{formContext,schemaUtils,globalUiOptions}=registry,uiOptions=getUiOptions(uiSchema,globalUiOptions),FieldTemplate=getTemplate("FieldTemplate",registry,uiOptions),DescriptionFieldTemplate=getTemplate("DescriptionFieldTemplate",registry,uiOptions),FieldHelpTemplate=getTemplate("FieldHelpTemplate",registry,uiOptions),FieldErrorTemplate=getTemplate("FieldErrorTemplate",registry,uiOptions),schema=schemaUtils.retrieveSchema(_schema,formData),fieldId=_idSchema.$id,idSchema=mergeObjects(schemaUtils.toIdSchema(schema,fieldId,formData,idPrefix,idSeparator),_idSchema),handleFieldComponentChange=(0,react.useCallback)(((formData,newErrorSchema,id)=>onChange(formData,newErrorSchema,id||fieldId)),[fieldId,onChange]),FieldComponent=function getFieldComponent(schema,uiOptions,idSchema,registry){const field=uiOptions.field,{fields,translateString}=registry;if("function"==typeof field)return field;if("string"==typeof field&&field in fields)return fields[field];const schemaType=getSchemaType(schema),type=Array.isArray(schemaType)?schemaType[0]:schemaType||"",schemaId=schema.$id;let componentName=COMPONENT_TYPES[type];return schemaId&&schemaId in fields&&(componentName=schemaId),componentName||!schema.anyOf&&!schema.oneOf?componentName in fields?fields[componentName]:()=>{const UnsupportedFieldTemplate=getTemplate("UnsupportedFieldTemplate",registry,uiOptions);return(0,jsx_runtime.jsx)(UnsupportedFieldTemplate,{schema,idSchema,reason:translateString(TranslatableString.UnknownFieldType,[String(schema.type)]),registry})}:()=>null}(schema,uiOptions,idSchema,registry),disabled=Boolean(uiOptions.disabled??props.disabled),readonly=Boolean(uiOptions.readonly??(props.readonly||props.schema.readOnly||schema.readOnly)),uiSchemaHideError=uiOptions.hideError,hideError=void 0===uiSchemaHideError?props.hideError:Boolean(uiSchemaHideError),autofocus=Boolean(uiOptions.autofocus??props.autofocus);if(0===Object.keys(schema).length)return null;const displayLabel=schemaUtils.getDisplayLabel(schema,uiSchema,globalUiOptions),{__errors,...fieldErrorSchema}=errorSchema||{},fieldUiSchema=(0,omit.A)(uiSchema,["ui:classNames","classNames","ui:style"]);UI_OPTIONS_KEY in fieldUiSchema&&(fieldUiSchema[UI_OPTIONS_KEY]=(0,omit.A)(fieldUiSchema[UI_OPTIONS_KEY],["classNames","style"]));const field=(0,jsx_runtime.jsx)(FieldComponent,{...props,onChange:handleFieldComponentChange,idSchema,schema,uiSchema:fieldUiSchema,disabled,readonly,hideError,autofocus,errorSchema:fieldErrorSchema,formContext,rawErrors:__errors}),id=idSchema.$id;let label;label=wasPropertyKeyModified||"__additional_property"in schema?name:uiOptions.title||props.schema.title||schema.title||props.title||name;const description=uiOptions.description||props.schema.description||schema.description||"",richDescription=uiOptions.enableMarkdownInDescription?(0,jsx_runtime.jsx)(index_modern.Ay,{options:{disableParsingRawHTML:!0},children:description}):description,help=uiOptions.help,hidden="hidden"===uiOptions.widget,classNames=["form-group","field",`field-${getSchemaType(schema)}`];!hideError&&__errors&&__errors.length>0&&classNames.push("field-error has-error has-danger"),uiSchema?.classNames&&classNames.push(uiSchema.classNames),uiOptions.classNames&&classNames.push(uiOptions.classNames);const helpComponent=(0,jsx_runtime.jsx)(FieldHelpTemplate,{help,idSchema,schema,uiSchema,hasErrors:!hideError&&__errors&&__errors.length>0,registry}),errorsComponent=hideError||(schema.anyOf||schema.oneOf)&&!schemaUtils.isSelect(schema)?void 0:(0,jsx_runtime.jsx)(FieldErrorTemplate,{errors:__errors,errorSchema,idSchema,schema,uiSchema,registry}),fieldProps={description:(0,jsx_runtime.jsx)(DescriptionFieldTemplate,{id:descriptionId(id),description:richDescription,schema,uiSchema,registry}),rawDescription:description,help:helpComponent,rawHelp:"string"==typeof help?help:void 0,errors:errorsComponent,rawErrors:hideError?void 0:__errors,id,label,hidden,onChange,onKeyChange,onDropPropertyClick,required,disabled,readonly,hideError,displayLabel,classNames:classNames.join(" ").trim(),style:uiOptions.style,formContext,formData,schema,uiSchema,registry},_AnyOfField=registry.fields.AnyOfField,_OneOfField=registry.fields.OneOfField,isReplacingAnyOrOneOf=uiSchema?.["ui:field"]&&!0===uiSchema?.["ui:fieldReplacesAnyOrOneOf"];return(0,jsx_runtime.jsx)(FieldTemplate,{...fieldProps,children:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[field,schema.anyOf&&!isReplacingAnyOrOneOf&&!schemaUtils.isSelect(schema)&&(0,jsx_runtime.jsx)(_AnyOfField,{name,disabled,readonly,hideError,errorSchema,formData,formContext,idPrefix,idSchema,idSeparator,onBlur:props.onBlur,onChange:props.onChange,onFocus:props.onFocus,options:schema.anyOf.map((_schema=>schemaUtils.retrieveSchema((0,isObject.A)(_schema)?_schema:{},formData))),registry,required,schema,uiSchema}),schema.oneOf&&!isReplacingAnyOrOneOf&&!schemaUtils.isSelect(schema)&&(0,jsx_runtime.jsx)(_OneOfField,{name,disabled,readonly,hideError,errorSchema,formData,formContext,idPrefix,idSchema,idSeparator,onBlur:props.onBlur,onChange:props.onChange,onFocus:props.onFocus,options:schema.oneOf.map((_schema=>schemaUtils.retrieveSchema((0,isObject.A)(_schema)?_schema:{},formData))),registry,required,schema,uiSchema})]})})}class SchemaField extends react.Component{shouldComponentUpdate(nextProps){return!deepEquals(this.props,nextProps)}render(){return(0,jsx_runtime.jsx)(SchemaFieldRender,{...this.props})}}function StringField(props){const{schema,name,uiSchema,idSchema,formData,required,disabled=!1,readonly=!1,autofocus=!1,onChange,onBlur,onFocus,registry,rawErrors,hideError}=props,{title,format}=schema,{widgets,formContext,schemaUtils,globalUiOptions}=registry,enumOptions=schemaUtils.isSelect(schema)?optionsList(schema,uiSchema):void 0;let defaultWidget=enumOptions?"select":"text";format&&function hasWidget(schema,widget,registeredWidgets={}){try{return getWidget$1(schema,widget,registeredWidgets),!0}catch(e){const err=e;if(err.message&&(err.message.startsWith("No widget")||err.message.startsWith("Unsupported widget")))return!1;throw e}}(schema,format,widgets)&&(defaultWidget=format);const{widget=defaultWidget,placeholder="",title:uiTitle,...options}=getUiOptions(uiSchema),displayLabel=schemaUtils.getDisplayLabel(schema,uiSchema,globalUiOptions),label=uiTitle??title??name,Widget=getWidget$1(schema,widget,widgets);return(0,jsx_runtime.jsx)(Widget,{options:{...options,enumOptions},schema,uiSchema,id:idSchema.$id,name,label,hideLabel:!displayLabel,hideError,value:formData,onChange,onBlur,onFocus,required,disabled,readonly,formContext,autofocus,registry,placeholder,rawErrors})}function NullField(props){const{formData,onChange}=props;return(0,react.useEffect)((()=>{void 0===formData&&onChange(null)}),[formData,onChange]),null}function ArrayFieldDescriptionTemplate(props){const{idSchema,description,registry,schema,uiSchema}=props,options=getUiOptions(uiSchema,registry.globalUiOptions),{label:displayLabel=!0}=options;if(!description||!displayLabel)return null;const DescriptionFieldTemplate=getTemplate("DescriptionFieldTemplate",registry,options);return(0,jsx_runtime.jsx)(DescriptionFieldTemplate,{id:descriptionId(idSchema),description,schema,uiSchema,registry})}function ArrayFieldItemTemplate$1(props){const{children,className,disabled,hasToolbar,hasMoveDown,hasMoveUp,hasRemove,hasCopy,index,onCopyIndexClick,onDropIndexClick,onReorderClick,readonly,registry,uiSchema}=props,{CopyButton,MoveDownButton,MoveUpButton,RemoveButton}=registry.templates.ButtonTemplates,btnStyle={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return(0,jsx_runtime.jsxs)("div",{className,children:[(0,jsx_runtime.jsx)("div",{className:hasToolbar?"col-xs-9":"col-xs-12",children}),hasToolbar&&(0,jsx_runtime.jsx)("div",{className:"col-xs-3 array-item-toolbox",children:(0,jsx_runtime.jsxs)("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"},children:[(hasMoveUp||hasMoveDown)&&(0,jsx_runtime.jsx)(MoveUpButton,{style:btnStyle,disabled:disabled||readonly||!hasMoveUp,onClick:onReorderClick(index,index-1),uiSchema,registry}),(hasMoveUp||hasMoveDown)&&(0,jsx_runtime.jsx)(MoveDownButton,{style:btnStyle,disabled:disabled||readonly||!hasMoveDown,onClick:onReorderClick(index,index+1),uiSchema,registry}),hasCopy&&(0,jsx_runtime.jsx)(CopyButton,{style:btnStyle,disabled:disabled||readonly,onClick:onCopyIndexClick(index),uiSchema,registry}),hasRemove&&(0,jsx_runtime.jsx)(RemoveButton,{style:btnStyle,disabled:disabled||readonly,onClick:onDropIndexClick(index),uiSchema,registry})]})})]})}function ArrayFieldTemplate$1(props){const{canAdd,className,disabled,idSchema,uiSchema,items,onAddClick,readonly,registry,required,schema,title}=props,uiOptions=getUiOptions(uiSchema),ArrayFieldDescriptionTemplate=getTemplate("ArrayFieldDescriptionTemplate",registry,uiOptions),ArrayFieldItemTemplate=getTemplate("ArrayFieldItemTemplate",registry,uiOptions),ArrayFieldTitleTemplate=getTemplate("ArrayFieldTitleTemplate",registry,uiOptions),{ButtonTemplates:{AddButton}}=registry.templates;return(0,jsx_runtime.jsxs)("fieldset",{className,id:idSchema.$id,children:[(0,jsx_runtime.jsx)(ArrayFieldTitleTemplate,{idSchema,title:uiOptions.title||title,required,schema,uiSchema,registry}),(0,jsx_runtime.jsx)(ArrayFieldDescriptionTemplate,{idSchema,description:uiOptions.description||schema.description,schema,uiSchema,registry}),(0,jsx_runtime.jsx)("div",{className:"row array-item-list",children:items&&items.map((({key,...itemProps})=>(0,jsx_runtime.jsx)(ArrayFieldItemTemplate,{...itemProps},key)))}),canAdd&&(0,jsx_runtime.jsx)(AddButton,{className:"array-item-add",onClick:onAddClick,disabled:disabled||readonly,uiSchema,registry})]})}function ArrayFieldTitleTemplate(props){const{idSchema,title,schema,uiSchema,required,registry}=props,options=getUiOptions(uiSchema,registry.globalUiOptions),{label:displayLabel=!0}=options;if(!title||!displayLabel)return null;const TitleFieldTemplate=getTemplate("TitleFieldTemplate",registry,options);return(0,jsx_runtime.jsx)(TitleFieldTemplate,{id:titleId(idSchema),title,required,schema,uiSchema,registry})}function BaseInputTemplate$1(props){const{id,name,value,readonly,disabled,autofocus,onBlur,onFocus,onChange,onChangeOverride,options,schema,uiSchema,formContext,registry,rawErrors,type,hideLabel,hideError,...rest}=props;if(!id)throw console.log("No id for",props),new Error(`no id for props ${JSON.stringify(props)}`);const inputProps={...rest,...getInputProps(schema,type,options)};let inputValue;inputValue="number"===inputProps.type||"integer"===inputProps.type?value||0===value?value:"":null==value?"":value;const _onChange=(0,react.useCallback)((({target:{value}})=>onChange(""===value?options.emptyValue:value)),[onChange,options]),_onBlur=(0,react.useCallback)((({target})=>onBlur(id,target&&target.value)),[onBlur,id]),_onFocus=(0,react.useCallback)((({target})=>onFocus(id,target&&target.value)),[onFocus,id]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("input",{id,name:id,className:"form-control",readOnly:readonly,disabled,autoFocus:autofocus,value:inputValue,...inputProps,list:schema.examples?examplesId(id):void 0,onChange:onChangeOverride||_onChange,onBlur:_onBlur,onFocus:_onFocus,"aria-describedby":ariaDescribedByIds(id,!!schema.examples)}),Array.isArray(schema.examples)&&(0,jsx_runtime.jsx)("datalist",{id:examplesId(id),children:schema.examples.concat(schema.default&&!schema.examples.includes(schema.default)?[schema.default]:[]).map((example=>(0,jsx_runtime.jsx)("option",{value:example},example)))},`datalist_${id}`)]})}function SubmitButton$1({uiSchema}){const{submitText,norender,props:submitButtonProps={}}=getSubmitButtonOptions(uiSchema);return norender?null:(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)("button",{type:"submit",...submitButtonProps,className:`btn btn-info ${submitButtonProps.className||""}`,children:submitText})})}function IconButton(props){const{iconType="default",icon,className,uiSchema,registry,...otherProps}=props;return(0,jsx_runtime.jsx)("button",{type:"button",className:`btn btn-${iconType} ${className}`,...otherProps,children:(0,jsx_runtime.jsx)("i",{className:`glyphicon glyphicon-${icon}`})})}function CopyButton(props){const{registry:{translateString}}=props;return(0,jsx_runtime.jsx)(IconButton,{title:translateString(TranslatableString.CopyButton),className:"array-item-copy",...props,icon:"copy"})}function MoveDownButton(props){const{registry:{translateString}}=props;return(0,jsx_runtime.jsx)(IconButton,{title:translateString(TranslatableString.MoveDownButton),className:"array-item-move-down",...props,icon:"arrow-down"})}function MoveUpButton(props){const{registry:{translateString}}=props;return(0,jsx_runtime.jsx)(IconButton,{title:translateString(TranslatableString.MoveUpButton),className:"array-item-move-up",...props,icon:"arrow-up"})}function RemoveButton(props){const{registry:{translateString}}=props;return(0,jsx_runtime.jsx)(IconButton,{title:translateString(TranslatableString.RemoveButton),className:"array-item-remove",...props,iconType:"danger",icon:"remove"})}function AddButton$1({className,onClick,disabled,registry}){const{translateString}=registry;return(0,jsx_runtime.jsx)("div",{className:"row",children:(0,jsx_runtime.jsx)("p",{className:`col-xs-3 col-xs-offset-9 text-right ${className}`,children:(0,jsx_runtime.jsx)(IconButton,{iconType:"info",icon:"plus",className:"btn-add col-xs-12",title:translateString(TranslatableString.AddButton),onClick,disabled,registry})})})}function DescriptionField(props){const{id,description}=props;return description?"string"==typeof description?(0,jsx_runtime.jsx)("p",{id,className:"field-description",children:description}):(0,jsx_runtime.jsx)("div",{id,className:"field-description",children:description}):null}function ErrorList({errors,registry}){const{translateString}=registry;return(0,jsx_runtime.jsxs)("div",{className:"panel panel-danger errors",children:[(0,jsx_runtime.jsx)("div",{className:"panel-heading",children:(0,jsx_runtime.jsx)("h3",{className:"panel-title",children:translateString(TranslatableString.ErrorsLabel)})}),(0,jsx_runtime.jsx)("ul",{className:"list-group",children:errors.map(((error,i)=>(0,jsx_runtime.jsx)("li",{className:"list-group-item text-danger",children:error.stack},i)))})]})}function Label(props){const{label,required,id}=props;return label?(0,jsx_runtime.jsxs)("label",{className:"control-label",htmlFor:id,children:[label,required&&(0,jsx_runtime.jsx)("span",{className:"required",children:"*"})]}):null}function FieldTemplate$1(props){const{id,label,children,errors,help,description,hidden,required,displayLabel,registry,uiSchema}=props,WrapIfAdditionalTemplate=getTemplate("WrapIfAdditionalTemplate",registry,getUiOptions(uiSchema));return hidden?(0,jsx_runtime.jsx)("div",{className:"hidden",children}):(0,jsx_runtime.jsxs)(WrapIfAdditionalTemplate,{...props,children:[displayLabel&&(0,jsx_runtime.jsx)(Label,{label,required,id}),displayLabel&&description?description:null,children,errors,help]})}function FieldErrorTemplate(props){const{errors=[],idSchema}=props;if(0===errors.length)return null;const id=errorId(idSchema);return(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)("ul",{id,className:"error-detail bs-callout bs-callout-info",children:errors.filter((elem=>!!elem)).map(((error,index)=>(0,jsx_runtime.jsx)("li",{className:"text-danger",children:error},index)))})})}function FieldHelpTemplate(props){const{idSchema,help}=props;if(!help)return null;const id=helpId(idSchema);return"string"==typeof help?(0,jsx_runtime.jsx)("p",{id,className:"help-block",children:help}):(0,jsx_runtime.jsx)("div",{id,className:"help-block",children:help})}function ObjectFieldTemplate$1(props){const{description,disabled,formData,idSchema,onAddClick,properties,readonly,registry,required,schema,title,uiSchema}=props,options=getUiOptions(uiSchema),TitleFieldTemplate=getTemplate("TitleFieldTemplate",registry,options),DescriptionFieldTemplate=getTemplate("DescriptionFieldTemplate",registry,options),{ButtonTemplates:{AddButton}}=registry.templates;return(0,jsx_runtime.jsxs)("fieldset",{id:idSchema.$id,children:[title&&(0,jsx_runtime.jsx)(TitleFieldTemplate,{id:titleId(idSchema),title,required,schema,uiSchema,registry}),description&&(0,jsx_runtime.jsx)(DescriptionFieldTemplate,{id:descriptionId(idSchema),description,schema,uiSchema,registry}),properties.map((prop=>prop.content)),canExpand(schema,uiSchema,formData)&&(0,jsx_runtime.jsx)(AddButton,{className:"object-property-expand",onClick:onAddClick(schema),disabled:disabled||readonly,uiSchema,registry})]})}function TitleField(props){const{id,title,required}=props;return(0,jsx_runtime.jsxs)("legend",{id,children:[title,required&&(0,jsx_runtime.jsx)("span",{className:"required",children:"*"})]})}function UnsupportedField(props){const{schema,idSchema,reason,registry}=props,{translateString}=registry;let translateEnum=TranslatableString.UnsupportedField;const translateParams=[];return idSchema&&idSchema.$id&&(translateEnum=TranslatableString.UnsupportedFieldWithId,translateParams.push(idSchema.$id)),reason&&(translateEnum=translateEnum===TranslatableString.UnsupportedField?TranslatableString.UnsupportedFieldWithReason:TranslatableString.UnsupportedFieldWithIdAndReason,translateParams.push(reason)),(0,jsx_runtime.jsxs)("div",{className:"unsupported-field",children:[(0,jsx_runtime.jsx)("p",{children:(0,jsx_runtime.jsx)(index_modern.Ay,{options:{disableParsingRawHTML:!0},children:translateString(translateEnum,translateParams)})}),schema&&(0,jsx_runtime.jsx)("pre",{children:JSON.stringify(schema,null,2)})]})}function WrapIfAdditionalTemplate$1(props){const{id,classNames,style,disabled,label,onKeyChange,onDropPropertyClick,readonly,required,schema,children,uiSchema,registry}=props,{templates,translateString}=registry,{RemoveButton}=templates.ButtonTemplates,keyLabel=translateString(TranslatableString.KeyLabel,[label]);return"__additional_property"in schema?(0,jsx_runtime.jsx)("div",{className:classNames,style,children:(0,jsx_runtime.jsxs)("div",{className:"row",children:[(0,jsx_runtime.jsx)("div",{className:"col-xs-5 form-additional",children:(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[(0,jsx_runtime.jsx)(Label,{label:keyLabel,required,id:`${id}-key`}),(0,jsx_runtime.jsx)("input",{className:"form-control",type:"text",id:`${id}-key`,onBlur:({target})=>onKeyChange(target&&target.value),defaultValue:label})]})}),(0,jsx_runtime.jsx)("div",{className:"form-additional form-group col-xs-5",children}),(0,jsx_runtime.jsx)("div",{className:"col-xs-2",children:(0,jsx_runtime.jsx)(RemoveButton,{className:"array-item-remove btn-block",style:{border:"0"},disabled:disabled||readonly,onClick:onDropPropertyClick(label),uiSchema,registry})})]})}):(0,jsx_runtime.jsx)("div",{className:classNames,style,children})}function DateElement({type,range,value,select,rootId,name,disabled,readonly,autofocus,registry,onBlur,onFocus}){const id=rootId+"_"+type,{SelectWidget}=registry.widgets;return(0,jsx_runtime.jsx)(SelectWidget,{schema:{type:"integer"},id,name,className:"form-control",options:{enumOptions:dateRangeOptions(range[0],range[1])},placeholder:type,value,disabled,readonly,autofocus,onChange:value=>select(type,value),onBlur,onFocus,registry,label:"","aria-describedby":ariaDescribedByIds(rootId)})}function AltDateWidget({time=!1,disabled=!1,readonly=!1,autofocus=!1,options,id,name,registry,onBlur,onFocus,onChange,value}){const{translateString}=registry,[lastValue,setLastValue]=(0,react.useState)(value),[state,setState]=(0,react.useReducer)(((state,action)=>({...state,...action})),parseDateString(value,time));(0,react.useEffect)((()=>{const stateValue=toDateString(state,time);!function readyForChange(state){return Object.values(state).every((value=>-1!==value))}(state)||stateValue===value?lastValue!==value&&(setLastValue(value),setState(parseDateString(value,time))):onChange(stateValue)}),[time,value,onChange,state,lastValue]);const handleChange=(0,react.useCallback)(((property,value)=>{setState({[property]:value})}),[]),handleSetNow=(0,react.useCallback)((event=>{if(event.preventDefault(),disabled||readonly)return;const nextState=parseDateString((new Date).toJSON(),time);onChange(toDateString(nextState,time))}),[disabled,readonly,time]),handleClear=(0,react.useCallback)((event=>{event.preventDefault(),disabled||readonly||onChange(void 0)}),[disabled,readonly,onChange]);return(0,jsx_runtime.jsxs)("ul",{className:"list-inline",children:[getDateElementProps(state,time,options.yearsRange,options.format).map(((elemProps,i)=>(0,jsx_runtime.jsx)("li",{className:"list-inline-item",children:(0,jsx_runtime.jsx)(DateElement,{rootId:id,name,select:handleChange,...elemProps,disabled,readonly,registry,onBlur,onFocus,autofocus:autofocus&&0===i})},i))),("undefined"===options.hideNowButton||!options.hideNowButton)&&(0,jsx_runtime.jsx)("li",{className:"list-inline-item",children:(0,jsx_runtime.jsx)("a",{href:"#",className:"btn btn-info btn-now",onClick:handleSetNow,children:translateString(TranslatableString.NowLabel)})}),("undefined"===options.hideClearButton||!options.hideClearButton)&&(0,jsx_runtime.jsx)("li",{className:"list-inline-item",children:(0,jsx_runtime.jsx)("a",{href:"#",className:"btn btn-warning btn-clear",onClick:handleClear,children:translateString(TranslatableString.ClearLabel)})})]})}function AltDateTimeWidget({time=!0,...props}){const{AltDateWidget}=props.registry.widgets;return(0,jsx_runtime.jsx)(AltDateWidget,{time,...props})}function CheckboxWidget({schema,uiSchema,options,id,value,disabled,readonly,label,hideLabel,autofocus=!1,onBlur,onFocus,onChange,registry}){const DescriptionFieldTemplate=getTemplate("DescriptionFieldTemplate",registry,options),required=schemaRequiresTrueValue(schema),handleChange=(0,react.useCallback)((event=>onChange(event.target.checked)),[onChange]),handleBlur=(0,react.useCallback)((event=>onBlur(id,event.target.checked)),[onBlur,id]),handleFocus=(0,react.useCallback)((event=>onFocus(id,event.target.checked)),[onFocus,id]),description=options.description??schema.description;return(0,jsx_runtime.jsxs)("div",{className:"checkbox "+(disabled||readonly?"disabled":""),children:[!hideLabel&&!!description&&(0,jsx_runtime.jsx)(DescriptionFieldTemplate,{id:descriptionId(id),description,schema,uiSchema,registry}),(0,jsx_runtime.jsxs)("label",{children:[(0,jsx_runtime.jsx)("input",{type:"checkbox",id,name:id,checked:void 0!==value&&value,required,disabled:disabled||readonly,autoFocus:autofocus,onChange:handleChange,onBlur:handleBlur,onFocus:handleFocus,"aria-describedby":ariaDescribedByIds(id)}),labelValue((0,jsx_runtime.jsx)("span",{children:label}),hideLabel)]})]})}function CheckboxesWidget$1({id,disabled,options:{inline=!1,enumOptions,enumDisabled,emptyValue},value,autofocus=!1,readonly,onChange,onBlur,onFocus}){const checkboxesValues=Array.isArray(value)?value:[value],handleBlur=(0,react.useCallback)((({target})=>onBlur(id,enumOptionsValueForIndex(target&&target.value,enumOptions,emptyValue))),[onBlur,id]),handleFocus=(0,react.useCallback)((({target})=>onFocus(id,enumOptionsValueForIndex(target&&target.value,enumOptions,emptyValue))),[onFocus,id]);return(0,jsx_runtime.jsx)("div",{className:"checkboxes",id,children:Array.isArray(enumOptions)&&enumOptions.map(((option,index)=>{const checked=enumOptionsIsSelected(option.value,checkboxesValues),itemDisabled=Array.isArray(enumDisabled)&&-1!==enumDisabled.indexOf(option.value),disabledCls=disabled||itemDisabled||readonly?"disabled":"",checkbox=(0,jsx_runtime.jsxs)("span",{children:[(0,jsx_runtime.jsx)("input",{type:"checkbox",id:optionId(id,index),name:id,checked,value:String(index),disabled:disabled||itemDisabled||readonly,autoFocus:autofocus&&0===index,onChange:event=>{event.target.checked?onChange(function enumOptionsSelectValue(valueIndex,selected,allEnumOptions=[]){const value=enumOptionsValueForIndex(valueIndex,allEnumOptions);if(!(0,isNil.A)(value)){const index=allEnumOptions.findIndex((opt=>value===opt.value)),all=allEnumOptions.map((({value:val})=>val));return selected.slice(0,index).concat(value,selected.slice(index)).sort(((a,b)=>Number(all.indexOf(a)>all.indexOf(b))))}return selected}(index,checkboxesValues,enumOptions)):onChange(function enumOptionsDeselectValue(valueIndex,selected,allEnumOptions=[]){const value=enumOptionsValueForIndex(valueIndex,allEnumOptions);return Array.isArray(selected)?selected.filter((v=>!deepEquals(v,value))):deepEquals(value,selected)?void 0:selected}(index,checkboxesValues,enumOptions))},onBlur:handleBlur,onFocus:handleFocus,"aria-describedby":ariaDescribedByIds(id)}),(0,jsx_runtime.jsx)("span",{children:option.label})]});return inline?(0,jsx_runtime.jsx)("label",{className:`checkbox-inline ${disabledCls}`,children:checkbox},index):(0,jsx_runtime.jsx)("div",{className:`checkbox ${disabledCls}`,children:(0,jsx_runtime.jsx)("label",{children:checkbox})},index)}))})}function ColorWidget(props){const{disabled,readonly,options,registry}=props,BaseInputTemplate=getTemplate("BaseInputTemplate",registry,options);return(0,jsx_runtime.jsx)(BaseInputTemplate,{type:"color",...props,disabled:disabled||readonly})}function DateWidget$1(props){const{onChange,options,registry}=props,BaseInputTemplate=getTemplate("BaseInputTemplate",registry,options),handleChange=(0,react.useCallback)((value=>onChange(value||void 0)),[onChange]);return(0,jsx_runtime.jsx)(BaseInputTemplate,{type:"date",...props,onChange:handleChange})}function DateTimeWidget$1(props){const{onChange,value,options,registry}=props,BaseInputTemplate=getTemplate("BaseInputTemplate",registry,options);return(0,jsx_runtime.jsx)(BaseInputTemplate,{type:"datetime-local",...props,value:utcToLocal(value),onChange:value=>onChange(localToUTC(value))})}function EmailWidget$1(props){const{options,registry}=props,BaseInputTemplate=getTemplate("BaseInputTemplate",registry,options);return(0,jsx_runtime.jsx)(BaseInputTemplate,{type:"email",...props})}function addNameToDataURL$1(dataURL,name){return null===dataURL?null:dataURL.replace(";base64",`;name=${encodeURIComponent(name)};base64`)}function processFile$1(file){const{name,size,type}=file;return new Promise(((resolve,reject)=>{const reader=new window.FileReader;reader.onerror=reject,reader.onload=event=>{"string"==typeof event.target?.result?resolve({dataURL:addNameToDataURL$1(event.target.result,name),name,size,type}):resolve({dataURL:null,name,size,type})},reader.readAsDataURL(file)}))}function FileInfoPreview({fileInfo,registry}){const{translateString}=registry,{dataURL,type,name}=fileInfo;return dataURL?["image/jpeg","image/png"].includes(type)?(0,jsx_runtime.jsx)("img",{src:dataURL,style:{maxWidth:"100%"},className:"file-preview"}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[" ",(0,jsx_runtime.jsx)("a",{download:`preview-${name}`,href:dataURL,className:"file-download",children:translateString(TranslatableString.PreviewLabel)})]}):null}function FilesInfo$1({filesInfo,registry,preview,onRemove,options}){if(0===filesInfo.length)return null;const{translateString}=registry,{RemoveButton}=getTemplate("ButtonTemplates",registry,options);return(0,jsx_runtime.jsx)("ul",{className:"file-info",children:filesInfo.map(((fileInfo,key)=>{const{name,size,type}=fileInfo;return(0,jsx_runtime.jsxs)("li",{children:[(0,jsx_runtime.jsx)(index_modern.Ay,{children:translateString(TranslatableString.FilesInfo,[name,type,String(size)])}),preview&&(0,jsx_runtime.jsx)(FileInfoPreview,{fileInfo,registry}),(0,jsx_runtime.jsx)(RemoveButton,{onClick:()=>onRemove(key),registry})]},key)}))})}function FileWidget$1(props){const{disabled,readonly,required,multiple,onChange,value,options,registry}=props,BaseInputTemplate=getTemplate("BaseInputTemplate",registry,options),handleChange=(0,react.useCallback)((event=>{event.target.files&&function processFiles$1(files){return Promise.all(Array.from(files).map(processFile$1))}(event.target.files).then((filesInfoEvent=>{const newValue=filesInfoEvent.map((fileInfo=>fileInfo.dataURL));onChange(multiple?value.concat(newValue):newValue[0])}))}),[multiple,value,onChange]),filesInfo=(0,react.useMemo)((()=>function extractFileInfo$1(dataURLs){return dataURLs.reduce(((acc,dataURL)=>{if(!dataURL)return acc;try{const{blob,name}=dataURItoBlob(dataURL);return[...acc,{dataURL,name,size:blob.size,type:blob.type}]}catch(e){return acc}}),[])}(Array.isArray(value)?value:[value])),[value]),rmFile=(0,react.useCallback)((index=>{if(multiple){const newValue=value.filter(((_,i)=>i!==index));onChange(newValue)}else onChange(void 0)}),[multiple,value,onChange]);return(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(BaseInputTemplate,{...props,disabled:disabled||readonly,type:"file",required:!value&&required,onChangeOverride:handleChange,value:"",accept:options.accept?String(options.accept):void 0}),(0,jsx_runtime.jsx)(FilesInfo$1,{filesInfo,onRemove:rmFile,registry,preview:options.filePreview,options})]})}function HiddenWidget({id,value}){return(0,jsx_runtime.jsx)("input",{type:"hidden",id,name:id,value:void 0===value?"":value})}function PasswordWidget(props){const{options,registry}=props,BaseInputTemplate=getTemplate("BaseInputTemplate",registry,options);return(0,jsx_runtime.jsx)(BaseInputTemplate,{type:"password",...props})}function RadioWidget$1({options,value,required,disabled,readonly,autofocus=!1,onBlur,onFocus,onChange,id}){const{enumOptions,enumDisabled,inline,emptyValue}=options,handleBlur=(0,react.useCallback)((({target})=>onBlur(id,enumOptionsValueForIndex(target&&target.value,enumOptions,emptyValue))),[onBlur,id]),handleFocus=(0,react.useCallback)((({target})=>onFocus(id,enumOptionsValueForIndex(target&&target.value,enumOptions,emptyValue))),[onFocus,id]);return(0,jsx_runtime.jsx)("div",{className:"field-radio-group",id,children:Array.isArray(enumOptions)&&enumOptions.map(((option,i)=>{const checked=enumOptionsIsSelected(option.value,value),itemDisabled=Array.isArray(enumDisabled)&&-1!==enumDisabled.indexOf(option.value),disabledCls=disabled||itemDisabled||readonly?"disabled":"",radio=(0,jsx_runtime.jsxs)("span",{children:[(0,jsx_runtime.jsx)("input",{type:"radio",id:optionId(id,i),checked,name:id,required,value:String(i),disabled:disabled||itemDisabled||readonly,autoFocus:autofocus&&0===i,onChange:()=>onChange(option.value),onBlur:handleBlur,onFocus:handleFocus,"aria-describedby":ariaDescribedByIds(id)}),(0,jsx_runtime.jsx)("span",{children:option.label})]});return inline?(0,jsx_runtime.jsx)("label",{className:`radio-inline ${disabledCls}`,children:radio},i):(0,jsx_runtime.jsx)("div",{className:`radio ${disabledCls}`,children:(0,jsx_runtime.jsx)("label",{children:radio})},i)}))})}function RangeWidget(props){const{value,registry:{templates:{BaseInputTemplate}}}=props;return(0,jsx_runtime.jsxs)("div",{className:"field-range-wrapper",children:[(0,jsx_runtime.jsx)(BaseInputTemplate,{type:"range",...props}),(0,jsx_runtime.jsx)("span",{className:"range-view",children:value})]})}function getValue(event,multiple){return multiple?Array.from(event.target.options).slice().filter((o=>o.selected)).map((o=>o.value)):event.target.value}function SelectWidget$1({schema,id,options,value,required,disabled,readonly,multiple=!1,autofocus=!1,onChange,onBlur,onFocus,placeholder}){const{enumOptions,enumDisabled,emptyValue:optEmptyVal}=options,emptyValue=multiple?[]:"",handleFocus=(0,react.useCallback)((event=>{const newValue=getValue(event,multiple);return onFocus(id,enumOptionsValueForIndex(newValue,enumOptions,optEmptyVal))}),[onFocus,id,schema,multiple,enumOptions,optEmptyVal]),handleBlur=(0,react.useCallback)((event=>{const newValue=getValue(event,multiple);return onBlur(id,enumOptionsValueForIndex(newValue,enumOptions,optEmptyVal))}),[onBlur,id,schema,multiple,enumOptions,optEmptyVal]),handleChange=(0,react.useCallback)((event=>{const newValue=getValue(event,multiple);return onChange(enumOptionsValueForIndex(newValue,enumOptions,optEmptyVal))}),[onChange,schema,multiple,enumOptions,optEmptyVal]),selectedIndexes=function enumOptionsIndexForValue(value,allEnumOptions=[],multiple=!1){const selectedIndexes=allEnumOptions.map(((opt,index)=>enumOptionsIsSelected(opt.value,value)?String(index):void 0)).filter((opt=>void 0!==opt));return multiple?selectedIndexes:selectedIndexes[0]}(value,enumOptions,multiple),showPlaceholderOption=!multiple&&void 0===schema.default;return(0,jsx_runtime.jsxs)("select",{id,name:id,multiple,className:"form-control",value:void 0===selectedIndexes?emptyValue:selectedIndexes,required,disabled:disabled||readonly,autoFocus:autofocus,onBlur:handleBlur,onFocus:handleFocus,onChange:handleChange,"aria-describedby":ariaDescribedByIds(id),children:[showPlaceholderOption&&(0,jsx_runtime.jsx)("option",{value:"",children:placeholder}),Array.isArray(enumOptions)&&enumOptions.map((({value,label},i)=>{const disabled=enumDisabled&&-1!==enumDisabled.indexOf(value);return(0,jsx_runtime.jsx)("option",{value:String(i),disabled,children:label},i)}))]})}function TextareaWidget$1({id,options={},placeholder,value,required,disabled,readonly,autofocus=!1,onChange,onBlur,onFocus}){const handleChange=(0,react.useCallback)((({target:{value}})=>onChange(""===value?options.emptyValue:value)),[onChange,options.emptyValue]),handleBlur=(0,react.useCallback)((({target})=>onBlur(id,target&&target.value)),[onBlur,id]),handleFocus=(0,react.useCallback)((({target})=>onFocus(id,target&&target.value)),[id,onFocus]);return(0,jsx_runtime.jsx)("textarea",{id,name:id,className:"form-control",value:value||"",placeholder,required,disabled,readOnly:readonly,autoFocus:autofocus,rows:options.rows,onBlur:handleBlur,onFocus:handleFocus,onChange:handleChange,"aria-describedby":ariaDescribedByIds(id)})}function TextWidget(props){const{options,registry}=props,BaseInputTemplate=getTemplate("BaseInputTemplate",registry,options);return(0,jsx_runtime.jsx)(BaseInputTemplate,{...props})}function TimeWidget(props){const{onChange,options,registry}=props,BaseInputTemplate=getTemplate("BaseInputTemplate",registry,options),handleChange=(0,react.useCallback)((value=>onChange(value?`${value}:00`:void 0)),[onChange]);return(0,jsx_runtime.jsx)(BaseInputTemplate,{type:"time",...props,onChange:handleChange})}function URLWidget(props){const{options,registry}=props,BaseInputTemplate=getTemplate("BaseInputTemplate",registry,options);return(0,jsx_runtime.jsx)(BaseInputTemplate,{type:"url",...props})}function UpDownWidget(props){const{options,registry}=props,BaseInputTemplate=getTemplate("BaseInputTemplate",registry,options);return(0,jsx_runtime.jsx)(BaseInputTemplate,{type:"number",...props})}function getDefaultRegistry(){return{fields:{AnyOfField,ArrayField,BooleanField:BooleanField$1,NumberField,ObjectField,OneOfField:AnyOfField,SchemaField,StringField,NullField},templates:{ArrayFieldDescriptionTemplate,ArrayFieldItemTemplate:ArrayFieldItemTemplate$1,ArrayFieldTemplate:ArrayFieldTemplate$1,ArrayFieldTitleTemplate,ButtonTemplates:{SubmitButton:SubmitButton$1,AddButton:AddButton$1,CopyButton,MoveDownButton,MoveUpButton,RemoveButton},BaseInputTemplate:BaseInputTemplate$1,DescriptionFieldTemplate:DescriptionField,ErrorListTemplate:ErrorList,FieldTemplate:FieldTemplate$1,FieldErrorTemplate,FieldHelpTemplate,ObjectFieldTemplate:ObjectFieldTemplate$1,TitleFieldTemplate:TitleField,UnsupportedFieldTemplate:UnsupportedField,WrapIfAdditionalTemplate:WrapIfAdditionalTemplate$1},widgets:{AltDateWidget,AltDateTimeWidget,CheckboxWidget,CheckboxesWidget:CheckboxesWidget$1,ColorWidget,DateWidget:DateWidget$1,DateTimeWidget:DateTimeWidget$1,EmailWidget:EmailWidget$1,FileWidget:FileWidget$1,HiddenWidget,PasswordWidget,RadioWidget:RadioWidget$1,RangeWidget,SelectWidget:SelectWidget$1,TextWidget,TextareaWidget:TextareaWidget$1,TimeWidget,UpDownWidget,URLWidget},rootSchema:{},formContext:{},translateString:englishStringTranslator}}TextareaWidget$1.defaultProps={autofocus:!1,options:{}};class Form extends react.Component{formElement;constructor(props){if(super(props),!props.validator)throw new Error("A validator is required for Form functionality to work");this.state=this.getStateFromProps(props,props.formData),this.props.onChange&&!deepEquals(this.state.formData,this.props.formData)&&this.props.onChange(this.state),this.formElement=(0,react.createRef)()}getSnapshotBeforeUpdate(prevProps,prevState){if(!deepEquals(this.props,prevProps)){const formDataChangedFields=function getChangedFields(a,b){const aIsPlainObject=(0,isPlainObject.A)(a),bIsPlainObject=(0,isPlainObject.A)(b);return a===b||!aIsPlainObject&&!bIsPlainObject?[]:aIsPlainObject&&!bIsPlainObject?(0,keys.A)(a):!aIsPlainObject&&bIsPlainObject?(0,keys.A)(b):[...(0,keys.A)((0,pickBy.A)(a,((value,key)=>!deepEquals(value,(0,get.A)(b,key))))),...(0,difference.A)((0,keys.A)(b),(0,keys.A)(a))]}(this.props.formData,prevProps.formData),isSchemaChanged=!deepEquals(prevProps.schema,this.props.schema),isFormDataChanged=formDataChangedFields.length>0||!deepEquals(prevProps.formData,this.props.formData),nextState=this.getStateFromProps(this.props,this.props.formData,isSchemaChanged||isFormDataChanged?void 0:this.state.retrievedSchema,isSchemaChanged,formDataChangedFields);return{nextState,shouldUpdate:!deepEquals(nextState,prevState)}}return{shouldUpdate:!1}}componentDidUpdate(_,prevState,snapshot){if(snapshot.shouldUpdate){const{nextState}=snapshot;deepEquals(nextState.formData,this.props.formData)||deepEquals(nextState.formData,prevState.formData)||!this.props.onChange||this.props.onChange(nextState),this.setState(nextState)}}getStateFromProps(props,inputFormData,retrievedSchema,isSchemaChanged=!1,formDataChangedFields=[]){const state=this.state||{},schema="schema"in props?props.schema:this.props.schema,uiSchema=("uiSchema"in props?props.uiSchema:this.props.uiSchema)||{},edit=void 0!==inputFormData,liveValidate="liveValidate"in props?props.liveValidate:this.props.liveValidate,mustValidate=edit&&!props.noValidate&&liveValidate,rootSchema=schema,experimental_defaultFormStateBehavior="experimental_defaultFormStateBehavior"in props?props.experimental_defaultFormStateBehavior:this.props.experimental_defaultFormStateBehavior,experimental_customMergeAllOf="experimental_customMergeAllOf"in props?props.experimental_customMergeAllOf:this.props.experimental_customMergeAllOf;let schemaUtils=state.schemaUtils;schemaUtils&&!schemaUtils.doesSchemaUtilsDiffer(props.validator,rootSchema,experimental_defaultFormStateBehavior,experimental_customMergeAllOf)||(schemaUtils=createSchemaUtils(props.validator,rootSchema,experimental_defaultFormStateBehavior,experimental_customMergeAllOf));const formData=schemaUtils.getDefaultFormState(schema,inputFormData),_retrievedSchema=this.updateRetrievedSchema(retrievedSchema??schemaUtils.retrieveSchema(schema,formData));let errors,errorSchema,schemaValidationErrors=state.schemaValidationErrors,schemaValidationErrorSchema=state.schemaValidationErrorSchema;if(mustValidate){const schemaValidation=this.validate(formData,schema,schemaUtils,_retrievedSchema);errors=schemaValidation.errors,errorSchema=void 0===retrievedSchema?schemaValidation.errorSchema:mergeObjects(this.state?.errorSchema,schemaValidation.errorSchema,"preventDuplicates"),schemaValidationErrors=errors,schemaValidationErrorSchema=errorSchema}else{const currentErrors=props.noValidate||isSchemaChanged?{errors:[],errorSchema:{}}:props.liveValidate?{errors:state.errors||[],errorSchema:state.errorSchema||{}}:{errors:state.schemaValidationErrors||[],errorSchema:state.schemaValidationErrorSchema||{}};if(errors=currentErrors.errors,errorSchema=currentErrors.errorSchema,formDataChangedFields.length>0){const newErrorSchema=formDataChangedFields.reduce(((acc,key)=>(acc[key]=void 0,acc)),{});errorSchema=schemaValidationErrorSchema=mergeObjects(currentErrors.errorSchema,newErrorSchema,"preventDuplicates")}}if(props.extraErrors){const merged=validationDataMerge({errorSchema,errors},props.extraErrors);errorSchema=merged.errorSchema,errors=merged.errors}const idSchema=schemaUtils.toIdSchema(_retrievedSchema,uiSchema["ui:rootFieldId"],formData,props.idPrefix,props.idSeparator);return{schemaUtils,schema,uiSchema,idSchema,formData,edit,errors,errorSchema,schemaValidationErrors,schemaValidationErrorSchema,retrievedSchema:_retrievedSchema}}shouldComponentUpdate(nextProps,nextState){return function shouldRender(component,nextProps,nextState){const{props,state}=component;return!deepEquals(props,nextProps)||!deepEquals(state,nextState)}(this,nextProps,nextState)}getPreviousCustomValidateErrors(){const{customValidate,uiSchema}=this.props,prevFormData=this.state.formData;let customValidateErrors={};if("function"==typeof customValidate){customValidateErrors=unwrapErrorHandler(customValidate(prevFormData,createErrorHandler(prevFormData),uiSchema))}return customValidateErrors}validate(formData,schema=this.props.schema,altSchemaUtils,retrievedSchema){const schemaUtils=altSchemaUtils||this.state.schemaUtils,{customValidate,transformErrors,uiSchema}=this.props,resolvedSchema=retrievedSchema??schemaUtils.retrieveSchema(schema,formData);return schemaUtils.getValidator().validateFormData(formData,resolvedSchema,customValidate,transformErrors,uiSchema)}renderErrors(registry){const{errors,errorSchema,schema,uiSchema}=this.state,{formContext}=this.props,ErrorListTemplate=getTemplate("ErrorListTemplate",registry,getUiOptions(uiSchema));return errors&&errors.length?(0,jsx_runtime.jsx)(ErrorListTemplate,{errors,errorSchema:errorSchema||{},schema,uiSchema,formContext,registry}):null}getUsedFormData=(formData,fields)=>{if(0===fields.length&&"object"!=typeof formData)return formData;const data=(0,pick.A)(formData,fields);return Array.isArray(formData)?Object.keys(data).map((key=>data[key])):data};getFieldNames=(pathSchema,formData)=>{const getAllPaths=(_obj,acc=[],paths=[[]])=>(Object.keys(_obj).forEach((key=>{if("object"==typeof _obj[key]){const newPaths=paths.map((path=>[...path,key]));_obj[key].__rjsf_additionalProperties&&""!==_obj[key].$name?acc.push(_obj[key].$name):getAllPaths(_obj[key],acc,newPaths)}else"$name"===key&&""!==_obj[key]&&paths.forEach((path=>{const formValue=(0,get.A)(formData,path);("object"!=typeof formValue||(0,isEmpty.A)(formValue)||Array.isArray(formValue)&&formValue.every((val=>"object"!=typeof val)))&&acc.push(path)}))})),acc);return getAllPaths(pathSchema)};omitExtraData=formData=>{const{schema,schemaUtils}=this.state,retrievedSchema=schemaUtils.retrieveSchema(schema,formData),pathSchema=schemaUtils.toPathSchema(retrievedSchema,"",formData),fieldNames=this.getFieldNames(pathSchema,formData);return this.getUsedFormData(formData,fieldNames)};filterErrorsBasedOnSchema(schemaErrors,resolvedSchema,formData){const{retrievedSchema,schemaUtils}=this.state,_retrievedSchema=resolvedSchema??retrievedSchema,pathSchema=schemaUtils.toPathSchema(_retrievedSchema,"",formData),fieldNames=this.getFieldNames(pathSchema,formData),filteredErrors=(0,pick.A)(schemaErrors,fieldNames);"object"!==resolvedSchema?.type&&"array"!==resolvedSchema?.type&&(filteredErrors.__errors=schemaErrors.__errors);const prevCustomValidateErrors=this.getPreviousCustomValidateErrors(),filterNilOrEmptyErrors=(errors,previousCustomValidateErrors={})=>((0,forEach.A)(errors,((errorAtKey,errorKey)=>{const prevCustomValidateErrorAtKey=previousCustomValidateErrors[errorKey];(0,isNil.A)(errorAtKey)||Array.isArray(errorAtKey)&&0===errorAtKey.length?delete errors[errorKey]:client_esm_isObject(errorAtKey)&&client_esm_isObject(prevCustomValidateErrorAtKey)&&Array.isArray(prevCustomValidateErrorAtKey?.__errors)?errors[errorKey]=((errors=[],prevCustomErrors)=>0===errors.length?errors:errors.filter((error=>!prevCustomErrors.includes(error))))(errorAtKey.__errors,prevCustomValidateErrorAtKey.__errors):"object"!=typeof errorAtKey||Array.isArray(errorAtKey.__errors)||filterNilOrEmptyErrors(errorAtKey,previousCustomValidateErrors[errorKey])})),errors);return filterNilOrEmptyErrors(filteredErrors,prevCustomValidateErrors)}onChange=(formData,newErrorSchema,id)=>{const{extraErrors,omitExtraData,liveOmit,noValidate,liveValidate,onChange}=this.props,{schemaUtils,schema}=this.state;let retrievedSchema=this.state.retrievedSchema;if(client_esm_isObject(formData)||Array.isArray(formData)){const newState=this.getStateFromProps(this.props,formData);formData=newState.formData,retrievedSchema=newState.retrievedSchema}const mustValidate=!noValidate&&liveValidate;let state={formData,schema},newFormData=formData;if(!0===omitExtraData&&!0===liveOmit&&(newFormData=this.omitExtraData(formData),state={formData:newFormData}),mustValidate){const schemaValidation=this.validate(newFormData,schema,schemaUtils,retrievedSchema);let errors=schemaValidation.errors,errorSchema=schemaValidation.errorSchema;const schemaValidationErrors=errors,schemaValidationErrorSchema=errorSchema;if(extraErrors){const merged=validationDataMerge(schemaValidation,extraErrors);errorSchema=merged.errorSchema,errors=merged.errors}if(newErrorSchema){errorSchema=mergeObjects(errorSchema,this.filterErrorsBasedOnSchema(newErrorSchema,retrievedSchema,newFormData),"preventDuplicates")}state={formData:newFormData,errors,errorSchema,schemaValidationErrors,schemaValidationErrorSchema}}else if(!noValidate&&newErrorSchema){const errorSchema=extraErrors?mergeObjects(newErrorSchema,extraErrors,"preventDuplicates"):newErrorSchema;state={formData:newFormData,errorSchema,errors:toErrorList(errorSchema)}}this.setState(state,(()=>onChange&&onChange({...this.state,...state},id)))};updateRetrievedSchema(retrievedSchema){return deepEquals(retrievedSchema,this.state?.retrievedSchema)?this.state.retrievedSchema:retrievedSchema}reset=()=>{const{onChange}=this.props,state={formData:this.getStateFromProps(this.props,void 0).formData,errorSchema:{},errors:[],schemaValidationErrors:[],schemaValidationErrorSchema:{}};this.setState(state,(()=>onChange&&onChange({...this.state,...state})))};onBlur=(id,data)=>{const{onBlur}=this.props;onBlur&&onBlur(id,data)};onFocus=(id,data)=>{const{onFocus}=this.props;onFocus&&onFocus(id,data)};onSubmit=event=>{if(event.preventDefault(),event.target!==event.currentTarget)return;event.persist();const{omitExtraData,extraErrors,noValidate,onSubmit}=this.props;let{formData:newFormData}=this.state;if(!0===omitExtraData&&(newFormData=this.omitExtraData(newFormData)),noValidate||this.validateFormWithFormData(newFormData)){const errorSchema=extraErrors||{},errors=extraErrors?toErrorList(extraErrors):[];this.setState({formData:newFormData,errors,errorSchema,schemaValidationErrors:[],schemaValidationErrorSchema:{}},(()=>{onSubmit&&onSubmit({...this.state,formData:newFormData,status:"submitted"},event)}))}};getRegistry(){const{translateString:customTranslateString,uiSchema={}}=this.props,{schemaUtils}=this.state,{fields,templates,widgets,formContext,translateString}=getDefaultRegistry();return{fields:{...fields,...this.props.fields},templates:{...templates,...this.props.templates,ButtonTemplates:{...templates.ButtonTemplates,...this.props.templates?.ButtonTemplates}},widgets:{...widgets,...this.props.widgets},rootSchema:this.props.schema,formContext:this.props.formContext||formContext,schemaUtils,translateString:customTranslateString||translateString,globalUiOptions:uiSchema["ui:globalOptions"]}}submit=()=>{if(this.formElement.current){const submitCustomEvent=new CustomEvent("submit",{cancelable:!0});submitCustomEvent.preventDefault(),this.formElement.current.dispatchEvent(submitCustomEvent),this.formElement.current.requestSubmit()}};focusOnError(error){const{idPrefix="root",idSeparator="_"}=this.props,{property}=error,path=(0,toPath.A)(property);""===path[0]?path[0]=idPrefix:path.unshift(idPrefix);const elementId=path.join(idSeparator);let field=this.formElement.current.elements[elementId];field||(field=this.formElement.current.querySelector(`input[id^="${elementId}"`)),field&&field.length&&(field=field[0]),field&&field.focus()}validateFormWithFormData=formData=>{const{extraErrors,extraErrorsBlockSubmit,focusOnFirstError,onError}=this.props,{errors:prevErrors}=this.state,schemaValidation=this.validate(formData);let errors=schemaValidation.errors,errorSchema=schemaValidation.errorSchema;const schemaValidationErrors=errors,schemaValidationErrorSchema=errorSchema,hasError=errors.length>0||extraErrors&&extraErrorsBlockSubmit;if(hasError){if(extraErrors){const merged=validationDataMerge(schemaValidation,extraErrors);errorSchema=merged.errorSchema,errors=merged.errors}focusOnFirstError&&("function"==typeof focusOnFirstError?focusOnFirstError(errors[0]):this.focusOnError(errors[0])),this.setState({errors,errorSchema,schemaValidationErrors,schemaValidationErrorSchema},(()=>{onError?onError(errors):console.error("Form validation failed",errors)}))}else prevErrors.length>0&&this.setState({errors:[],errorSchema:{},schemaValidationErrors:[],schemaValidationErrorSchema:{}});return!hasError};validateForm(){const{omitExtraData}=this.props;let{formData:newFormData}=this.state;return!0===omitExtraData&&(newFormData=this.omitExtraData(newFormData)),this.validateFormWithFormData(newFormData)}render(){const{children,id,idPrefix,idSeparator,className="",tagName,name,method,target,action,autoComplete,enctype,acceptcharset,acceptCharset,noHtml5Validate=!1,disabled,readonly,formContext,showErrorList="top",_internalFormWrapper}=this.props,{schema,uiSchema,formData,errorSchema,idSchema}=this.state,registry=this.getRegistry(),{SchemaField:_SchemaField}=registry.fields,{SubmitButton}=registry.templates.ButtonTemplates,as=_internalFormWrapper?tagName:void 0,FormTag=_internalFormWrapper||tagName||"form";let{[SUBMIT_BTN_OPTIONS_KEY]:submitOptions={}}=getUiOptions(uiSchema);disabled&&(submitOptions={...submitOptions,props:{...submitOptions.props,disabled:!0}});const submitUiSchema={[UI_OPTIONS_KEY]:{[SUBMIT_BTN_OPTIONS_KEY]:submitOptions}};return(0,jsx_runtime.jsxs)(FormTag,{className:className||"rjsf",id,name,method,target,action,autoComplete,encType:enctype,acceptCharset:acceptCharset||acceptcharset,noValidate:noHtml5Validate,onSubmit:this.onSubmit,as,ref:this.formElement,children:["top"===showErrorList&&this.renderErrors(registry),(0,jsx_runtime.jsx)(_SchemaField,{name:"",schema,uiSchema,errorSchema,idSchema,idPrefix,idSeparator,formContext,formData,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry,disabled,readonly}),children||(0,jsx_runtime.jsx)(SubmitButton,{uiSchema:submitUiSchema,registry}),"bottom"===showErrorList&&this.renderErrors(registry)]})}}function getScrollTop(element){if(element){const{scrollTop}=element;return scrollTop}return 0}function getScrollBottom(element){if(element){const{scrollHeight,offsetHeight,scrollTop}=element;return scrollHeight-offsetHeight-scrollTop}return 0}function getScrollLeft(element){if(element){const{scrollLeft}=element;return scrollLeft}return 0}function getScrollRight(element){if(element){const{scrollWidth,offsetWidth,scrollLeft}=element;return scrollWidth-offsetWidth-scrollLeft}return 0}const useScroll=(elementRef,throttleTime=0)=>{const[scrollTop,setScrollTop]=(0,react.useState)(getScrollTop(elementRef)),[scrollBottom,setScrollBottom]=(0,react.useState)(getScrollBottom(elementRef)),[scrollLeft,setScrollLeft]=(0,react.useState)(getScrollLeft(elementRef)),[scrollRight,setScrollRight]=(0,react.useState)(getScrollRight(elementRef)),throttledUpdatePosition=(0,react.useMemo)((()=>(0,throttle.A)((()=>{setScrollTop(getScrollTop(elementRef)),setScrollBottom(getScrollBottom(elementRef)),setScrollLeft(getScrollLeft(elementRef)),setScrollRight(getScrollRight(elementRef))}),throttleTime)),[elementRef,throttleTime]);return(0,react.useEffect)((()=>{if(elementRef)return elementRef.addEventListener("scroll",throttledUpdatePosition),()=>{elementRef.removeEventListener("scroll",throttledUpdatePosition)}}),[elementRef,throttledUpdatePosition]),{scrollTop,scrollBottom,scrollLeft,scrollRight}},SCROLL_OFFSET=12,FormStateContext=(0,react.createContext)(null),FormStateProvider=({children,initialFormData,displayErrors=!1})=>{const[fieldStates,setFieldStates]=(0,react.useState)({}),[initialData]=(0,react.useState)(null!=initialFormData?initialFormData:{}),markFieldAsTouched=(0,react.useCallback)((fieldId=>{setFieldStates((prev=>Object.assign(Object.assign({},prev),{[fieldId]:Object.assign(Object.assign({},prev[fieldId]),{touched:!0})})))}),[]),trackFieldChange=(0,react.useCallback)(((fieldId,value)=>{const initialValue=(0,get.A)(initialData,fieldId),hasChanged=!(0,isEqual.A)(value,initialValue);setFieldStates((prev=>Object.assign(Object.assign({},prev),{[fieldId]:{touched:!0,dirty:hasChanged}})))}),[initialData]),isFieldTouched=(0,react.useCallback)((fieldId=>{var _a,_b;return null!==(_b=null===(_a=fieldStates[fieldId])||void 0===_a?void 0:_a.touched)&&void 0!==_b&&_b}),[fieldStates]),isFieldDirty=(0,react.useCallback)((fieldId=>{var _a,_b;return null!==(_b=null===(_a=fieldStates[fieldId])||void 0===_a?void 0:_a.dirty)&&void 0!==_b&&_b}),[fieldStates]),resetFieldState=(0,react.useCallback)((fieldId=>{setFieldStates((prev=>{const newState=Object.assign({},prev);return delete newState[fieldId],newState}))}),[]),resetAllFieldStates=(0,react.useCallback)((()=>{setFieldStates({})}),[]),value=(0,react.useMemo)((()=>({fieldStates,markFieldAsTouched,trackFieldChange,isFieldTouched,isFieldDirty,resetFieldState,resetAllFieldStates,displayErrors})),[fieldStates,markFieldAsTouched,trackFieldChange,isFieldTouched,isFieldDirty,resetFieldState,resetAllFieldStates,displayErrors]);return react.createElement(FormStateContext.Provider,{value},children)},useFormState=()=>{const context=(0,react.useContext)(FormStateContext);if(!context)throw new Error("useFormState must be used within a FormStateProvider");return context},useFieldTemplateElement=formRef=>{var _a,_b;const[fieldTemplate,setFieldTemplate]=(0,react.useState)(void 0);return(0,react.useEffect)((()=>{var _a,_b;(null===(_b=null===(_a=null==formRef?void 0:formRef.current)||void 0===_a?void 0:_a.formElement)||void 0===_b?void 0:_b.current)?setFieldTemplate(formRef.current.formElement.current.querySelector('[class^="FieldTemplate"]')):setFieldTemplate(void 0)}),[null===(_b=null===(_a=null==formRef?void 0:formRef.current)||void 0===_a?void 0:_a.formElement)||void 0===_b?void 0:_b.current]),fieldTemplate};function styleInject(css,ref){void 0===ref&&(ref={});var insertAt=ref.insertAt;if(css&&"undefined"!=typeof document){var head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style");style.type="text/css","top"===insertAt&&head.firstChild?head.insertBefore(style,head.firstChild):head.appendChild(style),style.styleSheet?style.styleSheet.cssText=css:style.appendChild(document.createTextNode(css))}}var styles$g={FormContainer:"SchemaForm-module_FormContainer__UsnRm",FormFooter:"SchemaForm-module_FormFooter__1Rety",Scrolling:"SchemaForm-module_Scrolling__w2HzD",LeftFooter:"SchemaForm-module_LeftFooter__Rh5He",RightFooter:"SchemaForm-module_RightFooter__vRi-w",Action:"SchemaForm-module_Action__mE2XJ",Text:"SchemaForm-module_Text__h1LG1","rotate-border":"SchemaForm-module_rotate-border__5DVPQ"};styleInject('/** HEADINGS **/\n/** LABELS **/\n/** SPANS **/\n/** PARAGRAPHS **/\n/** CODE/CONSOLE **/\n@property --rotation {\n  syntax: "<angle>";\n  initial-value: 0deg;\n  inherits: false;\n}\n@keyframes SchemaForm-module_rotate-border__5DVPQ {\n  to {\n    --rotation: 360deg;\n  }\n}\n.SchemaForm-module_FormContainer__UsnRm {\n  /**\n  * @prop --schema-form-x-padding: horizontal form padding\n  * @prop --schema-form-y-padding: vertical form padding\n  * @prop --schema-form-max-width: max field width\n  * @prop --schema-form-fields-x-gap: horizontal gap between fields\n  * @prop --schema-form-fields-y-gap: vertical gap between fields\n  */\n  --schema-form-x-padding: 0px;\n  --schema-form-y-padding: 0px;\n  --schema-form-max-width: 100%;\n  --schema-form-fields-x-gap: var(--kv-spacing-5x, 20px);\n  --schema-form-fields-y-gap: var(--kv-spacing-5x, 20px);\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  padding: var(--schema-form-y-padding) 0;\n  box-sizing: border-box;\n  position: relative;\n}\n.SchemaForm-module_FormContainer__UsnRm form {\n  width: 100%;\n  display: flex;\n  flex: 1;\n  min-height: 0;\n  flex-direction: column;\n  justify-content: space-between;\n}\n.SchemaForm-module_FormContainer__UsnRm form > div[class^=FieldTemplate] {\n  height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n  box-sizing: border-box;\n  padding: 0 var(--schema-form-x-padding);\n}\n.SchemaForm-module_FormContainer__UsnRm .SchemaForm-module_FormFooter__1Rety {\n  display: flex;\n  justify-content: space-between;\n  align-items: end;\n  padding: var(--kv-spacing-4x, 16px) var(--schema-form-x-padding) 0 var(--schema-form-x-padding);\n}\n.SchemaForm-module_FormContainer__UsnRm .SchemaForm-module_FormFooter__1Rety.SchemaForm-module_Scrolling__w2HzD {\n  border-top: 1px solid var(--kv-neutral-6, #3f3f3f);\n}\n.SchemaForm-module_FormContainer__UsnRm .SchemaForm-module_FormFooter__1Rety .SchemaForm-module_LeftFooter__Rh5He,\n.SchemaForm-module_FormContainer__UsnRm .SchemaForm-module_FormFooter__1Rety .SchemaForm-module_RightFooter__vRi-w {\n  display: flex;\n  gap: var(--kv-spacing-3x, 12px);\n}\n.SchemaForm-module_FormContainer__UsnRm .SchemaForm-module_Action__mE2XJ {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: var(--kv-spacing-2x, 8px);\n  position: absolute;\n  top: var(--schema-form-y-padding);\n  right: var(--schema-form-x-padding);\n}\n.SchemaForm-module_FormContainer__UsnRm .SchemaForm-module_Action__mE2XJ .SchemaForm-module_Text__h1LG1 {\n  color: var(--kv-neutral-2, #e5e5e5);\n  font-family: var(--kv-primary-font, "proxima-nova", sans-serif, "Arial");\n  font-size: 12px;\n  font-weight: 400;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: 18px;\n  letter-spacing: normal;\n  text-transform: none;\n}\n\nbody[mode=light] .SchemaForm-module_FormContainer__UsnRm form::-webkit-scrollbar {\n  width: 15px;\n  height: 15px;\n}\nbody[mode=light] .SchemaForm-module_FormContainer__UsnRm form::-webkit-scrollbar-thumb {\n  border-radius: 10px;\n  background-color: var(--kv-neutral-3, #ddd);\n  border: 4px solid transparent;\n  background-clip: content-box;\n}\nbody[mode=light] .SchemaForm-module_FormContainer__UsnRm form::-webkit-scrollbar-corner {\n  background-color: transparent;\n}\nbody[mode=light] .SchemaForm-module_FormFooter__1Rety.SchemaForm-module_Scrolling__w2HzD {\n  border-color: var(--kv-neutral-3, #ddd);\n}\nbody[mode=night] .SchemaForm-module_FormContainer__UsnRm form::-webkit-scrollbar {\n  width: 15px;\n  height: 15px;\n}\nbody[mode=night] .SchemaForm-module_FormContainer__UsnRm form::-webkit-scrollbar-thumb {\n  border-radius: 10px;\n  background-color: var(--kv-neutral-6, #3f3f3f);\n  border: 4px solid transparent;\n  background-clip: content-box;\n}\nbody[mode=night] .SchemaForm-module_FormContainer__UsnRm form::-webkit-scrollbar-corner {\n  background-color: transparent;\n}\nbody[mode=night] .SchemaForm-module_FormFooter__1Rety.SchemaForm-module_Scrolling__w2HzD {\n  border-color: var(--kv-neutral-6, #3f3f3f);\n}');var styles$f_RadioListContainer="RadioWidget-module_RadioListContainer__mHQZ-",styles$f_Inline="RadioWidget-module_Inline__euy9F",styles$f_RadioOption="RadioWidget-module_RadioOption__3dNR-",styles$f_Checked="RadioWidget-module_Checked__ruAyD",styles$f_Disabled="RadioWidget-module_Disabled__uElsE";styleInject('/** HEADINGS **/\n/** LABELS **/\n/** SPANS **/\n/** PARAGRAPHS **/\n/** CODE/CONSOLE **/\n@property --rotation {\n  syntax: "<angle>";\n  initial-value: 0deg;\n  inherits: false;\n}\n@keyframes RadioWidget-module_rotate-border__cK8vo {\n  to {\n    --rotation: 360deg;\n  }\n}\n.RadioWidget-module_RadioListContainer__mHQZ- {\n  display: flex;\n  flex-direction: column;\n  column-gap: var(--kv-spacing-5x, 20px);\n  flex-wrap: wrap;\n  margin-left: var(--kv-spacing, 4px);\n}\n.RadioWidget-module_RadioListContainer__mHQZ-.RadioWidget-module_Inline__euy9F {\n  flex-direction: row;\n  column-gap: var(--kv-spacing-2x, 8px);\n}\n.RadioWidget-module_RadioListContainer__mHQZ- .RadioWidget-module_RadioOption__3dNR- {\n  flex: 1;\n  background-color: var(--kv-neutral-7, #2a2a2a);\n  border-radius: 4px;\n  padding: 0 var(--kv-spacing-4x, 16px);\n  cursor: pointer;\n}\n.RadioWidget-module_RadioListContainer__mHQZ- .RadioWidget-module_RadioOption__3dNR-.RadioWidget-module_Checked__ruAyD {\n  border: 1px solid var(--kv-neutral-0, #fff);\n}\n.RadioWidget-module_RadioListContainer__mHQZ- .RadioWidget-module_RadioOption__3dNR-.RadioWidget-module_Disabled__uElsE {\n  pointer-events: none;\n}\n.RadioWidget-module_RadioListContainer__mHQZ- .RadioWidget-module_RadioOption__3dNR-.RadioWidget-module_Disabled__uElsE.RadioWidget-module_Checked__ruAyD {\n  border-color: var(--kv-neutral-6, #3f3f3f);\n}');const RadioWidget=({id,options,value,disabled,readonly,formContext,onChange})=>{const{trackFieldChange,markFieldAsTouched}=useFormState(),{enumOptions,enumDisabled,inline}=options,inlineMemo=(0,react.useMemo)((()=>Boolean(inline)),[inline]),{allowClearInputs}=formContext,handleChange=(0,react.useCallback)(((optionValue,checked)=>{const newValue=allowClearInputs&&checked?void 0:optionValue;trackFieldChange(id,newValue),onChange(newValue)}),[onChange,allowClearInputs,trackFieldChange,id]);return react.createElement("div",{className:classnames_default()(styles$f_RadioListContainer,{[styles$f_Inline]:inlineMemo})},Array.isArray(enumOptions)&&enumOptions.map(((option,i)=>{const itemDisabled=Array.isArray(enumDisabled)&&-1!==enumDisabled.indexOf(option.value),checked=option.value==value,isDisabled=disabled||itemDisabled||readonly;return react.createElement("div",{key:i,className:classnames_default()(styles$f_RadioOption,{[styles$f_Checked]:checked,[styles$f_Disabled]:isDisabled}),onClick:_=>handleChange(option.value,checked),onFocus:()=>markFieldAsTouched(id),onBlur:()=>markFieldAsTouched(id)},react.createElement(KvRadio,{id:option.label,label:option.label,disabled:isDisabled,checked}))})))};var styles$e_InputContainer="SelectWidget-module_InputContainer__JBINY";styleInject(".SelectWidget-module_InputContainer__JBINY {\n  display: flex;\n  flex-direction: column;\n}\n.SelectWidget-module_InputContainer__JBINY kv-multi-select-dropdown kv-dropdown kv-text-field,\n.SelectWidget-module_InputContainer__JBINY kv-single-select-dropdown kv-dropdown kv-text-field {\n  --input-width: auto;\n  --input-min-width: auto;\n  --input-max-width: auto;\n}");const numericTypes=["number","integer"],enumSchemaHasCustomTitles=schema=>!(!schema||"object"!=typeof schema||Array.isArray(schema))&&"x-titles"in schema,processValue=(schema,value)=>{const{type,items}=schema,itemsType=(0,get.A)(items,"type");if(""!==value&&!(0,isNil.A)(value)){if("array"===type&&items&&(0,isString.A)(itemsType)&&numericTypes.includes(itemsType))return value.map(asNumber);if("boolean"===type)return!0===value||"true"===value;if("number"===type||"integer"===type)return asNumber(value);if(schema.enum){if(schema.enum.every((x=>"number"===guessType(x))))return asNumber(value);if(schema.enum.every((x=>"boolean"===guessType(x))))return"true"===value}return value}},buildDropdownOptions=({schema,options,disabledOptions,multiSubOptions})=>(0,isEmpty.A)(multiSubOptions)?Array.isArray(options)?options.reduce(((acc,{label:optionLabel,value,schema:optionSchema},index)=>{const description=null==optionSchema?void 0:optionSchema.description,disabled=Array.isArray(disabledOptions)&&-1!=disabledOptions.indexOf(value);let label=(({schema,index,fallback})=>"array"===schema.type&&enumSchemaHasCustomTitles(schema.items)?schema.items["x-titles"][index]||fallback:enumSchemaHasCustomTitles(schema)&&schema["x-titles"][index]||fallback)({schema,index,fallback:optionLabel});return acc[value]={value,label,description,disabled},acc}),{}):{}:multiSubOptions,DEFAULT_DROPDOWN_CONFIG={zIndex:9004,maxHeight:"400px",minHeight:"auto",maxWidth:"auto",minWidth:"max-content"},SelectWidget=({schema,id,options,disabled,readonly,value,multiple,onChange,placeholder,rawErrors=[],uiSchema={},formContext})=>{const{trackFieldChange,markFieldAsTouched,isFieldTouched,displayErrors}=useFormState(),{enumOptions,enumDisabled,placeholder:optionsPlaceholder}=options,{displayValue,searchable,selectionClearable,minHeight,maxHeight,minWidth,maxWidth,icon,minSearchOptions,badge,valuePrefix:displayPrefix,zIndex:optionZIndex,componentSize:optionComponentSize,multiSubOptions,clearSelectionLabel,selectAllLabel}=uiSchema,{componentSize=esm.Cz.Large,dropdownConfig=DEFAULT_DROPDOWN_CONFIG,allowClearInputs}=formContext,[searchTerm,setSearchTerm]=(0,react.useState)(null),defaultDropdownOptions=(0,react.useMemo)((()=>buildDropdownOptions({options:enumOptions,disabledOptions:enumDisabled,multiSubOptions,schema})),[enumOptions,enumDisabled,multiSubOptions,schema]),filteredOptions=(0,react.useMemo)((()=>null!==searchTerm&&searchTerm.length>0?((term,options)=>{const lowerCaseTerm=term.toLowerCase();return Object.keys(options).reduce(((accumulator,key)=>{const option=options[key];return option.label.toLowerCase().includes(lowerCaseTerm)&&(accumulator[key]=option),accumulator}),{})})(searchTerm,defaultDropdownOptions):defaultDropdownOptions),[searchTerm,defaultDropdownOptions]),emptyValue=(0,react.useMemo)((()=>multiple?[]:void 0),[multiple]),processedValue=processValue(schema,value),onSearchChange=(0,react.useCallback)((({detail:searchedLabel})=>setSearchTerm(searchedLabel)),[]),onChangeValue=(0,react.useCallback)((newValue=>{const processedValue=processValue(schema,newValue);trackFieldChange(id,processedValue),onChange(processedValue)}),[schema,id,onChange,trackFieldChange]),onChangeOptionSelected=(0,react.useCallback)((({detail:selectedOption})=>{onChangeValue(selectedOption)}),[onChangeValue]),onChangeOptionsSelected=(0,react.useCallback)((({detail:selectedOptionsMap})=>{const selectedOptions=(selectedOptionsMap=>Object.keys(selectedOptionsMap))(selectedOptionsMap);onChangeValue(selectedOptions)}),[onChangeValue]),shouldShowErrors=isFieldTouched(id)||displayErrors,hasErrors=(0,react.useMemo)((()=>shouldShowErrors&&!(0,isEmpty.A)(rawErrors)),[shouldShowErrors,rawErrors]),props={id,placeholder:placeholder||optionsPlaceholder,inputSize:(0,isEmpty.A)(optionComponentSize)?componentSize:optionComponentSize,disabled:disabled||readonly,errorState:hasErrors?esm.Ih.Invalid:esm.Ih.Valid,displayValue:void 0===processedValue?emptyValue:null==displayValue?void 0:displayValue(processedValue,defaultDropdownOptions),displayPrefix,options:defaultDropdownOptions,filteredOptions,onSearchChange,searchable,zIndex:null!=optionZIndex?optionZIndex:dropdownConfig.zIndex,minHeight:null!=minHeight?minHeight:dropdownConfig.minHeight,maxHeight:null!=maxHeight?maxHeight:dropdownConfig.maxHeight,minWidth:null!=minWidth?minWidth:dropdownConfig.minWidth,maxWidth:null!=maxWidth?maxWidth:dropdownConfig.maxWidth,icon:null!=icon?icon:dropdownConfig.icon,badge,selectionClearable:null!=allowClearInputs?allowClearInputs:selectionClearable,clearSelectionLabel,selectAllLabel,minSearchOptions:null!=minSearchOptions?minSearchOptions:15};return react.createElement("div",{className:styles$e_InputContainer},!multiple&&react.createElement(KvSingleSelectDropdown,Object.assign({selectedOption:processedValue,onOptionSelected:onChangeOptionSelected},props,{onFocus:()=>markFieldAsTouched(id),onBlur:()=>markFieldAsTouched(id)})),multiple&&react.createElement(KvMultiSelectDropdown,Object.assign({selectedOptions:(selectedOptions=processedValue,selectedOptions.reduce(((accumulator,selectOptionKey)=>(accumulator[selectOptionKey]=!0,accumulator)),{})),onOptionsSelected:onChangeOptionsSelected},props,{onFocus:()=>markFieldAsTouched(id),onBlur:()=>markFieldAsTouched(id)})));var selectedOptions},ALL_BUTTON_VALUE="all",CheckboxesWidget=({id,schema,options,disabled,value,required,readonly,onChange})=>{const{trackFieldChange,markFieldAsTouched}=useFormState(),{enumOptions,enumDisabled,allButton,componentSize,withRadio}=options,{maxItems,minItems}=schema,selectedOptions=(0,react.useMemo)((()=>Array.isArray(value)?value:[]),[value]),allOptions=(0,react.useMemo)((()=>Array.isArray(enumOptions)?enumOptions:[]),[enumOptions]),disabledOptions=(0,react.useMemo)((()=>Array.isArray(enumDisabled)?enumDisabled:[]),[enumDisabled]),minimumItems=(0,react.useMemo)((()=>null!=minItems?minItems:0),[minItems]),maximumItems=(0,react.useMemo)((()=>null!=maxItems?maxItems:allOptions.length),[maxItems,allOptions.length]),multiple=(0,react.useMemo)((()=>minimumItems>0||maximumItems>1),[minItems,maxItems]),config=(0,react.useMemo)((()=>({multiple,allButton:!0===allButton,minItems:minimumItems,maxItems:maximumItems,required,readonly})),[multiple,allButton,minItems,maxItems,required,readonly]),buttons=(0,react.useMemo)((()=>((options,enumDisabled,{multiple,allButton,readonly})=>options.reduce(((acc,{label,value})=>[...acc,{label,value,disabled:enumDisabled.includes(value)||readonly}]),multiple&&allButton?[{label:"All",value:"all"}]:[]))(allOptions,disabledOptions,config)),[allOptions,disabledOptions,config]),selectedButtons=(0,react.useMemo)((()=>((selectedOptions,allOptions,{multiple,allButton})=>{const allButtonsSelected=selectedOptions.length===allOptions.length;return multiple&&allButton&&allButtonsSelected?{[ALL_BUTTON_VALUE]:!0}:selectedOptions.reduce(((acc,selectOption)=>(acc[selectOption]=!0,acc)),{})})(selectedOptions,allOptions,config)),[selectedOptions,allOptions,config]),disabledButtons=(0,react.useMemo)((()=>(buttons=>{const disabledButtons=buttons.reduce(((acc,button)=>{var _a;return acc[button.value]=null!==(_a=button.disabled)&&void 0!==_a&&_a,acc}),{});return disabledButtons.all=Object.values(disabledButtons).some((value=>value)),disabledButtons})(buttons)),[buttons]),onCheckedChange=(0,react.useCallback)((({detail:selectedOptionValue})=>{const newValue=((selectedOptionValue,selectedOptions,allOptions,{multiple,allButton,minItems,maxItems,required})=>{if(!multiple)return selectedOptions.includes(selectedOptionValue)?[]:[selectedOptionValue];const allButtonsSelected=selectedOptions.length===allOptions.length;if(allButton){if("all"===selectedOptionValue)return allButtonsSelected?required||minItems>0?allOptions.slice(0,minItems).map((({value})=>value)):[]:allOptions.map((({value})=>value));if(allButtonsSelected)return[selectedOptionValue];if(selectedOptions.includes(selectedOptionValue)&&selectedOptions.length===minItems)return allOptions.map((({value})=>value))}return selectedOptions.includes(selectedOptionValue)?selectedOptions.length===minItems?selectedOptions:selectedOptions.filter((value=>value!==selectedOptionValue)):selectedOptions.length===maxItems?selectedOptions:[...selectedOptions,selectedOptionValue]})(selectedOptionValue,selectedOptions,allOptions,config),finalValue=(0,isEmpty.A)(newValue)?void 0:newValue;trackFieldChange(id,finalValue),onChange(finalValue)}),[selectedOptions,allOptions,config,trackFieldChange,id,onChange]);return react.createElement(KvToggleButtonGroup,{buttons,disabled,size:(size=componentSize,Object.values(esm.Cz).includes(size)?size:esm.Cz.Small),withRadio:!0===withRadio,disabledButtons,selectedButtons,onCheckedChange,onFocus:()=>markFieldAsTouched(id),onBlur:()=>markFieldAsTouched(id)});var size};var styles$d_ValueLabel="ReadOnlyValueWidget-module_ValueLabel__wMxmG";styleInject('/** HEADINGS **/\n/** LABELS **/\n/** SPANS **/\n/** PARAGRAPHS **/\n/** CODE/CONSOLE **/\n@property --rotation {\n  syntax: "<angle>";\n  initial-value: 0deg;\n  inherits: false;\n}\n@keyframes ReadOnlyValueWidget-module_rotate-border__XdF1C {\n  to {\n    --rotation: 360deg;\n  }\n}\n.ReadOnlyValueWidget-module_ValueLabel__wMxmG {\n  font-family: var(--kv-primary-font, "proxima-nova", sans-serif, "Arial");\n  font-size: 20px;\n  font-weight: 600;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: 30px;\n  letter-spacing: normal;\n  text-transform: none;\n}\n\nbody[mode=light] .ReadOnlyValueWidget-module_ValueLabel__wMxmG {\n  color: var(--kv-neutral-6, #3f3f3f);\n}\nbody[mode=night] .ReadOnlyValueWidget-module_ValueLabel__wMxmG {\n  color: var(--kv-neutral-2, #e5e5e5);\n}');const ReadOnlyValueWidget=({value,options})=>{const{enumOptions}=options,selectedOption=((value,options)=>value&&(null==options?void 0:options.find((opt=>opt.value===value))))(value,enumOptions);return react.createElement(react.Fragment,null,value&&react.createElement("span",{className:styles$d_ValueLabel},(0,get.A)(selectedOption,"label",value)))};function EmailWidget(props){const{options,registry}=props,BaseInputTemplate=getTemplate("BaseInputTemplate",registry,options);return react.createElement(BaseInputTemplate,Object.assign({},props,{type:esm.Y1.Email}))}function DateTimeWidget(props){const{options,registry}=props,BaseInputTemplate=getTemplate("BaseInputTemplate",registry,options),value=utcToLocal(props.value),onChange=(0,react.useCallback)((value=>props.onChange(localToUTC(value))),[props.onChange]);return react.createElement(BaseInputTemplate,Object.assign({},props,{value,onChange,type:esm.Y1.DateTime}))}function DateWidget(props){const{options,registry}=props,BaseInputTemplate=getTemplate("BaseInputTemplate",registry,options);return react.createElement(BaseInputTemplate,Object.assign({},props,{type:esm.Y1.Date}))}const TextareaWidget=({id,uiSchema={},value,placeholder,onChange})=>{const{trackFieldChange,markFieldAsTouched}=useFormState(),{maxCharLength,iconName}=uiSchema,onTextChange=(0,react.useCallback)((({detail:textValue})=>{trackFieldChange(id,textValue),onChange(textValue)}),[onChange,trackFieldChange,id]);return react.createElement(KvTextArea,{maxCharLength,icon:iconName,text:value,placeholder,onTextChange,onBlur:()=>markFieldAsTouched(id),onFocus:()=>markFieldAsTouched(id)})};var styles$c={FileWidgetContainer:"FileWidget-module_FileWidgetContainer__wWGel",FilesInfo:"FileWidget-module_FilesInfo__2rGtb",ActionsContainer:"FileWidget-module_ActionsContainer__IAMy-",FileInfoContainer:"FileWidget-module_FileInfoContainer__44Y1r",FileInfo:"FileWidget-module_FileInfo__vszr1",LeftContent:"FileWidget-module_LeftContent__zH0Gx",FileDetails:"FileWidget-module_FileDetails__j4V0G",Label:"FileWidget-module_Label__YlSXB",FileName:"FileWidget-module_FileName__-hv3b",HasValue:"FileWidget-module_HasValue__AbQpb",HasError:"FileWidget-module_HasError__xpFPb","rotate-border":"FileWidget-module_rotate-border__g-k4m"};styleInject('/** HEADINGS **/\n/** LABELS **/\n/** SPANS **/\n/** PARAGRAPHS **/\n/** CODE/CONSOLE **/\n@property --rotation {\n  syntax: "<angle>";\n  initial-value: 0deg;\n  inherits: false;\n}\n@keyframes FileWidget-module_rotate-border__g-k4m {\n  to {\n    --rotation: 360deg;\n  }\n}\n.FileWidget-module_FileWidgetContainer__wWGel {\n  display: flex;\n  justify-content: space-between;\n  gap: var(--kv-spacing-3x, 12px);\n  align-items: center;\n}\n.FileWidget-module_FileWidgetContainer__wWGel .FileWidget-module_FilesInfo__2rGtb {\n  flex: 1;\n  min-width: 0;\n}\n.FileWidget-module_FileWidgetContainer__wWGel .FileWidget-module_ActionsContainer__IAMy- {\n  display: flex;\n  gap: var(--kv-spacing-2x, 8px);\n  align-items: center;\n}\n.FileWidget-module_FileWidgetContainer__wWGel .FileWidget-module_FileInfoContainer__44Y1r {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: var(--kv-spacing-3x, 12px);\n}\n.FileWidget-module_FileWidgetContainer__wWGel .FileWidget-module_FileInfoContainer__44Y1r .FileWidget-module_FileInfo__vszr1 {\n  display: flex;\n  border-radius: var(--kv-spacing, 4px);\n  background-color: var(--kv-neutral-7, #2a2a2a);\n  padding: var(--kv-spacing-3x, 12px);\n  gap: var(--kv-spacing-2x, 8px);\n  justify-content: space-between;\n}\n.FileWidget-module_FileWidgetContainer__wWGel .FileWidget-module_FileInfoContainer__44Y1r .FileWidget-module_FileInfo__vszr1 .FileWidget-module_LeftContent__zH0Gx {\n  display: flex;\n  flex: 1;\n  min-width: 0;\n  gap: var(--kv-spacing-2x, 8px);\n}\n.FileWidget-module_FileWidgetContainer__wWGel .FileWidget-module_FileInfoContainer__44Y1r .FileWidget-module_FileInfo__vszr1 kv-icon {\n  --icon-color: var(--kv-neutral-5, #707070);\n  --icon-height: 40px;\n  --icon-width: 40px;\n}\n.FileWidget-module_FileWidgetContainer__wWGel .FileWidget-module_FileInfoContainer__44Y1r .FileWidget-module_FileInfo__vszr1 .FileWidget-module_FileDetails__j4V0G {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  min-width: 0;\n}\n.FileWidget-module_FileWidgetContainer__wWGel .FileWidget-module_FileInfoContainer__44Y1r .FileWidget-module_FileInfo__vszr1 .FileWidget-module_FileDetails__j4V0G .FileWidget-module_Label__YlSXB {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-family: var(--kv-primary-font, "proxima-nova", sans-serif, "Arial");\n  font-size: 12px;\n  font-weight: 600;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: 18px;\n  letter-spacing: normal;\n  letter-spacing: 1.5px;\n  text-transform: uppercase;\n  color: var(--kv-neutral-2, #e5e5e5);\n}\n.FileWidget-module_FileWidgetContainer__wWGel .FileWidget-module_FileInfoContainer__44Y1r .FileWidget-module_FileInfo__vszr1 .FileWidget-module_FileDetails__j4V0G .FileWidget-module_FileName__-hv3b {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-family: var(--kv-primary-font, "proxima-nova", sans-serif, "Arial");\n  font-size: 14px;\n  font-weight: 600;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: 21px;\n  letter-spacing: normal;\n  text-transform: none;\n  color: var(--kv-neutral-5, #707070);\n}\n.FileWidget-module_FileWidgetContainer__wWGel .FileWidget-module_FileInfoContainer__44Y1r .FileWidget-module_FileInfo__vszr1.FileWidget-module_HasValue__AbQpb kv-icon {\n  --icon-color: var(--kv-neutral-2, #e5e5e5);\n}\n.FileWidget-module_FileWidgetContainer__wWGel .FileWidget-module_FileInfoContainer__44Y1r .FileWidget-module_FileInfo__vszr1.FileWidget-module_HasValue__AbQpb .FileWidget-module_FileDetails__j4V0G .FileWidget-module_FileName__-hv3b {\n  color: var(--kv-neutral-4, #bebebe);\n}\n.FileWidget-module_FileWidgetContainer__wWGel .FileWidget-module_FileInfoContainer__44Y1r .FileWidget-module_FileInfo__vszr1.FileWidget-module_HasError__xpFPb {\n  border: 1px solid var(--kv-error, #e11900);\n}');const addNameToDataURL=(dataURL,name)=>null===dataURL?null:dataURL.replace(";base64",`;name=${encodeURIComponent(name)};base64`),processFile=file=>{const{name,size,type}=file;return new Promise(((resolve,reject)=>{const reader=new window.FileReader;reader.onerror=reject,reader.onload=event=>{var _a;"string"==typeof(null===(_a=event.target)||void 0===_a?void 0:_a.result)?resolve({dataURL:addNameToDataURL(event.target.result,name),name,size,type}):resolve({dataURL:null,name,size,type})},reader.readAsDataURL(file)}))};function FileActions({fileInfo,onDelete,preview=!1}){const{dataURL,name}=fileInfo;return dataURL?react.createElement("div",{className:styles$c.ActionsContainer},preview&&react.createElement("a",{href:dataURL,download:`${name}`,target:"_blank",rel:"noreferrer"},react.createElement(KvActionButtonIcon,{icon:esm.ib.Download,type:esm._R.Tertiary,size:esm.Cz.Small})),react.createElement(KvActionButtonIcon,{icon:esm.ib.Delete,type:esm._R.Tertiary,size:esm.Cz.Small,onClickButton:()=>onDelete(name)})):null}function FilesInfo({displayLabel,filesInfo=[],preview=!1,hasError=!1,onDelete}){return react.createElement("div",{className:styles$c.FileInfoContainer},filesInfo.map(((fileInfo,key)=>{const{name}=fileInfo;return react.createElement("div",{className:classnames_default()(styles$c.FileInfo,styles$c.HasValue,{[styles$c.HasError]:hasError}),key},react.createElement("div",{className:styles$c.LeftContent},react.createElement(KvIcon,{name:esm.ib.File}),react.createElement("div",{className:styles$c.FileDetails},react.createElement("span",{className:styles$c.Label},displayLabel),react.createElement("span",{className:styles$c.FileName},name))),react.createElement(FileActions,{fileInfo,preview,onDelete}))})),(0,isEmpty.A)(filesInfo)&&react.createElement("div",{className:classnames_default()(styles$c.FileInfo,{[styles$c.HasError]:hasError})},react.createElement("div",{className:styles$c.LeftContent},react.createElement(KvIcon,{name:esm.ib.File}),react.createElement("div",{className:styles$c.FileDetails},react.createElement("span",{className:styles$c.Label},displayLabel),react.createElement("span",{className:styles$c.FileName},"Empty")))))}function FileWidget(props){const{id,disabled,readonly,required,multiple,onChange,value,options,uiSchema,schema,label,name,rawErrors=[]}=props,{trackFieldChange,markFieldAsTouched}=useFormState(),[filesInfo,setFilesInfo]=(0,react.useState)((data=value,(Array.isArray(data)?data:[data]).filter((dataURL=>dataURL)).map((dataURL=>{const{blob,name}=dataURItoBlob(dataURL);return{dataURL,name,size:blob.size,type:blob.type}}))));var data;const displayedLabel=(0,react.useMemo)((()=>(0,get.A)(uiSchema,["ui:title"])||schema.title||label),[uiSchema,schema.title,label]),removeFile=(0,react.useCallback)((filename=>{const newValue=filesInfo.filter((fileInfo=>fileInfo.name!==filename));setFilesInfo(newValue);const finalValue=multiple?newValue.map((fileInfo=>fileInfo.dataURL)):newValue[0];trackFieldChange(id,finalValue),onChange(finalValue)}),[filesInfo,setFilesInfo,onChange,trackFieldChange,id,multiple]),handleChange=(0,react.useCallback)((event=>{var files;event.target.files&&(markFieldAsTouched(id),(files=event.target.files,Promise.all(Array.from(files).map(processFile))).then((filesInfoEvent=>{const newValue=filesInfoEvent.map((fileInfo=>fileInfo.dataURL));let finalValue;multiple?(setFilesInfo(filesInfo.concat(filesInfoEvent)),finalValue=value.concat(newValue)):(setFilesInfo(filesInfoEvent),finalValue=newValue[0]),trackFieldChange(id,finalValue),onChange(finalValue)})))}),[multiple,value,filesInfo,onChange,trackFieldChange,markFieldAsTouched,id]);return react.createElement("div",{className:styles$c.FileWidgetContainer},react.createElement("div",{className:styles$c.FilesInfo},react.createElement(FilesInfo,{filesInfo,displayLabel:displayedLabel,preview:options.filePreview,hasError:!(0,isEmpty.A)(rawErrors),onDelete:removeFile})),react.createElement("div",{className:styles$c.BrowseFilesButton},react.createElement("label",{htmlFor:`file_${name}`},react.createElement(KvActionButtonText,{type:esm._R.Tertiary,size:esm.Cz.Small,text:"Browse File",disabled})),react.createElement("input",{id:`file_${name}`,type:"file",value:"",onInput:handleChange,required:!value&&required,readOnly:readonly,accept:options.accept?String(options.accept):void 0,style:{display:"none"},multiple,onFocus:()=>markFieldAsTouched(id),onBlur:()=>markFieldAsTouched(id)})))}var styles$b_RadioListContainer="RadioListWidget-module_RadioListContainer__KZ7D-",styles$b_Inline="RadioListWidget-module_Inline__-wnwn";styleInject('/** HEADINGS **/\n/** LABELS **/\n/** SPANS **/\n/** PARAGRAPHS **/\n/** CODE/CONSOLE **/\n@property --rotation {\n  syntax: "<angle>";\n  initial-value: 0deg;\n  inherits: false;\n}\n@keyframes RadioListWidget-module_rotate-border__TajXm {\n  to {\n    --rotation: 360deg;\n  }\n}\n.RadioListWidget-module_RadioListContainer__KZ7D- {\n  display: flex;\n  flex-direction: column;\n  gap: var(--kv-spacing-2x, 8px);\n  flex-wrap: wrap;\n  margin-left: var(--kv-spacing, 4px);\n}\n.RadioListWidget-module_RadioListContainer__KZ7D-.RadioListWidget-module_Inline__-wnwn {\n  flex-direction: row;\n}\n.RadioListWidget-module_RadioListContainer__KZ7D- kv-radio-list-item {\n  display: flex;\n  flex: 1;\n}');const RadioListWidget=({id,options,value,disabled,readonly,formContext,onChange})=>{const{trackFieldChange,markFieldAsTouched}=useFormState(),{enumOptions,enumDisabled,inline}=options,inlineMemo=(0,react.useMemo)((()=>Boolean(inline)),[inline]),{allowClearInputs}=formContext,handleChange=(0,react.useCallback)(((optionValue,checked)=>{const newValue=allowClearInputs&&checked?void 0:optionValue;trackFieldChange(id,newValue),onChange(newValue)}),[onChange,allowClearInputs,trackFieldChange,id]);return react.createElement("div",{className:classnames_default()(styles$b_RadioListContainer,{[styles$b_Inline]:inlineMemo})},Array.isArray(enumOptions)&&enumOptions.map(((option,i)=>{const itemDisabled=Array.isArray(enumDisabled)&&-1!==enumDisabled.indexOf(option.value),checked=option.value==value,isDisabled=disabled||itemDisabled||readonly,description=(0,get.A)(option,"schema.description","");return react.createElement(KvRadioListItem,{key:i,optionId:option.label,label:option.label,disabled:isDisabled,checked,description,onOptionClick:_value=>handleChange(option.value,checked),onFocus:()=>markFieldAsTouched(id),onBlur:()=>markFieldAsTouched(id)})})))};var styles$a_DescriptionContainer="DescriptionFieldTemplate-module_DescriptionContainer__nfAnh";styleInject('/** HEADINGS **/\n/** LABELS **/\n/** SPANS **/\n/** PARAGRAPHS **/\n/** CODE/CONSOLE **/\n@property --rotation {\n  syntax: "<angle>";\n  initial-value: 0deg;\n  inherits: false;\n}\n@keyframes DescriptionFieldTemplate-module_rotate-border__U2LFk {\n  to {\n    --rotation: 360deg;\n  }\n}\n.DescriptionFieldTemplate-module_DescriptionContainer__nfAnh {\n  margin-bottom: var(--kv-spacing-2x, 8px);\n}');const DescriptionFieldTemplate=({description})=>(0,isString.A)(description)&&esm.yO.isValidLabel(description)?react.createElement("div",{className:styles$a_DescriptionContainer},react.createElement(KvInfoLabel,{description})):null;var styles$9_TitleContainer="TitleFieldTemplate-module_TitleContainer__E9FTg",styles$9_GroupTitle="TitleFieldTemplate-module_GroupTitle__x4xsJ",styles$9_Required="TitleFieldTemplate-module_Required__rsW0T",styles$9_ToggleTip="TitleFieldTemplate-module_ToggleTip__fA-oV";styleInject('/** HEADINGS **/\n/** LABELS **/\n/** SPANS **/\n/** PARAGRAPHS **/\n/** CODE/CONSOLE **/\n@property --rotation {\n  syntax: "<angle>";\n  initial-value: 0deg;\n  inherits: false;\n}\n@keyframes TitleFieldTemplate-module_rotate-border__pRIKH {\n  to {\n    --rotation: 360deg;\n  }\n}\n.TitleFieldTemplate-module_TitleContainer__E9FTg {\n  margin-bottom: var(--kv-spacing, 4px);\n  display: flex;\n}\n.TitleFieldTemplate-module_TitleContainer__E9FTg kv-info-label::part(title) {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.TitleFieldTemplate-module_TitleContainer__E9FTg kv-tooltip {\n  max-width: 100%;\n}\n.TitleFieldTemplate-module_TitleContainer__E9FTg.TitleFieldTemplate-module_GroupTitle__x4xsJ kv-info-label::part(title) {\n  font-family: var(--kv-primary-font, "proxima-nova", sans-serif, "Arial");\n  font-size: 14px;\n  font-weight: 600;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: 21px;\n  letter-spacing: normal;\n  text-transform: none;\n  color: var(--kv-neutral-2, #e5e5e5);\n  padding-bottom: var(--kv-spacing-3x, 12px);\n}\n.TitleFieldTemplate-module_TitleContainer__E9FTg .TitleFieldTemplate-module_Required__rsW0T {\n  font-family: var(--kv-primary-font, "proxima-nova", sans-serif, "Arial");\n  font-size: 12px;\n  font-weight: 600;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: 18px;\n  letter-spacing: normal;\n  letter-spacing: 1.5px;\n  text-transform: uppercase;\n  color: var(--kv-error, #e11900);\n  margin: 0 var(--kv-spacing, 4px);\n}\n.TitleFieldTemplate-module_TitleContainer__E9FTg .TitleFieldTemplate-module_ToggleTip__fA-oV {\n  margin-left: var(--kv-spacing-2x, 8px);\n}');const TitleFieldTemplate=({title,uiSchema,required,schema})=>{const uiOptions=getUiOptions(uiSchema),titleToShow=(0,get.A)(uiSchema,["ui:title"],title),titleCustomClass=(0,get.A)(uiSchema,["ui:titleCustomClass"]),isGroupTitle="object"===schema.type;return esm.yO.isValidLabel(titleToShow)&&react.createElement("div",{className:classnames_default()(styles$9_TitleContainer,titleCustomClass,{[styles$9_GroupTitle]:isGroupTitle})},required&&react.createElement("span",{className:styles$9_Required},"*"),react.createElement(KvTooltip,{text:titleToShow||"",truncate:!0},react.createElement(KvInfoLabel,{labelTitle:titleToShow||""})),uiOptions.help&&react.createElement(KvToggleTip,{className:styles$9_ToggleTip,text:uiOptions.help,position:esm.gJ.Right},react.createElement(KvIcon,{name:esm.ib.Info,slot:"open-element-slot"})))};var styles$8_ArrayItemContainer="ArrayFieldItemTemplate-module_ArrayItemContainer__L-T4P",styles$8_ItemPrefix="ArrayFieldItemTemplate-module_ItemPrefix__uxoQJ",styles$8_ToolbarContainer="ArrayFieldItemTemplate-module_ToolbarContainer__czLvF",styles$8_FieldsetStyle="ArrayFieldItemTemplate-module_FieldsetStyle__Txxw5";styleInject('/** HEADINGS **/\n/** LABELS **/\n/** SPANS **/\n/** PARAGRAPHS **/\n/** CODE/CONSOLE **/\n@property --rotation {\n  syntax: "<angle>";\n  initial-value: 0deg;\n  inherits: false;\n}\n@keyframes ArrayFieldItemTemplate-module_rotate-border__PMYQt {\n  to {\n    --rotation: 360deg;\n  }\n}\n.ArrayFieldItemTemplate-module_ArrayItemContainer__L-T4P [class*=ArrayFieldTemplate_ArrayFieldTemplate] {\n  border: 1px solid var(--kv-neutral-6, #3f3f3f);\n  border-width: 0 1px;\n  padding: 0 var(--kv-spacing-5x, 20px);\n  margin-left: var(--kv-spacing-2x, 8px);\n}\n\n.ArrayFieldItemTemplate-module_ArrayItemContainer__L-T4P {\n  width: 100%;\n  display: flex;\n  align-items: center;\n}\n.ArrayFieldItemTemplate-module_ArrayItemContainer__L-T4P .ArrayFieldItemTemplate-module_ItemPrefix__uxoQJ {\n  font-family: var(--kv-primary-font, "proxima-nova", sans-serif, "Arial");\n  font-size: 12px;\n  font-weight: 400;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: 18px;\n  letter-spacing: normal;\n  text-transform: none;\n  margin-right: var(--kv-spacing-6x, 24px);\n  white-space: nowrap;\n  text-transform: uppercase;\n}\n.ArrayFieldItemTemplate-module_ArrayItemContainer__L-T4P .ArrayFieldItemTemplate-module_ToolbarContainer__czLvF {\n  display: flex;\n  padding-left: var(--kv-spacing-5x, 20px);\n  gap: var(--kv-spacing, 4px);\n}\n\n.ArrayFieldItemTemplate-module_FieldsetStyle__Txxw5 {\n  padding: var(--kv-spacing-3x, 12px);\n  border-radius: 4px;\n  border: 1px solid var(--kv-neutral-4, #bebebe);\n}\n\nbody[mode=light] .ArrayFieldItemTemplate-module_ArrayItemContainer__L-T4P [class*=ArrayFieldTemplate_ArrayFieldTemplate] {\n  border-color: var(--kv-neutral-2, #e5e5e5);\n}\nbody[mode=light] .ArrayFieldItemTemplate-module_ArrayItemContainer__L-T4P .ArrayFieldItemTemplate-module_ItemPrefix__uxoQJ {\n  color: var(--kv-neutral-6, #3f3f3f);\n}\nbody[mode=night] .ArrayFieldItemTemplate-module_ArrayItemContainer__L-T4P [class*=ArrayFieldTemplate_ArrayFieldTemplate] {\n  border-color: var(--kv-neutral-6, #3f3f3f);\n}\nbody[mode=night] .ArrayFieldItemTemplate-module_ArrayItemContainer__L-T4P .ArrayFieldItemTemplate-module_ItemPrefix__uxoQJ {\n  color: var(--kv-neutral-2, #e5e5e5);\n}');const ArrayFieldItemTemplate=({children,disabled,hasMoveDown,hasMoveUp,hasRemove,hasToolbar,index,onDropIndexClick,onReorderClick,readonly})=>{const fieldset=(0,get.A)(children,["props","uiSchema","ui:fieldset"],!1),itemPrefix=(0,get.A)(children,["props","uiSchema","ui:itemPrefix"]);return react.createElement("div",{className:classnames_default()({[styles$8_FieldsetStyle]:fieldset})},react.createElement("div",{className:styles$8_ArrayItemContainer},itemPrefix&&react.createElement("span",{className:styles$8_ItemPrefix},`${itemPrefix} ${index+1}`),children,hasToolbar&&react.createElement("div",{className:styles$8_ToolbarContainer},(hasMoveUp||hasMoveDown)&&react.createElement(react.Fragment,null,react.createElement(KvActionButtonIcon,{icon:esm.ib.AlignBottom,size:esm.Cz.Large,type:esm._R.Tertiary,tabIndex:-1,disabled:disabled||readonly||!hasMoveDown,onClickButton:onReorderClick(index,index+1)}),react.createElement(KvActionButtonIcon,{icon:esm.ib.AlignTop,size:esm.Cz.Large,type:esm._R.Tertiary,tabIndex:-1,disabled:disabled||readonly||!hasMoveUp,onClickButton:onReorderClick(index,index-1)})),hasRemove&&react.createElement(KvActionButtonIcon,{icon:esm.ib.Delete,size:esm.Cz.Large,type:esm._R.Tertiary,tabIndex:-1,disabled:disabled||readonly,onClickButton:onDropIndexClick(index)}))))};var styles$7_AddButtonContainer="AddButton-module_AddButtonContainer__d3UgZ";styleInject(".AddButton-module_AddButtonContainer__d3UgZ {\n  display: flex;\n  justify-content: end;\n}");var styles$6_ArrayItemList="ArrayFieldTemplate-module_ArrayItemList__-Tb1U",styles$6_ArrayFieldTemplate="ArrayFieldTemplate-module_ArrayFieldTemplate__KSqN0",styles$6_ArrayFieldContainer="ArrayFieldTemplate-module_ArrayFieldContainer__5S-zG";styleInject('/** HEADINGS **/\n/** LABELS **/\n/** SPANS **/\n/** PARAGRAPHS **/\n/** CODE/CONSOLE **/\n@property --rotation {\n  syntax: "<angle>";\n  initial-value: 0deg;\n  inherits: false;\n}\n@keyframes ArrayFieldTemplate-module_rotate-border__I2r-r {\n  to {\n    --rotation: 360deg;\n  }\n}\n.ArrayFieldTemplate-module_ArrayItemList__-Tb1U {\n  display: flex;\n  flex-direction: column;\n  gap: var(--schema-form-fields-y-gap) var(--schema-form-fields-x-gap);\n}\n\n.ArrayFieldTemplate-module_ArrayFieldTemplate__KSqN0 {\n  display: flex;\n}\n.ArrayFieldTemplate-module_ArrayFieldTemplate__KSqN0 .ArrayFieldTemplate-module_ArrayFieldContainer__5S-zG {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n}');const ArrayFieldTemplate=({idSchema,uiSchema,schema,disabled,readonly,items,canAdd,registry,onAddClick})=>{const uiOptions=getUiOptions(uiSchema),ArrayFieldDescriptionTemplate=getTemplate("ArrayFieldDescriptionTemplate",registry,uiOptions),ArrayFieldItemTemplate=getTemplate("ArrayFieldItemTemplate",registry,uiOptions);return react.createElement("div",{className:styles$6_ArrayFieldTemplate},react.createElement("div",{className:styles$6_ArrayFieldContainer},react.createElement(ArrayFieldDescriptionTemplate,{idSchema,description:uiOptions.description||schema.description,schema,uiSchema,registry}),react.createElement("div",{className:styles$6_ArrayItemList,key:`array-item-list-${idSchema.$id}`},items&&items.map((_a=>{var{key}=_a,itemProps=(0,tslib_es6.Tt)(_a,["key"]);return react.createElement(ArrayFieldItemTemplate,Object.assign({key},itemProps))})),canAdd&&(({disabled,readonly,uiSchema,onAddClick})=>{const btnProps={icon:esm.ib.Add,size:esm.Cz.Large,type:esm._R.Tertiary,tabIndex:-1,disabled:disabled||readonly,onClickButton:onAddClick};return uiSchema&&uiSchema["ui:itemPrefix"]?react.createElement(KvActionButtonText,Object.assign({text:`Add ${uiSchema["ui:itemPrefix"]}`},btnProps)):react.createElement("div",{className:styles$7_AddButtonContainer},react.createElement(KvActionButtonIcon,Object.assign({},btnProps)))})({canAdd,disabled,readonly,uiSchema,onAddClick}))))};var styles$5_InputContainer="BaseInputTemplate-module_InputContainer__uRkJx";styleInject(".BaseInputTemplate-module_InputContainer__uRkJx {\n  display: flex;\n  flex-direction: column;\n}\n.BaseInputTemplate-module_InputContainer__uRkJx kv-text-field {\n  --input-width: auto;\n  --input-min-width: auto;\n  --input-max-width: auto;\n}");const INPUT_TYPES={number:esm.Y1.Number,integer:esm.Y1.Number,boolean:esm.Y1.Radio},BaseInputTemplate=({id,placeholder,readonly,disabled,value,onChange,onFocus,onBlur,autofocus,options,schema,rawErrors=[],uiSchema={},formContext,type})=>{var _a,_b;const{trackFieldChange,markFieldAsTouched,isFieldTouched,displayErrors}=useFormState(),_onChange=(0,react.useCallback)((event=>{const newValue=(null==event?void 0:event.detail)?event.detail:options.emptyValue;trackFieldChange(id,newValue),onChange(newValue)}),[onChange,options,trackFieldChange,id]),_onBlur=(0,react.useCallback)((event=>{markFieldAsTouched(id),onBlur(id,event.detail)}),[onBlur,markFieldAsTouched,id]),_onFocus=(0,react.useCallback)((event=>{markFieldAsTouched(id),onFocus(id,event.detail)}),[onFocus,markFieldAsTouched,id]),inputType=(0,react.useMemo)((()=>null!=type?type:(type=>{var _a;return type&&!(0,isArray.A)(type)&&null!==(_a=INPUT_TYPES[type])&&void 0!==_a?_a:esm.Y1.Text})(schema.type)),[type,schema.type]),{componentSize:optionComponentSize,useInputMask,inputMaskRegex,minLength,maxLength,max,min,valuePrefix,badge}=uiSchema,{componentSize=esm.Cz.Large}=formContext,examples=(0,react.useMemo)((()=>schema.examples?schema.examples.concat(schema.default?[schema.default]:[]):void 0),[schema.examples,schema.default]),hasErrors=(isFieldTouched(id)||displayErrors)&&!(0,isEmpty.A)(rawErrors);return react.createElement("div",{className:styles$5_InputContainer},react.createElement(KvTextField,{id,size:null!=optionComponentSize?optionComponentSize:componentSize,examples,inputDisabled:disabled||readonly,inputReadonly:readonly,maxLength:null!==(_a=schema.maxLength)&&void 0!==_a?_a:maxLength,minLength:null!==(_b=schema.minLength)&&void 0!==_b?_b:minLength,min,max,forcedFocus:autofocus,placeholder,type:inputType,state:hasErrors?esm.Ih.Invalid:esm.Ih.Valid,useInputMask,inputMaskRegex,value:value||0===value?value:"",valuePrefix,badge,onTextChange:_onChange,onTextFieldBlur:_onBlur,onTextFieldFocus:_onFocus}))};var styles$4_ErrorListContainer="ErrorListTemplate-module_ErrorListContainer__cBm38";styleInject('/** HEADINGS **/\n/** LABELS **/\n/** SPANS **/\n/** PARAGRAPHS **/\n/** CODE/CONSOLE **/\n@property --rotation {\n  syntax: "<angle>";\n  initial-value: 0deg;\n  inherits: false;\n}\n@keyframes ErrorListTemplate-module_rotate-border__TlJo7 {\n  to {\n    --rotation: 360deg;\n  }\n}\n.ErrorListTemplate-module_ErrorListContainer__cBm38 {\n  border-bottom: 1px solid var(--kv-neutral-6, #3f3f3f);\n  padding: 0 var(--kv-spacing-3x, 12px) var(--kv-spacing-3x, 12px) var(--kv-spacing-2x, 8px);\n  margin-bottom: var(--kv-spacing-3x, 12px);\n}');const ErrorListTemplate=({errors})=>{const errorsHash=errors.reduce(((acc,error)=>error.property?((0,isEmpty.A)(acc[error.property])?acc[error.property]=[`${error.property} ${error.message}`]:acc[error.property].push(`${error.property} ${error.message}`),acc):acc),{});return react.createElement("div",{className:styles$4_ErrorListContainer},react.createElement(KvFormHelpText,{helpText:["ERRORS LIST:"]}),Object.keys(errorsHash).map((fieldName=>react.createElement(KvFormHelpText,{key:fieldName,helpText:errorsHash[fieldName],state:esm.Ih.Invalid}))))};var EApplyDefaults,EDescriptionPosition,styles$3={FieldWrapper:"FieldTemplate-module_FieldWrapper__rlRz-",TopDescription:"FieldTemplate-module_TopDescription__yaHAm","rotate-border":"FieldTemplate-module_rotate-border__2dw5Q"};styleInject('/** HEADINGS **/\n/** LABELS **/\n/** SPANS **/\n/** PARAGRAPHS **/\n/** CODE/CONSOLE **/\n@property --rotation {\n  syntax: "<angle>";\n  initial-value: 0deg;\n  inherits: false;\n}\n@keyframes FieldTemplate-module_rotate-border__2dw5Q {\n  to {\n    --rotation: 360deg;\n  }\n}\n.FieldTemplate-module_FieldWrapper__rlRz- {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.FieldTemplate-module_FieldWrapper__rlRz- .FieldTemplate-module_TopDescription__yaHAm {\n  padding-bottom: var(--kv-spacing-4x, 16px);\n}'),function(EApplyDefaults){EApplyDefaults.All="all",EApplyDefaults.RequiredOnly="requiredOnly",EApplyDefaults.Never="never"}(EApplyDefaults||(EApplyDefaults={})),function(EDescriptionPosition){EDescriptionPosition.Top="top",EDescriptionPosition.Bottom="bottom",EDescriptionPosition.None="none"}(EDescriptionPosition||(EDescriptionPosition={}));const FieldTemplate=props=>{var _a;const{id,children,rawErrors=[],rawDescription,classNames:customClasses,disabled,label,onDropPropertyClick,onKeyChange,readonly,required,schema,uiSchema,registry,formContext}=props,{isFieldTouched,displayErrors}=useFormState(),uiOptions=getUiOptions(uiSchema),TitleFieldTemplate=getTemplate("TitleFieldTemplate",registry,uiOptions),WrapIfAdditionalTemplate=getTemplate("WrapIfAdditionalTemplate",registry,uiOptions),defaultHelperOptions=(0,react.useMemo)((()=>(0,merge.A)(formContext,uiOptions)),[formContext,uiOptions]),displayedHelper=(0,react.useMemo)((()=>function buildDefaultHelperText(uiOptions,defaultValue){if((0,get.A)(uiOptions,["showDefaultValueHelper"],!1)&&!(0,isNil.A)(defaultValue))return`${(0,get.A)(uiOptions,["defaultValueHelperPrefix"],"Default value is: ")}${defaultValue}`}(defaultHelperOptions,schema.default)),[defaultHelperOptions,schema.default]),descriptionPosition=(0,react.useMemo)((()=>{var _a;return null!==(_a=uiOptions.descriptionPosition)&&void 0!==_a?_a:"object"===schema.type?EDescriptionPosition.Top:EDescriptionPosition.Bottom}),[]),title=(0,get.A)(uiSchema,["ui:title"],null!==(_a=schema.title)&&void 0!==_a?_a:label),displayedErrors=isFieldTouched(id)||displayErrors?rawErrors:[];return react.createElement(WrapIfAdditionalTemplate,{classNames:customClasses,disabled,id,label,onDropPropertyClick,onKeyChange,readonly,required,schema,uiSchema,registry},react.createElement("div",{className:styles$3.FieldWrapper},title&&react.createElement(TitleFieldTemplate,{id:`${id}-title`,title,schema,uiSchema,registry,required:required&&"object"!==schema.type}),descriptionPosition===EDescriptionPosition.Bottom&&children,(!(0,isEmpty.A)(displayedErrors)||rawDescription)&&react.createElement("div",{className:classnames_default()({[styles$3.TopDescription]:descriptionPosition===EDescriptionPosition.Top})},react.createElement(KvFormHelpText,{helpText:(0,isEmpty.A)(displayedErrors)?rawDescription:displayedErrors,state:(0,isEmpty.A)(displayedErrors)?esm.Ih.None:esm.Ih.Invalid})),descriptionPosition===EDescriptionPosition.Top&&react.createElement("div",{className:styles$3.WithTopDescription},children),displayedHelper&&react.createElement(KvFormHelpText,{helpText:displayedHelper})))};var styles$2_PropsContainer="ObjectFieldTemplate-module_PropsContainer__BJJoS",styles$2_Inline="ObjectFieldTemplate-module_Inline__-mENJ",styles$2_PropRow="ObjectFieldTemplate-module_PropRow__kA212",styles$2_Hidden="ObjectFieldTemplate-module_Hidden__ad0nA",styles$2_AddButtonContainer="ObjectFieldTemplate-module_AddButtonContainer__2AMKX";styleInject('/** HEADINGS **/\n/** LABELS **/\n/** SPANS **/\n/** PARAGRAPHS **/\n/** CODE/CONSOLE **/\n@property --rotation {\n  syntax: "<angle>";\n  initial-value: 0deg;\n  inherits: false;\n}\n@keyframes ObjectFieldTemplate-module_rotate-border__0u0Eh {\n  to {\n    --rotation: 360deg;\n  }\n}\n.ObjectFieldTemplate-module_PropsContainer__BJJoS {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  max-width: var(--schema-form-max-width);\n  gap: var(--schema-form-fields-y-gap) var(--schema-form-fields-x-gap);\n}\n.ObjectFieldTemplate-module_PropsContainer__BJJoS.ObjectFieldTemplate-module_Inline__-mENJ {\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.ObjectFieldTemplate-module_PropsContainer__BJJoS .ObjectFieldTemplate-module_PropRow__kA212.ObjectFieldTemplate-module_Hidden__ad0nA {\n  display: none;\n}\n.ObjectFieldTemplate-module_PropsContainer__BJJoS .ObjectFieldTemplate-module_AddButtonContainer__2AMKX {\n  width: 100%;\n  display: flex;\n  justify-content: end;\n}');const DEFAULT_INPUT_CONFIG={width:"100%",minWidth:"unset",maxWidth:"unset"},DEFAULT_INPUT_INLINE_CONFIG={width:"250px",minWidth:"unset",maxWidth:"unset"},ObjectFieldTemplate=({properties,uiSchema,schema,formData,onAddClick,disabled,readonly,formContext})=>{const{inputConfig=(0,get.A)(uiSchema,["ui:inline"],!1)?DEFAULT_INPUT_INLINE_CONFIG:DEFAULT_INPUT_CONFIG}=formContext,rowWidth=(0,react.useMemo)((()=>{var _a;return null!==(_a=(0,get.A)(uiSchema,["ui:inputWidth"]))&&void 0!==_a?_a:inputConfig.width}),[uiSchema,inputConfig]),rowMinWidth=(0,react.useMemo)((()=>{var _a;return null!==(_a=(0,get.A)(uiSchema,["ui:inputMinWidth"]))&&void 0!==_a?_a:inputConfig.minWidth}),[uiSchema,inputConfig]),rowMaxWidth=(0,react.useMemo)((()=>{var _a;return null!==(_a=(0,get.A)(uiSchema,["ui:inputMaxWidth"]))&&void 0!==_a?_a:inputConfig.maxWidth}),[uiSchema,inputConfig]),inputWidthProps=(0,react.useMemo)((()=>({width:rowWidth,minWidth:rowMinWidth,maxWidth:rowMaxWidth})),[rowWidth,rowMinWidth,rowMaxWidth]);return react.createElement(react.Fragment,null,react.createElement("div",{className:classnames_default()(styles$2_PropsContainer,{[styles$2_Inline]:(0,get.A)(uiSchema,["ui:inline"],!1)})},properties.map(((element,index)=>react.createElement("div",{key:index,style:Object.assign({},inputWidthProps),className:classnames_default()(styles$2_PropRow,{[styles$2_Hidden]:element.hidden})},element.content))),canExpand(schema,uiSchema,formData)&&react.createElement("div",{className:styles$2_AddButtonContainer},react.createElement(KvActionButtonIcon,{icon:esm.ib.Add,size:esm.Cz.Large,type:esm._R.Primary,tabIndex:-1,disabled:disabled||readonly,onClickButton:onAddClick(schema)}))))};var styles$1_ResetButtonStyle="SubmitButton-module_ResetButtonStyle__GujlM";styleInject('/** HEADINGS **/\n/** LABELS **/\n/** SPANS **/\n/** PARAGRAPHS **/\n/** CODE/CONSOLE **/\n@property --rotation {\n  syntax: "<angle>";\n  initial-value: 0deg;\n  inherits: false;\n}\n@keyframes SubmitButton-module_rotate-border__3pU58 {\n  to {\n    --rotation: 360deg;\n  }\n}\n.SubmitButton-module_ResetButtonStyle__GujlM {\n  border: 0;\n  margin: 0;\n  padding: 0;\n  width: auto;\n  overflow: visible;\n  background: transparent;\n  /* inherit font & color from ancestor */\n  color: inherit;\n  font: inherit;\n  /* Normalize `line-height`. Cannot be changed from `normal` in Firefox 4+. */\n  line-height: normal;\n  /* Corrects font smoothing for webkit */\n  -webkit-font-smoothing: inherit;\n  -moz-osx-font-smoothing: inherit;\n  /* Corrects inability to style clickable `input` types in iOS */\n  appearance: none;\n  outline: none;\n}\n.SubmitButton-module_ResetButtonStyle__GujlM::-moz-focus-inner {\n  border: 0;\n  padding: 0;\n}');const SubmitButton=props=>{const{submitText,norender,props:submitButtonProps}=getSubmitButtonOptions(props.uiSchema);return norender?null:react.createElement("button",{tabIndex:-1,className:styles$1_ResetButtonStyle,type:"submit"},react.createElement(KvActionButtonText,Object.assign({text:submitText||"Submit",size:esm.Cz.Large,type:esm._R.Primary},submitButtonProps)))};var styles_NewKeyContainer="WrapIfAdditionalTemplate-module_NewKeyContainer__Ndstm",styles_InputContainer="WrapIfAdditionalTemplate-module_InputContainer__hXN4i",styles_DeleteButton="WrapIfAdditionalTemplate-module_DeleteButton__jRJqY";styleInject('/** HEADINGS **/\n/** LABELS **/\n/** SPANS **/\n/** PARAGRAPHS **/\n/** CODE/CONSOLE **/\n@property --rotation {\n  syntax: "<angle>";\n  initial-value: 0deg;\n  inherits: false;\n}\n@keyframes WrapIfAdditionalTemplate-module_rotate-border__GYz3a {\n  to {\n    --rotation: 360deg;\n  }\n}\n.WrapIfAdditionalTemplate-module_NewKeyContainer__Ndstm {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n.WrapIfAdditionalTemplate-module_NewKeyContainer__Ndstm .WrapIfAdditionalTemplate-module_InputContainer__hXN4i {\n  width: 100%;\n  padding-right: var(--kv-spacing-5x, 20px);\n}\n.WrapIfAdditionalTemplate-module_NewKeyContainer__Ndstm .WrapIfAdditionalTemplate-module_DeleteButton__jRJqY {\n  padding-top: var(--kv-spacing-6x, 24px);\n}');const WrapIfAdditionalTemplate=({children,disabled,id,label,onDropPropertyClick,onKeyChange,readonly,required,schema})=>{const keyLabel=`${label} Key`;if(!schema.hasOwnProperty("__additional_property"))return children;return react.createElement("div",{key:`${id}-key`,className:styles_NewKeyContainer},react.createElement("div",{className:styles_InputContainer},react.createElement(KvTextField,{id:`${id}-key`,label:keyLabel,inputDisabled:disabled||readonly,inputRequired:required,type:esm.Y1.Text,value:label,onTextFieldBlur:readonly?void 0:value=>onKeyChange(value.detail)})),react.createElement("div",{className:styles_InputContainer},children),react.createElement("div",{className:styles_DeleteButton},react.createElement(KvActionButtonIcon,{icon:esm.ib.Delete,size:esm.Cz.Large,type:esm._R.Danger,tabIndex:-1,disabled:disabled||readonly,onClickButton:onDropPropertyClick(label)})))};const getEnumOptions=(schema,booleanLabels)=>{var _a;if(Array.isArray(schema.oneOf))return optionsList({oneOf:schema.oneOf.reduce(((accumulator,option)=>(client_esm_isObject(option)&&accumulator.push(Object.assign(Object.assign({},option),{title:option.title||booleanLabels[(!!(null==option?void 0:option.const)).toString()]})),accumulator)),[])});const enums=null!==(_a=schema.enum)&&void 0!==_a?_a:[!0,!1];return 2===enums.length&&enums.every(isBoolean.A)?[{value:enums[0],label:booleanLabels[(!!enums[0]).toString()]},{value:enums[1],label:booleanLabels[(!!enums[1]).toString()]}]:void 0},DEFAULT_BOOLEAN_LABELS={true:"True",false:"False"};function BooleanField({schema,name,uiSchema={},idSchema,formData,registry,required,disabled,readonly,autofocus,onChange,onFocus,onBlur}){var _a;const{title}=schema,{widgets,formContext,fields,globalUiOptions}=registry;let Widget=((uiSchema={},widgets)=>{var _a;const{RadioWidget,SelectWidget}=widgets,{"ui:widget":widgetName="radio"}=uiSchema;return"radio"===widgetName?RadioWidget:"select"===widgetName?SelectWidget:"string"==typeof widgetName?null!==(_a=widgets[widgetName])&&void 0!==_a?_a:RadioWidget:"string"==typeof widgetName?widgets[widgetName]:widgetName})(uiSchema,widgets);const _b=getUiOptions(uiSchema,globalUiOptions),{title:uiTitle,label:displayLabel=!0,inline:uiInline,booleanLabels=DEFAULT_BOOLEAN_LABELS}=_b,options=(0,tslib_es6.Tt)(_b,["title","label","inline","booleanLabels"]);let enumOptions=getEnumOptions(schema,booleanLabels);const label=null!==(_a=null!=uiTitle?uiTitle:title)&&void 0!==_a?_a:name;return react.createElement(Widget,{name,id:idSchema&&idSchema.$id,schema,options:Object.assign(Object.assign({},options),{enumOptions,inline:void 0===uiInline||uiInline}),value:formData,required,disabled,readonly,label,onChange,onFocus,onBlur,uiSchema,registry,formContext,autofocus,multiple:!1,placeholder:"",DescriptionField:fields.DescriptionField})}const AJV_CONFIG={allErrors:!0,multipleOfPrecision:8,strict:!1,verbose:!0,discriminator:!1},COLOR_FORMAT_REGEX=/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,DATA_URL_FORMAT_REGEX=/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/;function processRawValidationErrors(validator,rawErrors,formData,schema,customValidate,transformErrors,uiSchema){const{validationError:invalidSchemaError}=rawErrors;let errors=function transformRJSFValidationErrors(errors=[],uiSchema){return errors.map((e=>{var _a;const{instancePath,keyword,params,schemaPath,parentSchema,...rest}=e;let{message=""}=rest,property=instancePath.replace(/\//g,"."),stack=`${property} ${message}`.trim();const rawPropertyNames=[...(null===(_a=params.deps)||void 0===_a?void 0:_a.split(", "))||[],params.missingProperty,params.property].filter((item=>item));if(rawPropertyNames.length>0)rawPropertyNames.forEach((currentProperty=>{const path=property?`${property}.${currentProperty}`:currentProperty;let uiSchemaTitle=getUiOptions((0,get.A)(uiSchema,`${path.replace(/^\./,"")}`)).title;if(void 0===uiSchemaTitle){const uiSchemaPath=schemaPath.replace(/\/properties\//g,"/").split("/").slice(1,-1).concat([currentProperty]);uiSchemaTitle=getUiOptions((0,get.A)(uiSchema,uiSchemaPath)).title}if(uiSchemaTitle)message=message.replace(`'${currentProperty}'`,`'${uiSchemaTitle}'`);else{const parentSchemaTitle=(0,get.A)(parentSchema,["properties",currentProperty,"title"]);parentSchemaTitle&&(message=message.replace(`'${currentProperty}'`,`'${parentSchemaTitle}'`))}})),stack=message;else{const uiSchemaTitle=getUiOptions((0,get.A)(uiSchema,`${property.replace(/^\./,"")}`)).title;if(uiSchemaTitle)stack=`'${uiSchemaTitle}' ${message}`.trim();else{const parentSchemaTitle=null==parentSchema?void 0:parentSchema.title;parentSchemaTitle&&(stack=`'${parentSchemaTitle}' ${message}`.trim())}}return"missingProperty"in params&&(property=property?`${property}.${params.missingProperty}`:params.missingProperty),{name:keyword,property,message,params,stack,schemaPath}}))}(rawErrors.errors,uiSchema);invalidSchemaError&&(errors=[...errors,{stack:invalidSchemaError.message}]),"function"==typeof transformErrors&&(errors=transformErrors(errors,uiSchema));let errorSchema=function toErrorSchema(errors){const builder=new ErrorSchemaBuilder;return errors.length&&errors.forEach((error=>{const{property,message}=error,path="."===property?[]:(0,toPath.A)(property);path.length>0&&""===path[0]&&path.splice(0,1),message&&builder.addErrors(message,path)})),builder.ErrorSchema}(errors);if(invalidSchemaError&&(errorSchema={...errorSchema,$schema:{__errors:[invalidSchemaError.message]}}),"function"!=typeof customValidate)return{errors,errorSchema};const newFormData=getDefaultFormState(validator,schema,formData,schema,!0);return validationDataMerge({errors,errorSchema},unwrapErrorHandler(customValidate(newFormData,createErrorHandler(newFormData),uiSchema)))}class AJV8Validator{constructor(options,localizer){const{additionalMetaSchemas,customFormats,ajvOptionsOverrides,ajvFormatOptions,AjvClass}=options;this.ajv=function createAjvInstance(additionalMetaSchemas,customFormats,ajvOptionsOverrides={},ajvFormatOptions,AjvClass=ajv_default()){const ajv=new AjvClass({...AJV_CONFIG,...ajvOptionsOverrides});return ajvFormatOptions?dist_default()(ajv,ajvFormatOptions):!1!==ajvFormatOptions&&dist_default()(ajv),ajv.addFormat("data-url",DATA_URL_FORMAT_REGEX),ajv.addFormat("color",COLOR_FORMAT_REGEX),ajv.addKeyword("__additional_property"),ajv.addKeyword("__rjsf_additionalProperties"),Array.isArray(additionalMetaSchemas)&&ajv.addMetaSchema(additionalMetaSchemas),(0,isObject.A)(customFormats)&&Object.keys(customFormats).forEach((formatName=>{ajv.addFormat(formatName,customFormats[formatName])})),ajv}(additionalMetaSchemas,customFormats,ajvOptionsOverrides,ajvFormatOptions,AjvClass),this.localizer=localizer}reset(){this.ajv.removeSchema()}toErrorList(errorSchema,fieldPath=[]){return toErrorList(errorSchema,fieldPath)}rawValidation(schema,formData){var _a,_b;let compilationError,compiledValidator,errors;schema.$id&&(compiledValidator=this.ajv.getSchema(schema.$id));try{void 0===compiledValidator&&(compiledValidator=this.ajv.compile(schema)),compiledValidator(formData)}catch(err){compilationError=err}return compiledValidator&&("function"==typeof this.localizer&&((null!==(_a=compiledValidator.errors)&&void 0!==_a?_a:[]).forEach((error=>{var _a;["missingProperty","property"].forEach((key=>{var _a;(null===(_a=error.params)||void 0===_a?void 0:_a[key])&&(error.params[key]=`'${error.params[key]}'`)})),(null===(_a=error.params)||void 0===_a?void 0:_a.deps)&&(error.params.deps=error.params.deps.split(", ").map((v=>`'${v}'`)).join(", "))})),this.localizer(compiledValidator.errors),(null!==(_b=compiledValidator.errors)&&void 0!==_b?_b:[]).forEach((error=>{var _a;["missingProperty","property"].forEach((key=>{var _a;(null===(_a=error.params)||void 0===_a?void 0:_a[key])&&(error.params[key]=error.params[key].slice(1,-1))})),(null===(_a=error.params)||void 0===_a?void 0:_a.deps)&&(error.params.deps=error.params.deps.split(", ").map((v=>v.slice(1,-1))).join(", "))}))),errors=compiledValidator.errors||void 0,compiledValidator.errors=null),{errors,validationError:compilationError}}validateFormData(formData,schema,customValidate,transformErrors,uiSchema){return processRawValidationErrors(this,this.rawValidation(schema,formData),formData,schema,customValidate,transformErrors,uiSchema)}handleSchemaUpdate(rootSchema){var _a,_b;const rootSchemaId=null!==(_a=rootSchema.$id)&&void 0!==_a?_a:"__rjsf_rootSchema";void 0===this.ajv.getSchema(rootSchemaId)?this.ajv.addSchema(rootSchema,rootSchemaId):deepEquals(rootSchema,null===(_b=this.ajv.getSchema(rootSchemaId))||void 0===_b?void 0:_b.schema)||(this.ajv.removeSchema(rootSchemaId),this.ajv.addSchema(rootSchema,rootSchemaId))}isValid(schema,formData,rootSchema){var _a;try{this.handleSchemaUpdate(rootSchema);const schemaWithIdRefPrefix=withIdRefPrefix(schema),schemaId=null!==(_a=schemaWithIdRefPrefix.$id)&&void 0!==_a?_a:function hashForSchema(schema){const allKeys=new Set;return JSON.stringify(schema,((key,value)=>(allKeys.add(key),value))),function hashString(string){let hash=0;for(let i=0;i<string.length;i+=1)hash=(hash<<5)-hash+string.charCodeAt(i),hash|=0;return hash.toString(16)}(JSON.stringify(schema,Array.from(allKeys).sort()))}(schemaWithIdRefPrefix);let compiledValidator;compiledValidator=this.ajv.getSchema(schemaId),void 0===compiledValidator&&(compiledValidator=this.ajv.addSchema(schemaWithIdRefPrefix,schemaId).getSchema(schemaId)||this.ajv.compile(schemaWithIdRefPrefix));return compiledValidator(formData)}catch(e){return console.warn("Error encountered compiling schema:",e),!1}}}function customizeValidator(options={},localizer){return new AJV8Validator(options,localizer)}customizeValidator();const APPLY_DEFAULTS_TO_EXPERIMENTAL_DEFAULT_FORM_OBJECT={[EApplyDefaults.All]:"populateAllDefaults",[EApplyDefaults.RequiredOnly]:"populateRequiredDefaults",[EApplyDefaults.Never]:"skipDefaults"},APPLY_DEFAULTS_TO_EXPERIMENTAL_DEFAULT_FORM_ARRAY={[EApplyDefaults.All]:"all",[EApplyDefaults.RequiredOnly]:"requiredOnly",[EApplyDefaults.Never]:"never"},APPLY_DEFAULTS_TO_EXPERIMENTAL_DEFAULT_FORM_ALL_OFF={[EApplyDefaults.All]:"populateDefaults",[EApplyDefaults.RequiredOnly]:"populateDefaults",[EApplyDefaults.Never]:"skipDefaults"},APPLY_DEFAULTS_TO_EXPERIMENTAL_DEFAULT_FORM_CONST_AS_DEFAULT={[EApplyDefaults.All]:"skipOneOf",[EApplyDefaults.RequiredOnly]:"skipOneOf",[EApplyDefaults.Never]:"never"},normalizeEnums=schema=>{if(!schema||"object"!=typeof schema)return schema;if(Array.isArray(schema.oneOf)&&(schema=>!(!schema||"object"!=typeof schema||!schema.every((item=>item&&Object.keys(item).every((key=>["title","const"].includes(key)))))))(schema.oneOf)){const rest=(0,tslib_es6.Tt)(schema,["oneOf"]);return Object.assign(Object.assign({},rest),{enum:schema.oneOf.map((item=>item.const)),"x-titles":schema.oneOf.map((item=>item.title))})}if(Array.isArray(schema))return schema.map((item=>normalizeEnums(item)));let normalizedSchema=structuredClone(schema);for(const key of Object.keys(normalizedSchema)){const schemaKey=key;normalizedSchema=Object.assign(Object.assign({},normalizedSchema),{[schemaKey]:normalizeEnums(normalizedSchema[schemaKey])})}return normalizedSchema};const cleanUnsupportedSchemaKeys=schema=>(0,tslib_es6.Tt)(schema,["$schema"]),getInitialFormData=(schema,formDataProp,validator=getDefaultValidator(),applyDefaults=EApplyDefaults.All,normalizeSchema=!0)=>{const defaultFormStateBehavior=buildDefaultFormStateBehavior(applyDefaults),cleanedSchema=normalizeSchema?cleanUnsupportedSchemaKeys(schema):schema;return getDefaultFormState(validator,cleanedSchema,formDataProp,cleanedSchema,void 0,defaultFormStateBehavior)},getDefaultValidator=()=>customizeValidator({ajvOptionsOverrides:{$data:!0},ajvFormatOptions:{keywords:!0}}),buildDefaultFormStateBehavior=applyDefaults=>({arrayMinItems:{populate:APPLY_DEFAULTS_TO_EXPERIMENTAL_DEFAULT_FORM_ARRAY[applyDefaults]},emptyObjectFields:APPLY_DEFAULTS_TO_EXPERIMENTAL_DEFAULT_FORM_OBJECT[applyDefaults],allOf:APPLY_DEFAULTS_TO_EXPERIMENTAL_DEFAULT_FORM_ALL_OFF[applyDefaults],mergeDefaultsIntoFormData:"useFormDataIfPresent",constAsDefaults:APPLY_DEFAULTS_TO_EXPERIMENTAL_DEFAULT_FORM_CONST_AS_DEFAULT[applyDefaults]});function generateForm(){return function withTheme(themeProps){return(0,react.forwardRef)((({fields,widgets,templates,...directProps},ref)=>(fields={...themeProps?.fields,...fields},widgets={...themeProps?.widgets,...widgets},templates={...themeProps?.templates,...templates,ButtonTemplates:{...themeProps?.templates?.ButtonTemplates,...templates?.ButtonTemplates}},(0,jsx_runtime.jsx)(Form,{...themeProps,...directProps,fields,widgets,templates,ref}))))}(function generateTheme(){return{fields:{BooleanField},templates:{FieldTemplate,ObjectFieldTemplate,BaseInputTemplate,ArrayFieldTemplate,ArrayFieldItemTemplate,ErrorListTemplate,WrapIfAdditionalTemplate,DescriptionFieldTemplate,TitleFieldTemplate,ButtonTemplates:{SubmitButton}},widgets:{RadioWidget,RadioListWidget,SelectWidget,CheckboxesWidget,readOnlyValue:ReadOnlyValueWidget,ReadOnlyValueWidget,EmailWidget,DateTimeWidget,DateWidget,TextareaWidget,FileWidget}}}())}function CustomForm(_a,ref){var{children}=_a,otherProps=(0,tslib_es6.Tt)(_a,["children"]);const ThemedForm=(0,react.useMemo)((()=>generateForm()),[]);return react.createElement(ThemedForm,Object.assign({},otherProps,{ref}),children)}const CustomFormWithRef=(0,react.memo)((0,react.forwardRef)(CustomForm),((previousProps,nextProps)=>deepEquals(previousProps,nextProps)));function KvSchemaForm(_a){var{customClass,liveValidate,formData:formDataProp,submittedData,uiSchema={},allowDiscardChanges,allowResetToDefaults,onChange,validator:validatorProp,formReference,disabled,applyDefaults=EApplyDefaults.All,schema:schemaProp,omitExtraData=!0,liveOmit=!0,displayErrors,showErrorsSwitch=!1}=_a,otherProps=(0,tslib_es6.Tt)(_a,["customClass","liveValidate","formData","submittedData","uiSchema","allowDiscardChanges","allowResetToDefaults","onChange","validator","formReference","disabled","applyDefaults","schema","omitExtraData","liveOmit","displayErrors","showErrorsSwitch"]);const[isValid,setValid]=(0,react.useState)(!liveValidate),[isFormSubmitted,setFormSubmitted]=(0,react.useState)(!1),experimental_defaultFormStateBehavior=(0,react.useMemo)((()=>buildDefaultFormStateBehavior(applyDefaults)),[applyDefaults]),formValidator=(0,react.useMemo)((()=>null!=validatorProp?validatorProp:getDefaultValidator()),[validatorProp]),schema=(0,react.useMemo)((()=>function normalizeSchema(schema){return normalizeEnums(cleanUnsupportedSchemaKeys(schema))}(schemaProp)),[schemaProp]),formData=(0,react.useMemo)((()=>(0,cloneDeep.A)(getInitialFormData(schema,formDataProp,formValidator,applyDefaults,!1))),[formValidator,schema,formDataProp,applyDefaults]),[hasChanges,setHasChanges]=(0,react.useState)(!(0,isEqualWith.A)(formData,submittedData||{})),[isShowingAllErrors,setShowingAllErrors]=(0,react.useState)(!1),formRef=null!=formReference?formReference:(0,react.useRef)(null),fieldTemplate=useFieldTemplateElement(formRef),{scrollTop}=useScroll(fieldTemplate),isScrolling=(0,react.useMemo)((()=>scrollTop-SCROLL_OFFSET>0),[scrollTop]),{submitText,norender,props:submitButtonProps}=getSubmitButtonOptions(uiSchema),hasFooter=(0,react.useMemo)((()=>allowDiscardChanges||allowResetToDefaults||!norender),[allowDiscardChanges,norender]),defaults=(0,react.useMemo)((()=>createSchemaUtils(formValidator,schema).getDefaultFormState(schema)),[formValidator,schema]),[hasDefaults,setHasDefaults]=(0,react.useState)(!(0,isEmpty.A)(defaults)&&!(0,isEqualWith.A)(defaults,formData||{})&&!(0,isEqualWith.A)(defaults,submittedData||{})),onFormChange=(0,react.useCallback)(((data,id)=>{const{formData:dataFormData={},errors}=data,hasNewChanges=!(0,isEqualWith.A)(dataFormData,submittedData);setHasChanges(hasNewChanges),setValid(!liveValidate||hasNewChanges&&(0,isEmpty.A)(errors)),null==onChange||onChange(data,id)}),[submittedData,onChange,setValid,setHasChanges]),themedProps=Object.assign(Object.assign({disabled,liveValidate,schema},otherProps),{onChange:onFormChange,uiSchema:Object.assign(Object.assign({},uiSchema),{"ui:submitButtonOptions":{props:{disabled:!1},norender:!0,submitText:""}}),formContext:Object.assign(Object.assign({},otherProps.formContext),uiSchema["ui:options"]),formData,validator:formValidator,experimental_defaultFormStateBehavior});return(0,react.useEffect)((()=>{const hasNewChanges=!(0,isEqualWith.A)(formData,submittedData||{});setHasChanges(hasNewChanges),setValid(!liveValidate||hasNewChanges&&isValid)}),[submittedData]),(0,react.useEffect)((()=>{const hasDefaultsToApply=!(0,isEmpty.A)(defaults)&&!(0,isEqualWith.A)(defaults,formData||{});setHasDefaults(hasDefaultsToApply)}),[defaults,formData,setHasDefaults]),react.createElement(FormStateProvider,{initialFormData:formData,displayErrors:isFormSubmitted||displayErrors||isShowingAllErrors},react.createElement("div",{className:classnames_default()(styles$g.FormContainer,customClass)},showErrorsSwitch&&react.createElement("div",{className:styles$g.Action},react.createElement(KvSwitchButton,{checked:isShowingAllErrors,onSwitchChange:({detail:newValue})=>setShowingAllErrors(newValue),size:esm.Cz.Small}),react.createElement("div",{className:styles$g.Text},"Show All Errors")),react.createElement(CustomFormWithRef,Object.assign({ref:formRef},themedProps)),hasFooter&&react.createElement("div",{className:classnames_default()(styles$g.FormFooter,{[styles$g.Scrolling]:isScrolling})},react.createElement("div",{className:styles$g.LeftFooter},allowResetToDefaults&&react.createElement(KvActionButtonText,{text:"Reset to Default",disabled:disabled||!hasDefaults,size:esm.Cz.Large,type:esm._R.Ghost,onClickButton:()=>{formRef.current&&onFormChange(Object.assign(Object.assign({},formRef.current.state),{formData:defaults}))}})),react.createElement("div",{className:styles$g.RightFooter},allowDiscardChanges&&react.createElement(KvActionButtonText,{text:"Discard Changes",disabled:disabled||!hasChanges,size:esm.Cz.Large,type:esm._R.Tertiary,onClickButton:()=>{setValid(!liveValidate),setHasChanges(!1),null==onChange||onChange({formData:submittedData})}}),!norender&&react.createElement(KvTooltip,{text:null==submitButtonProps?void 0:submitButtonProps.tooltipText,position:null==submitButtonProps?void 0:submitButtonProps.tooltipPosition},react.createElement(KvActionButtonText,{text:submitText||"Save",disabled:disabled||!isValid||(null==submitButtonProps?void 0:submitButtonProps.disabled),size:esm.Cz.Large,type:esm._R.Primary,onClickButton:event=>{var _a;setFormSubmitted(!0),(null==formRef?void 0:formRef.current)&&(null===(_a=otherProps.onSubmit)||void 0===_a||_a.call(otherProps,formRef.current.state,event))}}))))))}const DEFAULT_MODAL_ROOT_ID="modal-root";function useModal(initialState=!1){const[isOpen,setOpen]=(0,react.useState)(initialState);return{isOpen,open:(0,react.useCallback)((()=>setOpen(!0)),[]),close:(0,react.useCallback)((()=>setOpen(!1)),[])}}function ModalOverlay(_a){var{rootId=DEFAULT_MODAL_ROOT_ID,isOpen}=_a,otherProps=(0,tslib_es6.Tt)(_a,["rootId","isOpen"]);return isOpen?react_dom.createPortal(react.createElement(KvModal,Object.assign({},otherProps)),document.getElementById(rootId)):null}var ECodeEditorTheme;!function(ECodeEditorTheme){ECodeEditorTheme.Dark="vs-dark",ECodeEditorTheme.Light="light",ECodeEditorTheme.Custom="custom"}(ECodeEditorTheme||(ECodeEditorTheme={}));const DEFAULT_CODE_EDITOR_THEME=ECodeEditorTheme.Custom,KELVIN_CODE_EDITOR_THEME={base:"vs-dark",inherit:!0,rules:[],colors:{"editor.background":"#202020","editorGutter.background":"#2A2A2A"}},getEditorOptions=customOptions=>Object.assign({fontFamily:"Inconsolata",fontSize:14,wordWrap:"on",renderLineHighlight:"none",scrollBeyondLastLine:!1,automaticLayout:!0,readOnly:!1,padding:{top:12},scrollbar:{useShadows:!1,verticalScrollbarSize:6},minimap:{enabled:!1},guides:{indentation:!1,highlightActiveBracketPair:!1,bracketPairs:!1}},customOptions||{}),CodeEditorLoader=()=>react.createElement(KvLoader,{isLoading:!0}),useLoadMonacoEditorStyle=(options,customTheme)=>{const monaco=(0,react_dist.dJ)(),{isFontLoaded,loadFont}=(({fontFamily,fontSize})=>{const fontName=(0,react.useMemo)((()=>`${fontSize}px ${fontFamily}`),[fontFamily,fontSize]),[isFontLoaded,setFontLoaded]=(0,react.useState)((()=>document.fonts.check(fontName))),checkFont=(0,react.useCallback)((()=>document.fonts.check(fontName)),[fontName]),loadFont=(0,react.useCallback)((()=>{isFontLoaded||document.fonts.load(fontName).then((()=>setFontLoaded(!0))).catch((()=>{throw setFontLoaded(!1),new Error("Font was not found, make sure the font you're trying to use is correctly imported in your project")}))}),[fontName]);return{isFontLoaded,checkFont,loadFont}})((({fontFamily,fontSize})=>({fontFamily:fontFamily||'Menlo, Monaco, "Courier New", monospace',fontSize:fontSize||12}))(options)),hasLoaded=(0,react.useMemo)((()=>monaco&&isFontLoaded),[monaco,isFontLoaded]),defineCustomTheme=(0,react.useCallback)((()=>{monaco&&customTheme&&monaco.editor.defineTheme(ECodeEditorTheme.Custom,customTheme)}),[customTheme,monaco]);return(0,react.useEffect)((()=>{loadFont(),defineCustomTheme()}),[loadFont,defineCustomTheme]),hasLoaded},Component$1=({forwardedRef,instanceRef,code,language="yaml",theme=DEFAULT_CODE_EDITOR_THEME,customTheme=KELVIN_CODE_EDITOR_THEME,customOptions,LoadingComponent=CodeEditorLoader,onChange})=>{const options=(0,react.useMemo)((()=>getEditorOptions(customOptions)),[customOptions]),hasLoaded=useLoadMonacoEditorStyle(options,customTheme),onTextChange=(0,react.useCallback)((value=>null==onChange?void 0:onChange(value)),[onChange]);return hasLoaded?react.createElement(react_dist.Ay,{language,theme,options,loading:react.createElement(LoadingComponent,null),value:code,onChange:onTextChange,onMount:(editor,instance)=>{"function"==typeof forwardedRef?forwardedRef(editor):forwardedRef&&(forwardedRef.current=editor),"function"==typeof instanceRef?instanceRef(instance):instanceRef&&(instanceRef.current=instance)}}):react.createElement(LoadingComponent,null)},KvCodeEditor=(0,react.forwardRef)((function CodeEditorWithRef(props,ref){return react.createElement(Component$1,Object.assign({},props,{forwardedRef:ref}))})),Component=({forwardedRef,instanceRef,originalCode,modifiedCode,language="yaml",theme=DEFAULT_CODE_EDITOR_THEME,customTheme=KELVIN_CODE_EDITOR_THEME,customOptions,LoadingComponent=CodeEditorLoader,onChange})=>{const options=(0,react.useMemo)((()=>getEditorOptions(customOptions)),[customOptions]),hasLoaded=useLoadMonacoEditorStyle(options,customTheme),onTextChange=(0,react.useCallback)((value=>null==onChange?void 0:onChange(value)),[onChange]),handleEditorMount=(0,react.useCallback)(((editor,instance)=>{const modifiedEditor=editor.getModifiedEditor();modifiedEditor.onDidChangeModelContent((()=>{onTextChange(modifiedEditor.getValue())})),"function"==typeof forwardedRef?forwardedRef(modifiedEditor):forwardedRef&&(forwardedRef.current=modifiedEditor),"function"==typeof instanceRef?instanceRef(instance):instanceRef&&(instanceRef.current=instance)}),[]);return hasLoaded?react.createElement(react_dist.zC,{onMount:handleEditorMount,original:originalCode,modified:modifiedCode,language,theme,options,loading:react.createElement(LoadingComponent,null)}):react.createElement(LoadingComponent,null)},KvCodeDiffEditor=(0,react.forwardRef)((function CodeEditorWithRef(props,ref){return react.createElement(Component,Object.assign({},props,{forwardedRef:ref}))}));Component.__docgenInfo={description:"",methods:[],displayName:"Component",props:{language:{defaultValue:{value:"'yaml'",computed:!1},required:!1},theme:{defaultValue:{value:"ECodeEditorTheme.Custom",computed:!0},required:!1},customTheme:{defaultValue:{value:"{\n    base: 'vs-dark',\n    inherit: true,\n    rules: [],\n    colors: {\n        'editor.background': '#202020',\n        'editorGutter.background': '#2A2A2A'\n    }\n}",computed:!1},required:!1},LoadingComponent:{defaultValue:{value:"() => React.createElement(KvLoader, { isLoading: true })",computed:!1},required:!1}}},CustomForm.__docgenInfo={description:"",methods:[],displayName:"CustomForm"},KvCodeDiffEditor.__docgenInfo={description:"",methods:[],displayName:"KvCodeDiffEditor"},KvCodeEditor.__docgenInfo={description:"",methods:[],displayName:"KvCodeEditor"},KvSchemaForm.__docgenInfo={description:"",methods:[],displayName:"KvSchemaForm"}}}]);