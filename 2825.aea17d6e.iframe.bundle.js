"use strict";(self.webpackChunk_kelvininc_react_storybook=self.webpackChunk_kelvininc_react_storybook||[]).push([[2825],{"../../packages/ui-components/dist/esm/kv-multi-select-dropdown.entry.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{kv_multi_select_dropdown:()=>KvMultiSelectDropdown});var _index_DSUH1AMU_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../packages/ui-components/dist/esm/index-DSUH1AMU.js"),_select_helper_DdZHKJg1_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../packages/ui-components/dist/esm/select.helper-DdZHKJg1.js"),_utils_BKHDeunw_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../packages/ui-components/dist/esm/utils-BKHDeunw.js"),_css_class_helper_DKOxy79t_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../packages/ui-components/dist/esm/css-class.helper-DKOxy79t.js"),_config_BnBnZdyg_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../packages/ui-components/dist/esm/config-BnBnZdyg.js"),_merge_uvn7Q6Uf_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../packages/ui-components/dist/esm/merge-uvn7Q6Uf.js");__webpack_require__("../../packages/ui-components/dist/esm/string.helper-BMAMF_sW.js"),__webpack_require__("../../packages/ui-components/dist/esm/isEmpty-BAGi1PqI.js"),__webpack_require__("../../packages/ui-components/dist/esm/_Set-B7Zkvu4X.js"),__webpack_require__("../../packages/ui-components/dist/esm/_Map-B6Xd0L4K.js"),__webpack_require__("../../packages/ui-components/dist/esm/isObject-Dkd2PDJ-.js"),__webpack_require__("../../packages/ui-components/dist/esm/_baseMerge-CgbDsiSj.js"),__webpack_require__("../../packages/ui-components/dist/esm/_MapCache-nTWrGhJJ.js");const KvMultiSelectDropdown=class{constructor(hostRef){(0,_index_DSUH1AMU_js__WEBPACK_IMPORTED_MODULE_0__.H)(this,hostRef),this.optionsSelected=(0,_index_DSUH1AMU_js__WEBPACK_IMPORTED_MODULE_0__.K)(this,"optionsSelected",7),this.searchChange=(0,_index_DSUH1AMU_js__WEBPACK_IMPORTED_MODULE_0__.K)(this,"searchChange",7),this.clearSelection=(0,_index_DSUH1AMU_js__WEBPACK_IMPORTED_MODULE_0__.K)(this,"clearSelection",7),this.selectAll=(0,_index_DSUH1AMU_js__WEBPACK_IMPORTED_MODULE_0__.K)(this,"selectAll",7),this.dismiss=(0,_index_DSUH1AMU_js__WEBPACK_IMPORTED_MODULE_0__.K)(this,"dismiss",7),this.clickOutside=(0,_index_DSUH1AMU_js__WEBPACK_IMPORTED_MODULE_0__.K)(this,"clickOutside",7),this.openStateChange=(0,_index_DSUH1AMU_js__WEBPACK_IMPORTED_MODULE_0__.K)(this,"openStateChange",3),this.loading=!1,this.searchable=!0,this.selectionClearable=!0,this.helpText=[],this.options={},this.selectedOptions={},this.inputSize=_index_DSUH1AMU_js__WEBPACK_IMPORTED_MODULE_0__.a.Large,this.customClass="",this.selectionAll=!0,this.counter=!0,this.minSearchOptions=15,this.shortcuts=!1,this.clickOutsideClose=!0,this.actionElement=null,this.zIndex=_config_BnBnZdyg_js__WEBPACK_IMPORTED_MODULE_4__.a,this.autoFocus=!0,this.hideBadge=!1,this._badgeLabel=this.badge,this._isOpen=!1,this.onOptionsSelected=({detail:newOptions})=>{this.optionsSelected.emit(newOptions)},this.onSearchChange=({detail:searchValue})=>{this.setSearch(searchValue)},this.onClearSelection=event=>{event.stopPropagation(),this.clearSelection.emit(),this.calculateLabelValue()},this.onSelectAll=event=>{event.stopPropagation(),this.selectAll.emit(),this.calculateLabelValue()},this.onDismiss=()=>{this.setOpenState(!1),this.dismiss.emit()},this.onOpenStateChange=({detail:state})=>{this.setOpenState(state)},this.setOpenState=state=>{state?this.autoFocus&&this.focusSearchInput():this.setSearch(""),this.clearHighlightedOption(),this._isOpen=state},this.setSearch=searchTerm=>{this._searchValue=searchTerm,this.searchChange.emit(searchTerm)},this.clearHighlightedOption=()=>{var _a;null===(_a=this.selectRef)||void 0===_a||_a.clearHighlightedOption()},this.calculateLabelValue=()=>{var _a;(null===(_a=this.displayValue)||void 0===_a?void 0:_a.length)?this._selectionDisplayValue=this.displayValue:this._selectionDisplayValue=((options={},selectedOptions={})=>{const[firstOption]=Object.values((0,_select_helper_DdZHKJg1_js__WEBPACK_IMPORTED_MODULE_1__.g)(options,selectedOptions));return null==firstOption?void 0:firstOption.label})(this.options,this.selectedOptions)},this.calculateBadgeValue=()=>{var _a;(null===(_a=this.badge)||void 0===_a?void 0:_a.length)?this._badgeLabel=this.badge:this._badgeLabel=((selectedOptions={})=>{const selectedOptionsCount=Object.keys(selectedOptions).filter((key=>selectedOptions[key])).length;if(!(selectedOptionsCount<2))return"+"+(selectedOptionsCount-1)})(this.selectedOptions)},this.focusSearchInput=()=>{setTimeout((()=>{var _a;return null===(_a=this.selectRef)||void 0===_a?void 0:_a.focusSearch()}))}}badgeChangeHandler(){this.calculateBadgeValue()}labelValueHandler(){this.calculateLabelValue(),this.calculateBadgeValue()}async focusSearch(){var _a;null===(_a=this.selectRef)||void 0===_a||_a.focusSearch()}componentWillLoad(){this.calculateLabelValue(),this.calculateBadgeValue()}getMaxHeight(){var _a;const maxHeight=(0,_utils_BKHDeunw_js__WEBPACK_IMPORTED_MODULE_2__.a)(this.el,"--dropdown-max-height");return null!==(_a=this.maxHeight)&&void 0!==_a?_a:maxHeight}getMinHeight(){var _a;const minHeight=(0,_utils_BKHDeunw_js__WEBPACK_IMPORTED_MODULE_2__.a)(this.el,"--dropdown-min-height");return null!==(_a=this.minHeight)&&void 0!==_a?_a:minHeight}getMaxWidth(){var _a;const maxWidth=(0,_utils_BKHDeunw_js__WEBPACK_IMPORTED_MODULE_2__.a)(this.el,"--dropdown-max-width");return null!==(_a=this.maxWidth)&&void 0!==_a?_a:maxWidth}getMinWidth(){var _a;const minWidth=(0,_utils_BKHDeunw_js__WEBPACK_IMPORTED_MODULE_2__.a)(this.el,"--dropdown-min-width");return null!==(_a=this.minWidth)&&void 0!==_a?_a:minWidth}getInputConfig(){return(0,_merge_uvn7Q6Uf_js__WEBPACK_IMPORTED_MODULE_5__.m)({},this.inputConfig,{label:this.label,value:this._selectionDisplayValue,valuePrefix:this.displayPrefix,loading:this.loading,icon:this.icon,inputDisabled:this.disabled,inputRequired:this.required,placeholder:this.placeholder,state:this.errorState,helpText:this.helpText,size:this.inputSize,badge:this._badgeLabel,hideBadge:this.hideBadge})}connectedCallback(){this.autoFocus&&this.focusSearchInput()}render(){return(0,_index_DSUH1AMU_js__WEBPACK_IMPORTED_MODULE_0__.I)(_index_DSUH1AMU_js__WEBPACK_IMPORTED_MODULE_0__.J,{key:"9d994cbd18dc0e4b8466231e874f341b65aaeb86"},(0,_index_DSUH1AMU_js__WEBPACK_IMPORTED_MODULE_0__.I)("kv-dropdown",{key:"f519e7333d32832fcb47caba5a260cda55c41212",inputConfig:this.getInputConfig(),isOpen:this._isOpen,onOpenStateChange:this.onOpenStateChange,disabled:this.disabled,options:this.dropdownOptions,clickOutsideClose:this.clickOutsideClose,actionElement:this.actionElement,zIndex:this.zIndex},(0,_index_DSUH1AMU_js__WEBPACK_IMPORTED_MODULE_0__.I)("slot",{key:"64d9992daf4cc0b4699d39212fada6f55f2d5327",name:"dropdown-action",slot:"dropdown-action"}),(0,_index_DSUH1AMU_js__WEBPACK_IMPORTED_MODULE_0__.I)("div",{key:"23040d1c783ed245e6c3321ded39811bc4e44195",class:(0,_css_class_helper_DKOxy79t_js__WEBPACK_IMPORTED_MODULE_3__.g)(this.customClass)},(0,_index_DSUH1AMU_js__WEBPACK_IMPORTED_MODULE_0__.I)("kv-select-multi-options",{key:"abbb6ba625d1c497dcc4d2b230c0f6a293605093",ref:element=>this.selectRef=element,options:this.options,filteredOptions:this.filteredOptions,selectedOptions:this.selectedOptions,noDataAvailableConfig:this.noDataAvailableConfig,noResultsFoundConfig:this.noResultsFoundConfig,searchable:this.searchable,minSearchOptions:this.minSearchOptions,searchValue:this._searchValue,selectionClearable:this.selectionClearable,clearSelectionLabel:this.clearSelectionLabel,selectionAll:this.selectionAll,selectAllLabel:this.selectAllLabel,searchPlaceholder:this.searchPlaceholder,maxHeight:this.getMaxHeight(),minHeight:this.getMinHeight(),maxWidth:this.getMaxWidth(),minWidth:this.getMinWidth(),counter:this.counter,shortcuts:this._isOpen&&this.shortcuts,onSearchChange:this.onSearchChange,onClearSelection:this.onClearSelection,onOptionsSelected:this.onOptionsSelected,onSelectAll:this.onSelectAll,onDismiss:this.onDismiss,exportparts:"select"},(0,_index_DSUH1AMU_js__WEBPACK_IMPORTED_MODULE_0__.I)("slot",{key:"a1248f57be3d2b991578462512dc4776b0032b1b",name:"select-header-actions",slot:"select-header-actions"}),(0,_index_DSUH1AMU_js__WEBPACK_IMPORTED_MODULE_0__.I)("slot",{key:"42f099d43161cddc796383fb14e7e35c9eaa819c",name:"select-header-label",slot:"select-header-label"}),(0,_index_DSUH1AMU_js__WEBPACK_IMPORTED_MODULE_0__.I)("slot",{key:"a01fb80f6987df52133dee7195b336359061a902",name:"no-data-available",slot:"no-data-available"}),(0,_index_DSUH1AMU_js__WEBPACK_IMPORTED_MODULE_0__.I)("slot",{key:"8676a849d2cc278dd9f1e91cc1928787137a1294",name:"no-results-found",slot:"no-results-found"}),(0,_index_DSUH1AMU_js__WEBPACK_IMPORTED_MODULE_0__.I)("slot",{key:"c6bdd0c5a0ffec2fbbfbed02bdc0d7fea0f0517a",name:"select-footer",slot:"select-footer"})))))}get el(){return(0,_index_DSUH1AMU_js__WEBPACK_IMPORTED_MODULE_0__.M)(this)}static get watchers(){return{badge:["badgeChangeHandler"],options:["labelValueHandler"],selectedOptions:["labelValueHandler"],displayValue:["labelValueHandler"]}}};KvMultiSelectDropdown.style='@property --rotation{syntax:"<angle>";initial-value:0deg;inherits:false}@keyframes rotate-border{to{--rotation:360deg}}:host{--dropdown-max-height:400px;--dropdown-min-height:auto;--dropdown-max-width:auto;--dropdown-min-width:max-content}kv-dropdown[disabled=true]{pointer-events:none}'},"../../packages/ui-components/dist/esm/merge-uvn7Q6Uf.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m:()=>merge});var _baseMerge_CgbDsiSj_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../packages/ui-components/dist/esm/_baseMerge-CgbDsiSj.js"),merge=(0,_baseMerge_CgbDsiSj_js__WEBPACK_IMPORTED_MODULE_0__.c)((function(object,source,srcIndex){(0,_baseMerge_CgbDsiSj_js__WEBPACK_IMPORTED_MODULE_0__.b)(object,source,srcIndex)}))},"../../packages/ui-components/dist/esm/utils-BKHDeunw.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>getCssStyle,b:()=>getCollapsedElement,g:()=>getConfig});var _config_BnBnZdyg_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../packages/ui-components/dist/esm/config-BnBnZdyg.js"),_isNil_DjSNdVAB_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../packages/ui-components/dist/esm/isNil-DjSNdVAB.js");const getConfig=()=>{if("undefined"!=typeof window){const KvUiComponents=window.KvUiComponents;if(!(0,_isNil_DjSNdVAB_js__WEBPACK_IMPORTED_MODULE_1__.i)(KvUiComponents)&&!(0,_isNil_DjSNdVAB_js__WEBPACK_IMPORTED_MODULE_1__.i)(KvUiComponents.config))return KvUiComponents.config}return _config_BnBnZdyg_js__WEBPACK_IMPORTED_MODULE_0__.D},getCollapsedElement=elements=>{var _a;if(0===elements.length)return;const[firstElement,...siblings]=elements;return isOverflowEllipsis(firstElement)?firstElement:null!==(_a=getCollapsedElement(Array.from(firstElement.childNodes)))&&void 0!==_a?_a:getCollapsedElement(siblings)},isOverflowEllipsis=element=>!isNodeText(element)&&!isNodeComment(element)&&"ellipsis"===getCssStyle(element,"text-overflow"),isNodeText=element=>"#text"===element.nodeName,isNodeComment=element=>"#comment"===element.nodeName,getCssStyle=(element,prop)=>window.getComputedStyle(element,null).getPropertyValue(prop)}}]);